!function(t){function e(t,e,n){var p=0,l=[0],h="",r=null;if("UTF8"!==(h=n||"UTF8")&&"UTF16"!==h)throw"encoding must be UTF8 or UTF16";if("HEX"===e){if(0!=t.length%2)throw"srcString of HEX type must be in byte increments";r=d(t),p=r.binLen,l=r.value}else if("ASCII"===e||"TEXT"===e)r=b(t,h),p=r.binLen,l=r.value;else{if("B64"!==e)throw"inputFormat must be HEX, TEXT, ASCII, or B64";r=v(t),p=r.binLen,l=r.value}this.getHash=function(t,e,n,r){var o,i=null,u=l.slice(),a=p;if(3===arguments.length?"number"!=typeof n&&(r=n,n=1):2===arguments.length&&(n=1),n!==parseInt(n,10)||n<1)throw"numRounds must a integer >= 1";switch(e){case"HEX":i=g;break;case"B64":i=m;break;default:throw"format must be HEX or B64"}if("SHA-224"===t)for(o=0;o<n;o++)u=A(u,a,t),a=224;else{if("SHA-256"!==t)throw"Chosen SHA variant is not supported";for(o=0;o<n;o++)u=A(u,a,t),a=256}return i(u,H(r))},this.getHMAC=function(t,e,n,r,o){var i,u,a,f,s=[],c=[];switch(i=null,r){case"HEX":r=g;break;case"B64":r=m;break;default:throw"outputFormat must be HEX or B64"}if("SHA-224"===n)u=64,f=224;else{if("SHA-256"!==n)throw"Chosen SHA variant is not supported";u=64,f=256}if("HEX"===e)a=(i=d(t)).binLen,i=i.value;else if("ASCII"===e||"TEXT"===e)a=(i=b(t,h)).binLen,i=i.value;else{if("B64"!==e)throw"inputFormat must be HEX, TEXT, ASCII, or B64";a=(i=v(t)).binLen,i=i.value}for(t=8*u,e=u/4-1,u<a/8?(i=A(i,a,n))[e]&=4294967040:a/8<u&&(i[e]&=4294967040),u=0;u<=e;u+=1)s[u]=909522486^i[u],c[u]=1549556828^i[u];return r(n=A(c.concat(A(s.concat(l),t+p,n)),t+f,n),H(o))}}function b(t,e){var n,r,o=[],i=[],u=0;if("UTF8"===e)for(r=0;r<t.length;r+=1)for(i=[],2048<(n=t.charCodeAt(r))?(i[0]=224|(61440&n)>>>12,i[1]=128|(4032&n)>>>6,i[2]=128|63&n):128<n?(i[0]=192|(1984&n)>>>6,i[1]=128|63&n):i[0]=n,n=0;n<i.length;n+=1)o[u>>>2]|=i[n]<<24-u%4*8,u+=1;else if("UTF16"===e)for(r=0;r<t.length;r+=1)o[u>>>2]|=t.charCodeAt(r)<<16-u%4*8,u+=2;return{value:o,binLen:8*u}}function d(t){var e,n,r=[],o=t.length;if(0!=o%2)throw"String of HEX type must be in byte increments";for(e=0;e<o;e+=2){if(n=parseInt(t.substr(e,2),16),isNaN(n))throw"String of HEX type contains invalid characters";r[e>>>3]|=n<<24-e%8*4}return{value:r,binLen:4*o}}function v(t){var e,n,r,o,i,u=[],a=0;if(-1===t.search(/^[a-zA-Z0-9=+\/]+$/))throw"Invalid character in base-64 string";if(e=t.indexOf("="),t=t.replace(/\=/g,""),-1!==e&&e<t.length)throw"Invalid '=' found in base-64 string";for(n=0;n<t.length;n+=4){for(i=t.substr(n,4),r=o=0;r<i.length;r+=1)o|=(e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(i[r]))<<18-6*r;for(r=0;r<i.length-1;r+=1)u[a>>2]|=(o>>>16-8*r&255)<<24-a%4*8,a+=1}return{value:u,binLen:8*a}}function g(t,e){var n,r,o="",i=4*t.length;for(n=0;n<i;n+=1)r=t[n>>>2]>>>8*(3-n%4),o+="0123456789abcdef".charAt(r>>>4&15)+"0123456789abcdef".charAt(15&r);return e.outputUpper?o.toUpperCase():o}function m(t,e){var n,r,o,i="",u=4*t.length;for(n=0;n<u;n+=3)for(o=(t[n>>>2]>>>8*(3-n%4)&255)<<16|(t[n+1>>>2]>>>8*(3-(n+1)%4)&255)<<8|t[n+2>>>2]>>>8*(3-(n+2)%4)&255,r=0;r<4;r+=1)i=8*n+6*r<=32*t.length?i+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(o>>>6*(3-r)&63):i+e.b64Pad;return i}function H(t){var e={outputUpper:!1,b64Pad:"="};try{t.hasOwnProperty("outputUpper")&&(e.outputUpper=t.outputUpper),t.hasOwnProperty("b64Pad")&&(e.b64Pad=t.b64Pad)}catch(t){}if("boolean"!=typeof e.outputUpper)throw"Invalid outputUpper formatting option";if("string"!=typeof e.b64Pad)throw"Invalid b64Pad formatting option";return e}function n(t,e){return t>>>e|t<<32-e}function x(t,e,n){return t&e^~t&n}function L(t,e,n){return t&e^t&n^e&n}function P(t){return n(t,2)^n(t,13)^n(t,22)}function B(t){return n(t,6)^n(t,11)^n(t,25)}function k(t){return n(t,7)^n(t,18)^t>>>3}function O(t){return n(t,17)^n(t,19)^t>>>10}function N(t,e){var n=(65535&t)+(65535&e);return((t>>>16)+(e>>>16)+(n>>>16)&65535)<<16|65535&n}function j(t,e,n,r){var o=(65535&t)+(65535&e)+(65535&n)+(65535&r);return((t>>>16)+(e>>>16)+(n>>>16)+(r>>>16)+(o>>>16)&65535)<<16|65535&o}function z(t,e,n,r,o){var i=(65535&t)+(65535&e)+(65535&n)+(65535&r)+(65535&o);return((t>>>16)+(e>>>16)+(n>>>16)+(r>>>16)+(o>>>16)+(i>>>16)&65535)<<16|65535&i}function A(t,e,n){var r,o,i,u,a,f,s,c,p,l,h,b,d,v,g,m,H,A,w,S,U,E,T,X,y,I,C=[],F=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];if(l=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],r=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],"SHA-224"!==n&&"SHA-256"!==n)throw"Unexpected error in SHA-2 implementation";for(h=64,v=16,g=1,y=Number,m=N,H=j,A=z,w=k,S=O,U=P,E=B,X=L,T=x,l="SHA-224"===n?l:r,t[e>>>5]|=128<<24-e%32,t[15+(e+65>>>9<<4)]=e,I=t.length,b=0;b<I;b+=v){for(e=l[0],r=l[1],o=l[2],i=l[3],u=l[4],a=l[5],f=l[6],s=l[7],d=0;d<h;d+=1)C[d]=d<16?new y(t[d*g+b],t[d*g+b+1]):H(S(C[d-2]),C[d-7],w(C[d-15]),C[d-16]),c=A(s,E(u),T(u,a,f),F[d],C[d]),p=m(U(e),X(e,r,o)),s=f,f=a,a=u,u=m(i,c),i=o,o=r,r=e,e=m(c,p);l[0]=m(e,l[0]),l[1]=m(r,l[1]),l[2]=m(o,l[2]),l[3]=m(i,l[3]),l[4]=m(u,l[4]),l[5]=m(a,l[5]),l[6]=m(f,l[6]),l[7]=m(s,l[7])}if("SHA-224"===n)t=[l[0],l[1],l[2],l[3],l[4],l[5],l[6]];else{if("SHA-256"!==n)throw"Unexpected error in SHA-2 implementation";t=l}return t}"function"==typeof define&&(define.amd,1)?define(function(){return e}):"undefined"!=typeof exports?"undefined"!=typeof module&&module.exports?module.exports=exports=e:exports=e:t.jsSHA=e}(this);