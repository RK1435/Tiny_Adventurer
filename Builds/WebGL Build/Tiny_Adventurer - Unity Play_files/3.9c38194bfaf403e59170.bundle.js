webpackJsonp_name_([3],{1041:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"drop_down",function(){return p}),i.d(t,"login_dialog",function(){return x}),i.d(t,"unity_account_switcher",function(){return v}),i.d(t,"user_avatar",function(){return I});var n,o,a,r,s,c,l=i(514),u=this&&this.__spreadArrays||function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;for(var n=Array(e),o=0,t=0;t<i;t++)for(var r=arguments[t],a=0,s=r.length;a<s;a++,o++)n[o]=r[a];return n};(r=a=a||{}).Large="large",r.Medium="medium",r.Small="small",r.XSSmall="xssmall",(c=s=s||{}).Login="login",c.Register="register";var d=function(){};d.RESPONSE_TYPE="code",d.SCOPE="identity";var g={request:function(e,t){var i=new XMLHttpRequest;i.withCredentials=!0,i.addEventListener("load",function(){t(JSON.parse(i.response))}),i.open("GET",""+window.UAS_API_BASE_PATH+e),i.send()}};var p=(f.prototype.onMenuClick=function(e){var t,i=e.key,n=e.href;n?window.open(n):(this.menuClicked.emit({key:i}),t=new CustomEvent("uasMenuClicked",{detail:i}),window.dispatchEvent(t)),this.closeDropdown.emit()},f.prototype.onAccountClick=function(){var e=window.UAS_ID_BASE_PATH+"/en/account/edit";window.open(e),this.closeDropdown.emit()},f.prototype.onSigninAccount=function(e){var t=window.location.href,i=this.buildSwitchAccountURL(e);i+="&redirect_uri="+encodeURIComponent(t),window.location.href=i},f.prototype.buildSwitchAccountURL=function(e){var t=window.UAS_API_BASE_PATH,i=this.clientID,n=d.RESPONSE_TYPE,o=d.SCOPE,r=this.switchAccountRidirectURL||window.location.href,a=t+"/v1/oauth2/authorize?client_id="+i+"&response_type="+n+"&scope="+o+"&login_hint="+e;return a+="&redirect_uri="+encodeURIComponent(r)},f.prototype.onOtherAccountClick=function(e){var t=e.id;e.login?this.onSigninAccount(t):this._editModeAccountID=t},f.prototype.onCreateAccount=function(){this.closeDropdown.emit(),this.openLoginDialog.emit({authType:s.Login})},f.prototype.onSignoutClick=function(){var e=this.currentUser.id,t=window.UAS_API_BASE_PATH+"/v1/oauth2/end-session?logout_hint="+e+"&post_logout_redirect_uri="+encodeURIComponent(this.logoutRedirectURL);window.location.href=t},f.prototype.onRemoveAccount=function(t){var e,i,n=this;e=t,i=function(e){"success"===e.status&&n.removeUser.emit({userId:t})},g.request("/v1/oauth2/authorize/remove-account?login_hint="+e,i)},f.prototype.onAuth=function(e,t){void 0===t&&(t=""),this.closeDropdown.emit(),this.openLoginDialog.emit({authType:e,userID:t})},f.prototype.onProfileClick=function(){window.open(this.userProfileURL)},f.prototype.renderCurrentUser=function(){var e=this,t=this.currentUser,i=t.name,n=t.email,o=!!this.userProfileURL;return Object(l.e)("div",{class:"current-user"},Object(l.e)("a",{class:"avatar-wrapper "+(o&&"active"),onClick:function(){return o&&e.onProfileClick()}},Object(l.e)("user-avatar",{user:this.currentUser,size:a.Large})),Object(l.e)("div",{class:"rigth-wrapper"},Object(l.e)("div",{class:"name "+(o&&"active"),onClick:function(){return o&&e.onProfileClick()}},i),Object(l.e)("div",{class:"email"},n),Object(l.e)("a",{class:"button-account",onClick:function(){return e.onAccountClick()}},"Unity account ID")))},f.prototype.renderAccountButtons=function(){var e=this;return Object(l.e)("div",{class:"account-buttons-wrapper"},Object(l.e)("button",{class:"button",onClick:function(){return e.onAuth(s.Login)}},"Add account"),Object(l.e)("button",{class:"button",onClick:function(){return e.onSignoutClick()}},"Sign out"))},f.prototype.renderOtherAccounts=function(){var r=this,e=!1,t=u(this.users),i=t.length;3<i&&!this._showAllAccounts&&(t=t.slice(0,2),e=!0);var n=t.map(function(e){var t=e.id,i=e.name,n=e.email,o=e.login;return r._editModeAccountID===t?Object(l.e)("div",{key:t,class:"user disable"},Object(l.e)("button",{class:"button",onClick:function(){return r.onRemoveAccount(t)}},"Remove"),Object(l.e)("button",{class:"button",onClick:function(){return r.onAuth(s.Login,t)}},"Sign in")):Object(l.e)("div",{key:t,class:"user",onClick:function(){return r.onOtherAccountClick({id:t,login:o})}},Object(l.e)("user-avatar",{user:e,size:a.Medium}),Object(l.e)("div",{class:"right-wrapper"},Object(l.e)("div",{class:"name"},i),Object(l.e)("div",{class:"email"},n),Object(l.e)("div",{class:"signed-out "+(o&&"hide")},"Signed out")))});return e&&n.push(Object(l.e)("div",{key:"see_all",class:"see-all"},Object(l.e)("button",{class:"button-see-all",onClick:function(){return r._showAllAccounts=!0}},i+1+" accounts added: See all"))),Object(l.e)("div",{class:"other-accounts"},n)},f.prototype.renderMenuItems=function(){var r=this,e=this.menuItems;if(!e||0===e.length)return null;var t=e.map(function(e){var t=e.key,i=e.title,n=e.href,o=e.sub_title;return Object(l.e)("a",{key:t,class:"item",onClick:function(){return r.onMenuClick({key:t,href:n})}},i,o&&Object(l.e)("div",{class:"sub"},"("+o+")"))});return Object(l.e)("div",{class:"menu-items"},t)},f.prototype.renderSigninIcon=function(){return Object(l.e)("div",{class:"signin-icon"},Object(l.e)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Object(l.e)("path",{d:"M0 0h24v24H0z",fill:"none"}),Object(l.e)("path",{d:"M21 3.01H3c-1.1 0-2 .9-2 2V9h2V4.99h18v14.03H3V15H1v4.01c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98v-14c0-1.11-.9-2-2-2zM11 16l4-4-4-4v3H1v2h10v3z"})))},f.prototype.renderSignin=function(){var e=this;return Object(l.e)("div",{class:"dropdown annonymous"},Object(l.e)("div",{class:"item",onClick:function(){return e.onAuth(s.Register)}},Object(l.e)("div",{class:"avatar-wrapper"},Object(l.e)("user-avatar",{size:a.XSSmall})),"Create a Unity ID"),Object(l.e)("div",{class:"item",onClick:function(){return e.onAuth(s.Login)}},this.renderSigninIcon(),"Sign in"))},f.prototype.render=function(){return this.loading?Object(l.e)("div",{class:"dropdown"},Object(l.e)("div",{class:"loading-wrapper"},Object(l.e)("div",{class:"loading"}))):this.currentUser?Object(l.e)("div",{class:"dropdown"},this.renderCurrentUser(),this.renderAccountButtons(),Object(l.e)("div",{class:"list-wrapper"},this.renderOtherAccounts(),this.renderMenuItems())):this.renderSignin()},Object.defineProperty(f,"style",{get:function(){return".dropdown{width:285px;background-color:#000;cursor:default;padding-top:24px}.dropdown .loading-wrapper{display:-ms-flexbox;display:flex;-ms-flex:0 0 auto;flex:0 0 auto;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;padding-bottom:24px}.dropdown .loading{border:4px solid #f3f3f3;-webkit-animation:spin 1s linear infinite;animation:spin 1s linear infinite;border-top:4px solid #555;border-radius:50%;width:32px;height:32px}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.list-wrapper{overflow-y:auto;max-height:488px}.account-buttons-wrapper,.current-user{display:-ms-flexbox;display:flex;-ms-flex:0 0 auto;flex:0 0 auto}.current-user{padding:0 24px;-ms-flex-align:center;align-items:center}.current-user .avatar-wrapper{text-decoration:none}.current-user .avatar-wrapper.active{cursor:pointer}.current-user .rigth-wrapper{-ms-flex:1 1 auto;flex:1 1 auto;margin-left:16px}.current-user .rigth-wrapper .name{font-size:18px;font-weight:500;color:hsla(0,0%,100%,.87);line-height:21px}.current-user .rigth-wrapper .name.active{cursor:pointer}.current-user .rigth-wrapper .email{font-size:12px;color:#9b9b9b;line-height:14px;margin-top:2px}.current-user .rigth-wrapper .button-account{display:inline-block;height:30px;background-color:hsla(0,0%,100%,.2);font-size:12px;font-weight:500;color:#fff;border:none;border-radius:4px;padding:0 16px;min-width:110px;text-align:center;line-height:30px;margin-top:10px;cursor:pointer;text-decoration:none}.account-buttons-wrapper{-ms-flex-pack:justify;justify-content:space-between;padding:24px;border-bottom:1px solid #383838}.account-buttons-wrapper .button{min-width:90px;height:30px;border-radius:4px;border:1px solid #fff;line-height:28px;background:transparent;color:#fff;font-size:12px;font-weight:500;outline:none;cursor:pointer;padding:0;text-align:center}.other-accounts .user{display:-ms-flexbox;display:flex;-ms-flex:0 0 auto;flex:0 0 auto;-ms-flex-align:center;align-items:center;padding:0 24px;height:70px;-webkit-box-shadow:0 12px 16px 0 rgba(0,0,0,.2);box-shadow:0 12px 16px 0 rgba(0,0,0,.2);border-bottom:1px solid #383838;background-color:#212121;cursor:pointer}.other-accounts .user.disable{cursor:default}.other-accounts .user:hover{background-color:rgba(33,33,33,.85)}.other-accounts .user .right-wrapper{-ms-flex:1 1 auto;flex:1 1 auto;margin-left:8px}.other-accounts .user .right-wrapper .email,.other-accounts .user .right-wrapper .name,.other-accounts .user .right-wrapper .signed-out{font-size:12px;color:#9b9b9b;line-height:16px}.other-accounts .user .right-wrapper .signed-out{font-style:italic}.other-accounts .user .right-wrapper .signed-out.hide{display:none}.other-accounts .user .button{min-width:90px;height:30px;border-radius:4px;border:none;line-height:30px;color:#fff;line-height:28px;font-size:12px;font-weight:500;outline:none;cursor:pointer;background:#4d4d4d}.other-accounts .user .button:last-child{margin-left:auto}.other-accounts .see-all{display:-ms-flexbox;display:flex;-ms-flex:0 0 auto;flex:0 0 auto;-ms-flex-align:center;align-items:center;padding:0 24px;height:70px;border-bottom:1px solid #383838}.other-accounts .see-all .button-see-all{height:30px;line-height:30px;min-width:242px;width:100%;background:transparent;outline:none;border-radius:4px;border:1px solid #fff;font-size:12px;font-weight:500;color:#fff;cursor:pointer}.menu-items{-ms-flex:0 0 auto;flex:0 0 auto;-ms-flex-direction:column;flex-direction:column}.menu-items,.menu-items .item{display:-ms-flexbox;display:flex}.menu-items .item{-ms-flex:1 1 auto;flex:1 1 auto;-ms-flex-align:center;align-items:center;font-size:14px;padding:18px 24px;text-decoration:none;color:#fff;cursor:pointer}.menu-items .item:hover{background-color:rgba(33,33,33,.85)}.menu-items .item .sub{color:#9b9b9b;margin-left:4px}.annonymous{padding-top:8px;padding-bottom:8px;cursor:default}.annonymous .item{display:-ms-flexbox;display:flex;-ms-flex:0 0 auto;flex:0 0 auto;-ms-flex-align:center;align-items:center;font-size:14px;color:#fff;cursor:pointer;padding:18px 24px}.annonymous .item:hover{background:hsla(0,0%,100%,.2)}.annonymous .item .avatar-wrapper,.annonymous .item .signin-icon{margin-right:16px}.annonymous .item .signin-icon svg{width:24px;height:24px;fill:#fff}"},enumerable:!0,configurable:!0}),f);function f(e){Object(l.f)(this,e),this.menuClicked=Object(l.c)(this,"menuClicked",7),this.closeDropdown=Object(l.c)(this,"closeDropdown",7),this.openLoginDialog=Object(l.c)(this,"openLoginDialog",7),this.removeUser=Object(l.c)(this,"removeUser",7)}var h,m,w,b=(function(e){function g(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function b(e,t,i){"addEventListener"in window?e.addEventListener(t,i,!1):"attachEvent"in window&&e.attachEvent("on"+t,i)}function x(e,t,i){"removeEventListener"in window?e.removeEventListener(t,i,!1):"detachEvent"in window&&e.detachEvent("on"+t,i)}function o(e){return _+"["+(i="Host page: "+(t=e),window.top!==window.self&&(i=window.parentIFrame&&window.parentIFrame.getId?window.parentIFrame.getId()+": "+t:"Nested host page: "+t),i)+"]";var t,i}function i(e){return P[e]?P[e].log:m}function y(e,t){n("log",e,t,i(e))}function c(e,t){n("info",e,t,i(e))}function v(e,t){n("warn",e,t,!0)}function n(e,t,i,n){!0===n&&"object"==typeof window.console&&console[e](o(t),i)}function t(t){function l(){e("Height"),e("Width"),S(function(){C(m),I(w),h("resizedCallback",m)},m,"init")}function e(e){var t=Number(P[w]["max"+e]),i=Number(P[w]["min"+e]),n=e.toLowerCase(),o=Number(m[n]);y(w,"Checking "+n+" is in range "+i+"-"+t),o<i&&(o=i,y(w,"Set "+n+" to min value")),t<o&&(o=t,y(w,"Set "+n+" to max value")),m[n]=""+o}function u(e){return s.substr(s.indexOf(":")+N+e)}function d(i,n){var e,t,o;e=function(){var e,t;A("Send Page Info","pageInfo:"+(e=document.body.getBoundingClientRect(),t=m.iframe.getBoundingClientRect(),JSON.stringify({iframeHeight:t.height,iframeWidth:t.width,clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,window.innerWidth||0),offsetTop:parseInt(t.top-e.top,10),offsetLeft:parseInt(t.left-e.left,10),scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset})),i,n)},t=32,H[o=n]||(H[o]=setTimeout(function(){H[o]=null,e()},t))}function g(e){var t=e.getBoundingClientRect();return M(w),{x:Math.floor(Number(t.left)+Number(R.x)),y:Math.floor(Number(t.top)+Number(R.y))}}function p(e){var t=e?g(m.iframe):{x:0,y:0},i={x:Number(m.width)+t.x,y:Number(m.height)+t.y};y(w,"Reposition requested from iFrame (offset x:"+t.x+" y:"+t.y+")"),window.top!==window.self?window.parentIFrame?window.parentIFrame["scrollTo"+(e?"Offset":"")](i.x,i.y):v(w,"Unable to scroll to requested position, window.parentIFrame not found"):(R=i,f(),y(w,"--"))}function f(){!1!==h("scrollCallback",R)?I(w):O()}function h(e,t){return j(w,e,t)}var i,n,o,r,a,s=t.data,m={},w=null;"[iFrameResizerChild]Ready"===s?function(){for(var e in P)A("iFrame requested init",z(e),document.getElementById(e),e)}():_===(""+s).substr(0,D)&&s.substr(D).split(":")[0]in P?(a=s.substr(D).split(":"),m={iframe:P[a[0]]&&P[a[0]].iframe,id:a[0],height:a[1],width:a[2],type:a[3]},w=m.id,P[w]&&(P[w].loaded=!0),(r=m.type in{true:1,false:1,undefined:1})&&y(w,"Ignoring init message from meta parent page"),!r&&(o=!0,P[n=w]||(o=!1,v(m.type+" No settings for "+n+". Message was: "+s)),o)&&(y(w,"Received: "+s),i=!0,null===m.iframe&&(v(w,"IFrame ("+m.id+") not found"),i=!1),i&&function(){var e,i=t.origin,n=P[w]&&P[w].checkOrigin;if(n&&""+i!="null"&&!(n.constructor===Array?function(){var e=0,t=!1;for(y(w,"Checking connection is from allowed list of origins: "+n);e<n.length;e++)if(n[e]===i){t=!0;break}return t}():(e=P[w]&&P[w].remoteHost,y(w,"Checking connection is from: "+e),i===e)))throw new Error("Unexpected message received from: "+i+" for "+m.iframe.id+". Message was: "+t.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return 1}()&&function(){switch(P[w]&&P[w].firstRun&&P[w]&&(P[w].firstRun=!1),m.type){case"close":P[w].closeRequestCallback?j(w,"closeRequestCallback",P[w].iframe):L(m.iframe);break;case"message":a=u(6),y(w,"MessageCallback passed: {iframe: "+m.iframe.id+", message: "+a+"}"),h("messageCallback",{iframe:m.iframe,message:JSON.parse(a)}),y(w,"--");break;case"scrollTo":p(!1);break;case"scrollToOffset":p(!0);break;case"pageInfo":d(P[w]&&P[w].iframe,w),r=w,s("Add ",b),P[r]&&(P[r].stopPageInfo=c);break;case"pageInfoStop":P[w]&&P[w].stopPageInfo&&(P[w].stopPageInfo(),delete P[w].stopPageInfo);break;case"inPageLink":e=u(9),i=e.split("#")[1]||"",n=decodeURIComponent(i),(o=document.getElementById(n)||document.getElementsByName(n)[0])?(t=g(o),y(w,"Moving to in page link (#"+i+") at x: "+t.x+" y: "+t.y),R={x:t.x,y:t.y},f(),y(w,"--")):window.top!==window.self?window.parentIFrame?window.parentIFrame.moveToAnchor(i):y(w,"In page link #"+i+" not found and window.parentIFrame not found"):y(w,"In page link #"+i+" not found");break;case"reset":k(m);break;case"init":l(),h("initCallback",m.iframe);break;default:l()}var e,t,i,n,o,r,a;function s(t,i){function n(){P[r]?d(P[r].iframe,r):c()}["scroll","resize"].forEach(function(e){y(r,t+e+" listener for sendPageInfo"),i(window,e,n)})}function c(){s("Remove ",x)}}())):c(w,"Ignored: "+s)}function j(e,t,i){var n=null,o=null;if(P[e]){if("function"!=typeof(n=P[e][t]))throw new TypeError(t+" on iFrame["+e+"] is not a function");o=n(i)}return o}function p(e){var t=e.id;delete P[t]}function L(e){var t=e.id;y(t,"Removing iFrame: "+t);try{e.parentNode&&e.parentNode.removeChild(e)}catch(e){}j(t,"closedCallback",t),y(t,"--"),p(e)}function M(e){null===R&&y(e,"Get page position: "+(R={x:window.pageXOffset!==f?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==f?window.pageYOffset:document.documentElement.scrollTop}).x+","+R.y)}function I(e){null!==R&&(window.scrollTo(R.x,R.y),y(e,"Set page position: "+R.x+","+R.y),O())}function O(){R=null}function k(e){y(e.id,"Size reset requested by "+("init"===e.type?"host page":"iFrame")),M(e.id),S(function(){C(e),A("reset","reset",e.iframe,e.id)},e,"reset")}function C(o){function i(e){function t(){for(var e in P)!function(t){function e(e){return"0px"===(P[t]&&P[t].iframe.style[e])}P[t]&&null!==P[t].iframe.offsetParent&&(e("height")||e("width"))&&A("Visibility change","resize",P[t].iframe,t)}(e)}function i(e){y("window","Mutation observed: "+e[0].target+" "+e[0].type),a(t,16)}var n;w||"0"!==o[e]||(w=!0,y(r,"Hidden iFrame detected, creating visibility listener"),(n=g())&&function(){var e=document.querySelector("body");new n(i).observe(e,{attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0})}())}function e(e){var t;t=e,o.id?(o.iframe.style[t]=o[t]+"px",y(o.id,"IFrame ("+r+") "+t+" set to "+o[t]+"px")):y("undefined","messageData id not set"),i(e)}var r=o.iframe.id;P[r]&&(P[r].sizeHeight&&e("height"),P[r].sizeWidth&&e("width"))}function S(e,t,i){i!==t.type&&E?(y(t.id,"Requesting animation frame"),E(e)):e()}function A(e,t,i,n,o){var r,a=!1;n=n||i.id,P[n]&&(i&&"contentWindow"in i&&null!==i.contentWindow?(r=P[n]&&P[n].targetOrigin,y(n,"["+e+"] Sending msg to iframe["+n+"] ("+t+") targetOrigin: "+r),i.contentWindow.postMessage(_+t,r)):v(n,"["+e+"] IFrame("+n+") not found"),o&&P[n]&&P[n].warningTimeout&&(P[n].msgTimeout=setTimeout(function(){!P[n]||P[n].loaded||a||(a=!0,v(n,"IFrame has not responded within "+P[n].warningTimeout/1e3+" seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ignored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning."))},P[n].warningTimeout)))}function z(e){return e+":"+P[e].bodyMarginV1+":"+P[e].sizeWidth+":"+P[e].log+":"+P[e].interval+":"+P[e].enablePublicMethods+":"+P[e].autoResize+":"+P[e].bodyMargin+":"+P[e].heightCalculationMethod+":"+P[e].bodyBackground+":"+P[e].bodyPadding+":"+P[e].tolerance+":"+P[e].inPageLinks+":"+P[e].resizeFrom+":"+P[e].widthCalculationMethod}function r(i,e){var t,n,o,r,a,s,c,l=(t=i.id,""===t&&(i.id=(n=e&&e.id||Y.id+h++,null!==document.getElementById(n)&&(n+=h++),t=n),m=(e||{}).log,y(t,"Added missing iframe ID: "+t+" ("+i.src+")")),t);function u(e){1/0!==P[l][e]&&0!==P[l][e]&&(i.style[e]=P[l][e]+"px",y(l,"Set "+e+" = "+P[l][e]+"px"))}function d(e){if(P[l]["min"+e]>P[l]["max"+e])throw new Error("Value for min"+e+" can not be greater than max"+e)}l in P&&"iFrameResizer"in i?v(l,"Ignored iFrame, already setup."):(s=(s=e)||{},P[l]={firstRun:!0,iframe:i,remoteHost:i.src.split("/").slice(0,3).join("/")},function(e){if("object"!=typeof e)throw new TypeError("Options is not an object")}(s),function(e){for(var t in Y)Y.hasOwnProperty(t)&&(P[l][t]=e.hasOwnProperty(t)?e[t]:Y[t])}(s),P[l]&&(P[l].targetOrigin=!0===P[l].checkOrigin?""===(c=P[l].remoteHost)||"file://"===c?"*":c:"*"),function(){switch(y(l,"IFrame scrolling "+(P[l]&&P[l].scrolling?"enabled":"disabled")+" for "+l),i.style.overflow=!1===(P[l]&&P[l].scrolling)?"hidden":"auto",P[l]&&P[l].scrolling){case"omit":break;case!0:i.scrolling="yes";break;case!1:i.scrolling="no";break;default:i.scrolling=P[l]?P[l].scrolling:"no"}}(),d("Height"),d("Width"),u("maxHeight"),u("minHeight"),u("maxWidth"),u("minWidth"),"number"!=typeof(P[l]&&P[l].bodyMargin)&&"0"!==(P[l]&&P[l].bodyMargin)||(P[l].bodyMarginV1=P[l].bodyMargin,P[l].bodyMargin=P[l].bodyMargin+"px"),o=z(l),(a=g())&&(r=a,i.parentNode&&new r(function(e){e.forEach(function(e){Array.prototype.slice.call(e.removedNodes).forEach(function(e){e===i&&L(i)})})}).observe(i.parentNode,{childList:!0})),b(i,"load",function(){var e,t;A("iFrame.onload",o,i,f,!0),e=P[l]&&P[l].firstRun,t=P[l]&&P[l].heightCalculationMethod in T,!e&&t&&k({iframe:i,height:0,width:0,type:"init"})}),A("init",o,i,f,!0),Function.prototype.bind&&P[l]&&(P[l].iframe.iFrameResizer={close:L.bind(null,P[l].iframe),removeListeners:p.bind(null,P[l].iframe),resize:A.bind(null,"Window resize","resize",P[l].iframe),moveToAnchor:function(e){A("Move to anchor","moveToAnchor:"+e,P[l].iframe,l)},sendMessage:function(e){A("Send Message","message:"+(e=JSON.stringify(e)),P[l].iframe,l)}}))}function a(e,t){null===U&&(U=setTimeout(function(){U=null,e()},t))}function s(e){y("window","Trigger event: "+e),a(function(){u("Window "+e,"resize")},16)}function l(){"hidden"!==document.visibilityState&&(y("document","Trigger event: Visiblity change"),a(function(){u("Tab Visable","resize")},16))}function u(e,t){for(var i in P)P[n=i]&&"parent"===P[n].resizeFrom&&P[n].autoResize&&!P[n].firstRun&&A(e,t,document.getElementById(i),i);var n}function d(){function n(e,t){t&&(function(){if(!t.tagName)throw new TypeError("Object is not a valid DOM element");if("IFRAME"!==t.tagName.toUpperCase())throw new TypeError("Expected <IFRAME> tag, found <"+t.tagName+">")}(),r(t,e),o.push(t))}var o;return function(){for(var e=["moz","webkit","o","ms"],t=0;t<e.length&&!E;t+=1)E=window[e[t]+"RequestAnimationFrame"];E||y("setup","RequestAnimationFrame not supported")}(),b(window,"message",t),b(window,"resize",function(){s("resize")}),b(document,"visibilitychange",l),b(document,"-webkit-visibilitychange",l),b(window,"focusin",function(){s("focus")}),b(window,"focus",function(){s("focus")}),function(e,t){var i;switch(o=[],(i=e)&&i.enablePublicMethods&&v("enablePublicMethods option has been removed, public methods are now always available in the iFrame"),typeof t){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(t||"iframe"),n.bind(f,e));break;case"object":n(e,t);break;default:throw new TypeError("Unexpected data type ("+typeof t+")")}return o}}var f,h,m,w,N,_,D,R,E,T,P,U,Y,H,F;"undefined"!=typeof window&&(N="message".length,D=(_="[iFrameSizer]").length,E=window.requestAnimationFrame,Y={autoResize:!(U=R=null),bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!(w=m=!1),inPageLinks:!"Host Page",enablePublicMethods:!(h=0),heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:!(P={}),maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,resizeFrom:"parent",scrolling:!(T={max:1,scroll:1,bodyScroll:1,documentElementScroll:1}),sizeHeight:!0,sizeWidth:!1,warningTimeout:5e3,tolerance:0,widthCalculationMethod:"scroll",closedCallback:function(){},initCallback:function(){},messageCallback:function(){v("MessageCallback function not defined")},resizedCallback:function(){},scrollCallback:function(){return!0}},H={},window.jQuery&&((F=window.jQuery).fn?F.fn.iFrameResize||(F.fn.iFrameResize=function(i){return this.filter("iframe").each(function(e,t){r(t,i)}).end()}):c("","Unable to bind to jQuery, it is not fully loaded.")),"function"==typeof f&&f.amd?f([],d):e.exports=d(),window.iFrameResize=window.iFrameResize||d())}(h={exports:{}}),h.exports),x=(y.prototype.componentWillUpdate=function(){this.dialogData.open||this._loading||(this._loading=!0)},y.prototype.buildLoginURL=function(){var e,t=window.UAS_API_BASE_PATH,i=this.clientID,n=d.RESPONSE_TYPE,o=d.SCOPE,r=this.dialogData.userID;return r?(e=t+"/v1/oauth2/authorize?client_id="+i+"&display=popup&response_type="+n+"&scope="+o,e+="&login_hint="+r):e=t+"/v1/oauth2/authorize/new-account?client_id="+i+"&display=popup&response_type="+n+"&scope="+o,e},y.prototype.buildRegisterURL=function(){return window.UAS_API_BASE_PATH+"/v1/oauth2/authorize?client_id="+this.clientID+"&display=popup&is_reg=true&response_type="+d.RESPONSE_TYPE+"&scope="+d.SCOPE},y.prototype.onIDPageLoad=function(){this._loading=!1,b({checkOrigin:!1,log:!0,sizeWidth:!0},this.iframe)[0].iFrameResizer},y.prototype.onClose=function(){this.closeLoginDialog.emit()},y.prototype.renderClose=function(){var e=this;return Object(l.e)("div",{class:"close-wrapper",onClick:function(){return e.onClose()}},Object(l.e)("svg",{class:"icon-close",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Object(l.e)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),Object(l.e)("path",{d:"M0 0h24v24H0z",fill:"none"})))},y.prototype.renderHeader=function(){return Object(l.e)("div",{class:"head"},Object(l.e)("img",{height:"48",src:"data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjMyIiB2ZXJzaW9uPSIxLjEiIGlkPSJMb2dvIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCAxMzAuNSA0OCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHN0eWxlPi5zdDB7ZmlsbDojNGM0YzRjfTwvc3R5bGU+PHBhdGggZD0iTTUzLjcgMjYuMVYxMi41aDUuN3YxMy44YzAgMi4zIDEuMiAzLjggNCAzLjggMi42IDAgMy45LTEuNiAzLjktMy45VjEyLjVINzN2MTMuNmMwIDUuMy0zLjIgOC41LTkuNiA4LjUtNi41LjEtOS43LTMuMS05LjctOC41ek03NS42IDE3LjdoNS4xVjIwaC4xYzEuMi0xLjggMi44LTIuNyA1LjEtMi43IDMuNiAwIDUuNyAyLjYgNS43IDYuM3YxMC43aC01LjN2LTkuN2MwLTEuNy0uOS0yLjktMi42LTIuOS0xLjcgMC0yLjkgMS41LTIuOSAzLjV2OS4xaC01LjNWMTcuN3pNOTQuMyAxMS4yaDUuM3Y0LjNoLTUuM3YtNC4zem0wIDYuNWg1LjN2MTYuNWgtNS4zVjE3Ljd6TTEwMy43IDI5LjlWMjJoLTIuMnYtNC4zaDIuMnYtNS4yaDUuMXY1LjJoM1YyMmgtM3Y2LjhjMCAxLjMuNyAxLjYgMS44IDEuNmgxLjJ2My44Yy0uNS4xLTEuNS4zLTIuOS4zLTMgMC01LjItMS01LjItNC42ek0xMTUuMSAzNS42aDEuOGMxLjUgMCAyLjItLjYgMi4yLTEuNyAwLS43LS4zLTEuNy0xLTMuNGwtNC45LTEyLjdoNS41bDIuMiA3Yy41IDEuNiAxIDMuOCAxIDMuOGguMXMuNS0yLjIgMS0zLjhsMi4yLTdoNS4zbC01LjcgMTYuN2MtMS4zIDMuOS0yLjkgNS4yLTYuMiA1LjJoLTMuNGwtLjEtNC4xeiIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00Mi41IDMzLjZWMTEuMkwyMy4xIDB2OC42bDcuNiA0LjRjLjMuMi4zLjYgMCAuN2wtOSA1LjJjLS4zLjItLjYuMS0uOCAwbC05LTUuMmMtLjMtLjEtLjMtLjYgMC0uN2w3LjYtNC40VjBMMCAxMS4ydjIyLjQtLjEuMWw3LjQtNC4zdi04LjhjMC0uMy40LS41LjYtLjRsOSA1LjJjLjMuMi40LjQuNC43djEwLjRjMCAuMy0uNC41LS42LjRsLTcuNi00LjQtNy40IDQuM0wyMS4yIDQ4bDE5LjQtMTEuMi03LjQtNC4zLTcuNiA0LjRjLS4zLjItLjYgMC0uNi0uNFYyNi4xYzAtLjMuMi0uNi40LS43bDktNS4yYy4zLS4yLjYgMCAuNi40djguOGw3LjUgNC4yeiIvPjxwYXRoIGQ9Ik0yMS4yIDQ4bDE5LjQtMTEuMi03LjQtNC4zLTcuNiA0LjRjLS4zLjItLjYgMC0uNi0uNFYyNi4xYzAtLjMuMi0uNi40LS43bDktNS4yYy4zLS4yLjYgMCAuNi40djguOGw3LjQgNC4zVjExLjJMMjEuMiAyMy41VjQ4eiIvPjxwYXRoIGQ9Ik0yMy4xIDB2OC42bDcuNiA0LjRjLjMuMi4zLjYgMCAuN2wtOSA1LjJjLS4zLjItLjYuMS0uOCAwbC05LTUuMmMtLjMtLjEtLjMtLjYgMC0uN2w3LjYtNC40VjBMMCAxMS4ybDIxLjIgMTIuMyAyMS4yLTEyLjNMMjMuMSAweiIgZmlsbD0iZ3JheSIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xNi45IDM2LjlsLTcuNi00LjQtNy40IDQuM0wyMS4zIDQ4VjIzLjVMMCAxMS4ydjIyLjQtLjEuMWw3LjQtNC4zdi04LjhjMC0uMy40LS41LjYtLjRsOSA1LjJjLjMuMi40LjQuNC43djEwLjRjLjEuNC0uMi43LS41LjV6Ii8+PC9zdmc+Cg=="}),this.renderClose())},y.prototype.render=function(){var t=this,e=this.dialogData||{},i=e.authType;if(!e.open)return null;var n="",n=i===s.Login?this.buildLoginURL():this.buildRegisterURL();this.loginRedirectURL&&(n+="&redirect_uri="+encodeURIComponent(this.loginRedirectURL));var o=!this._loading;return Object(l.e)("div",{class:"login-dialog"},Object(l.e)("div",{class:"backdrop",onClick:function(){return t.onClose()}}),Object(l.e)("div",{class:"model"},Object(l.e)("div",{class:"model-inner"},this.renderHeader(),Object(l.e)("div",{class:"content"},Object(l.e)("iframe",{ref:function(e){return t.iframe=e},class:"iframe "+(o&&"show")+" "+i,src:n,scrolling:"no",frameBorder:"0",onLoad:function(){return t.onIDPageLoad()}}),Object(l.e)("div",{class:"loading-wrapper "+(o&&"hide")},Object(l.e)("div",{class:"loading"}))))))},Object.defineProperty(y,"style",{get:function(){return".login-dialog .backdrop,.login-dialog .model{position:fixed;height:100%;width:100%;left:0;right:0;top:0;bottom:0;z-index:99999}.login-dialog .backdrop{background-color:rgba(0,0,0,.541176);opacity:.8;cursor:default}.login-dialog .model{display:-ms-flexbox;display:flex;-ms-flex:1 1 auto;flex:1 1 auto;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;padding:30px 0;pointer-events:none}.login-dialog .model-inner{background:#f5f8f9;pointer-events:auto;border-radius:4px}.login-dialog .model-inner .content{height:570px;overflow-y:scroll}.login-dialog .model-inner .iframe{display:none;height:570px;width:600px;overflow:hidden}.login-dialog .model-inner .iframe.show{display:block}.login-dialog .model-inner .iframe.register{height:921px}@media screen and (max-width:769px){.login-dialog .model-inner .content{height:450px}.login-dialog .model-inner .iframe{width:320px;height:450px}}.login-dialog .head{display:-ms-flexbox;display:flex;-ms-flex:0 0 auto;flex:0 0 auto;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;position:relative;padding:24px 0 0;cursor:default}.login-dialog .head .icon-unity-logo{height:48px;width:150px}.login-dialog .head .close-wrapper{position:absolute;top:8px;right:8px;height:24px;cursor:pointer}.login-dialog .head .close-wrapper .icon-close{width:24px;height:24px;fill:rgba(0,0,0,.8)}.login-dialog .head .close-wrapper .icon-close:hover{fill:rgba(0,0,0,.6)}.login-dialog .loading-wrapper{display:-ms-flexbox;display:flex;-ms-flex:0 0 auto;flex:0 0 auto;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:570px;width:600px}.login-dialog .loading-wrapper.hide{display:none}@media screen and (max-width:769px){.login-dialog .loading-wrapper{width:320px;height:450px}}.login-dialog .loading{border:4px solid #f3f3f3;-webkit-animation:spin 1s linear infinite;animation:spin 1s linear infinite;border-top:4px solid #555;border-radius:50%;width:32px;height:32px}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}"},enumerable:!0,configurable:!0}),y);function y(e){Object(l.f)(this,e),this._loading=!0,this.closeLoginDialog=Object(l.c)(this,"closeLoginDialog",7)}(w=m=m||{}).int="int",w.staging="staging",w.prod="prod";var v=(j.prototype.handleClick=function(e){e.target!==this.el&&(this._showDropdown=!1)},j.prototype.applyConfig=function(t){try{this._config=JSON.parse(t),this._config.user&&(this._user=this._config.user);var e="https://api.unity.com",i="https://id.unity.com";this._config.env&&(this._config.env in m?(e=L[this._config.env],i=M[this._config.env]):console.error("invalid env: int, staging, prod")),this._config.clientID||console.error("clientID is required"),window.UAS_API_BASE_PATH=e,window.UAS_ID_BASE_PATH=i,0<this._config.headerHeight&&(this._height=this._config.headerHeight)}catch(e){console.error("invalid config:",e),console.error(t)}},j.prototype.applyColors=function(e){e.theme&&this.el.style.setProperty("--theme-primary-color",e.theme)},j.prototype.componentWillLoad=function(){var s=this;0<window.innerHeight&&(this._windowHeight=window.innerHeight),this.config&&(this.applyConfig(this.config),g.request("/v1/oauth2/authorize/logined-users",function(e){var t=(e.model.users||[]).map(function(e){var t=e.userId,i=e.name.fullName,n=e.email,o=e.login,r=e.currentLoginUser,a={id:t,name:i,avatar:"",email:n,login:o,currentLoginUser:r};return r&&s._user&&(a.avatar=s._user.avatar,a.name=s._user.name),a})||[],i=t.findIndex(function(e){var t=e.currentLoginUser,i=e.login;return t&&i});0<=i?(s._user=Object.assign({},t[i]),t.splice(i,1)):s._user=null,s._otherUsers=t,s._accountsLoading=!1}))},j.prototype.toggleMenu=function(e){this._showDropdown=e},j.prototype.openLoginDialog=function(e){var t=e.detail,i=t.authType,n=t.userID;this._loginDialog={open:!0,authType:i,userID:n}},j.prototype.removeUser=function(e){var t,i,n=e.detail;!n.userId||0<=(i=(t=u(this._otherUsers)).findIndex(function(e){return e.id===n.userId}))&&(t.splice(i,1),this._otherUsers=t)},j.prototype.closeLoginDialog=function(){this._loginDialog={open:!1}},j.prototype.renderDropdown=function(){var t=this,e={};return 0<this._windowHeight&&(e={maxHeight:this._windowHeight-this._height-40+"px"}),this._showDropdown?Object(l.e)("div",{class:"dropdown-wrapper",style:e},Object(l.e)("drop-down",{users:this._otherUsers,menuItems:this._config.menuItems,loading:this._accountsLoading,logoutRedirectURL:this._config.logoutRedirectURL,userProfileURL:this._config.userProfileURL,currentUser:this._user,clientID:this._config.clientID,switchAccountRidirectURL:this._config.switchAccountRidirectURL,onCloseDropdown:function(){return t._showDropdown=!1},onRemoveUser:function(e){return t.removeUser(e)},onOpenLoginDialog:function(e){return t.openLoginDialog(e)}})):null},j.prototype.render=function(){var e=this;if(!this._config)return null;var t=this._config.avatarSize&&a[this._config.avatarSize]||a.Small;return Object(l.e)("div",{class:"wrapper",style:{height:this._height+"px"}},Object(l.e)("a",{class:"avatar-wrapper",onClick:function(){return e.toggleMenu(!e._showDropdown)}},Object(l.e)("user-avatar",{user:this._user,size:t})),this.renderDropdown(),Object(l.e)("login-dialog",{loginRedirectURL:this._config.loginRedirectURL,dialogData:this._loginDialog,clientID:this._config.clientID,onCloseLoginDialog:function(){return e.closeLoginDialog()}}))},Object.defineProperty(j.prototype,"el",{get:function(){return Object(l.d)(this)},enumerable:!0,configurable:!0}),Object.defineProperty(j,"watchers",{get:function(){return{config:["applyConfig"]}},enumerable:!0,configurable:!0}),Object.defineProperty(j,"style",{get:function(){return".wrapper{display:-ms-flexbox;display:flex;-ms-flex:0 0 auto;flex:0 0 auto;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;position:relative;height:72px;padding:0 8px;background-color:#000;cursor:pointer}.avatar-wrapper{text-decoration:none;padding:8px}.dropdown-wrapper{position:absolute;top:100%;right:0;border-radius:0 0 3px 3px;z-index:1000;border-top:1px solid hsla(0,0%,100%,.2);background-color:#000;overflow-y:auto}@media screen and (max-width:769px){.dropdown-wrapper{position:fixed;top:72px}}"},enumerable:!0,configurable:!0}),j);function j(e){Object(l.f)(this,e),this._accountsLoading=!0,this._height=72,this._windowHeight=0}var L=((n={})[m.int]="https://api-int.unity.com",n[m.staging]="https://api-staging.unity.com",n[m.prod]="https://api.unity.com",n),M=((o={})[m.int]="https://id-int.unity.com",o[m.staging]="https://id-staging.unity.com",o[m.prod]="https://id.unity.com",o),I=(O.prototype.render=function(){var e=this.user;if(e){if(e.avatar)return Object(l.e)("img",{src:e.avatar,class:"avatar "+this.size});if(e.name){var t=function(e){if(!e)return"";e=e.trim();var t,i,n;return/^\W+/.test(e)?e[0]:(t=0<e.indexOf(" ")?" ":",",i=e.split(t),1<(n=i.length)?""+i[0][0]+i[n-1][0]:i[0][0])}(e.name);return Object(l.e)("div",{class:"avatar "+this.size+" text-avatar"},t)}}return Object(l.e)("div",{class:"avatar "+this.size+" default"},Object(l.e)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Object(l.e)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"}),Object(l.e)("path",{d:"M0 0h24v24H0z",fill:"none"})))},Object.defineProperty(O,"style",{get:function(){return".avatar{-o-object-fit:cover;object-fit:cover;border-radius:50%}.avatar.large{line-height:72px;font-size:32px}.avatar.large,.avatar.large svg{width:72px;height:72px}.avatar.medium{line-height:40px;font-size:20px}.avatar.medium,.avatar.medium svg{width:40px;height:40px}.avatar.small{line-height:30px;font-size:16px}.avatar.small,.avatar.small svg{width:30px;height:30px}.avatar.xssmall{line-height:24px;font-size:12px}.avatar.xssmall,.avatar.xssmall svg{width:24px;height:24px}.avatar.text-avatar{color:#fff;text-align:center;text-transform:uppercase;background:linear-gradient(45deg,#e91e63,#ff9800 100%,#e91e63 0)}.avatar svg{fill:#fff}"},enumerable:!0,configurable:!0}),O);function O(e){Object(l.f)(this,e)}}});