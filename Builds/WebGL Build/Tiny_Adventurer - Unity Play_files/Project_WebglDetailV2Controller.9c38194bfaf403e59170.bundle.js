window.Project_WebglDetailV2Controller=webpackJsonp_name_([7],[,,,,,,,,function(e,t){e.exports=browser_dll},,,,,,,function(e,t){e.exports={NAME:"production",APP_NAME:"view_server",APP_VERSION:"1.0",SERVER_PORT:18088,IS_ONEBOX:!1,HOT_RELOAD:!1,LAZY_BUILD:!1,DISPLAY_TIME_IN_MESSENGER:!0,DEVTOOLS:!1,RELEASE_BUILD:!0,UGLIFY_JS:!0,CSS_LOCAL_IDENTIFIER:!0,LONG_TERM_CACHE:!0,WITH_CONSOLE_LOG:!0,CONSOLE_LOG_FORMAT:"json",STORYBOOK:!1,PUBLIC_PATH:"https://play-static.unity.com/public/",LOG_FOLDER:"/var/silkcloud/logs/mp_view",PUBLIC_ASSETS_FOLDER:"/gopath/src/github.com/Unity-Technologies/web-project-share-platform/view_server/public/assets",BUILD_ASSETS_FOLDER:"/gopath/src/github.com/Unity-Technologies/web-project-share-platform/view_server/build/assets",BUILD_TARGET_SERVER_NAMESPACE:"server",REQUEST_BASE_URL:"",REQUEST_BASE_URL_INTERNAL:"http://localhost:8080",REQUEST_TIMEOUT:6e4,DEFAULT_URL:"https://play.unity.com",DEFAULT_TITLE:"Unity Play",DEFAULT_META_KEYWORDS:"Unity Play",DEFAULT_META_DESCRIPTION:{en_US:"The place for aspiring game creators to share their latest WebGL creation. Gain inspiration through ongoing showcases and find thousands of FPS, Karting, 2D Platformer and other creations with Unity. No experience needed, just jump in for the chance to be featured!",zh_CN:"首个致力于Unity创作者（游戏开发、美术师、VR／AR从业者）的人才圈。找工作，招人才，获得帮助，取得成功。"},LOCALES:["en_US","zh_CN","ko_KR","ja_JP","ru_RU","es_ES","fr_FR","de_DE","pt_PT"],MIN_LOCALES:["en_US","zh_CN","ko_KR","ja_JP"],MOMENT_LOCALE:{en_US:"",zh_CN:"zh-cn",ko_KR:"ko",ja_JP:"ja",ru_RU:"ru",es_ES:"es",fr_FR:"fr",de_DE:"de",pt_PT:"pt"},NUMBRO_LOCALE:{en_US:"",zh_CN:"zh-CN",ko_KR:"ko-KR",ja_JP:"ja-JP",ru_RU:"ru-RU",es_ES:"es-ES",fr_FR:"fr-FR",de_DE:"de-DE",pt_PT:"pt-PT"},BASE_ID_URL:"https://id.unity.com",STORE_URL:"https://store.unity.com",LOGIN_POPUP:!0,CDN_URLS:["https://play-static.unity.com/"],REGIONS:[{refId:"region.01",i18n_key:"region_01"},{refId:"region.02",i18n_key:"region_02"},{refId:"region.03",i18n_key:"region_03"},{refId:"region.04",i18n_key:"region_04"},{refId:"region.05",i18n_key:"region_05"},{refId:"region.06",i18n_key:"region_06"},{refId:"region.07",i18n_key:"region_07"},{refId:"region.08",i18n_key:"region_08"},{refId:"region.09",i18n_key:"region_09"}],PROJECT_ENABLED:!0,TFA_ENABLED:!0,PACKAGE_DOWNLOAD_LINKS:{mac:"https://d2ll4ywgl9x1oi.cloudfront.net/Connect-latest.dmg",windows:"https://d2ll4ywgl9x1oi.cloudfront.net/Connect-latest.exe"},PROXY_HOST:"",PROXY_PORT:"",REGION_AUTO_LOCATED_NOTE_ENABLED:!1,CLUSTERING:!0,LEARN_DEFAULT_URL:"https://learn.unity.com",LEARN_PREMIUM_MARKETING:"https://unity.com/learn-premium",LEARN_PREMIUM_STORE_FLOW:"https://store.unity.com/configure-plan/unity-learn-premium-30-day-trial",LEARN_PAYMENT_STORE_FLOW:"https://pay.unity.com/os2/orders/new",LEARN_AUTHOR_LIST:["5a95d5ef32b306001856489e","59fd0498090915002713b5c3","5abb2fec32b306001fbe91a8","5d74318eedbc2a56f0a6fe48","5db006f7edbc2a0020d998ec","5af69e9f090915001c83c1bb","584dba1f0909150027e1c7f5","5e305e98edbc2a67d6f1c4de","58b51db309091559199d4738"],CAPTCHA_CLIENT_KEY:"6Lft_NgZAAAAAA75PocZYY3wA2RtBrwts1hVcgFZ",STORE_STATUS_MAP:{aptoide:"published",cloudmoolah:"published",onestore:"published",apptutti:"published",htc:"published",xiaomistore:"beta",huawei:"published"},APP_ID:"431669861070518",WEBGL_PLAYER_BASE_URL:"https://play.unity.com/webgl",RECAPTCHA_ENABLE:!0,ASSET_UNLOCK_FPS_FIRST:"162774",ASSET_UNLOCK_FPS_SECOND:"166891",ASSET_UNLOCK_FPS_THIRD:"166890",ASSET_UNLOCK_KARTING_FIRST:"164043",ASSET_UNLOCK_KARTING_SECOND:"164146",ASSET_UNLOCK_KARTING_THIRD:"164147",ASSET_UNLOCK_LEGO_FIRST:"179854",ASSET_UNLOCK_LEGO_SECOND:"179849",ASSET_UNLOCK_LEGO_THIRD:"179848",AMPLITUDE_API_KEY:"a23922745183aa6e30250a7be015618c",GSTORE_WEBSITE:"https://developer.gplay.io/sign_up"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports=window.moment},,,,,,,,,,,,,,,,,,,function(e,t){e.exports={beta:"beta_YO5z",menu_activity:"menu_activity_3vyR",menu_discover:"menu_discover_22RY",menu_discover_users:"menu_discover_users_1IoJ",menu_discover_teams:"menu_discover_teams_3Jsv",menu_discover_blog:"menu_discover_blog_2pAQ",menu_projects:"menu_projects_1OrD",menu_jobs_search_jobs:"menu_jobs_search_jobs_2u0u",menu_post_job:"menu_post_job_Layv",menu_post_project:"menu_post_project_p04n",menu_notifications:"menu_notifications_1FLZ",menu_avatar_profile:"menu_avatar_profile_hdID",menu_avatar_references:"menu_avatar_references_1GS9",menu_avatar_my_team:"menu_avatar_my_team_313C",menu_avatar_create_team:"menu_avatar_create_team_2GG6",menu_avatar_create_team_plus:"menu_avatar_create_team_plus_1s59",menu_avatar_my_school:"menu_avatar_my_school_19lP",menu_avatar_create_school:"menu_avatar_create_school_2SRt",menu_avatar_create_school_plus:"menu_avatar_create_school_plus_33fU",menu_avatar_settings:"menu_avatar_settings_1Ju5",menu_avatar_credits_history:"menu_avatar_credits_history_2aKD",menu_avatar_help:"menu_avatar_help_3Yke",menu_avatar_contact:"menu_avatar_contact_RnwU",menu_avatar_logout:"menu_avatar_logout_2jw3",menu_avatar_teams:"menu_avatar_teams_1T5Z",menu_avatar_schools:"menu_avatar_schools_YRv8",menu_avatar_you:"menu_avatar_you_2JGZ",menu_avatar_my_group:"menu_avatar_my_group_1AkQ",menu_avatar_create_group:"menu_avatar_create_group_2Jq2",menu_messages:"menu_messages_1fI-",menu_connections:"menu_connections_3xmS",notification_see_all:"notification_see_all_1UNe",notification_next:"notification_next__vZV",popout_profile:"popout_profile_28i8",client_profile:"client_profile_1E74",freelancer_profile:"freelancer_profile_24aq",at_username:"at_username_1gzZ",popout_setting:"popout_setting_2HNJ",popout_logout:"popout_logout_1dIT",search_placeholder:"search_placeholder_2wre",search_for:"search_for_1Mzu",view_results_for:"view_results_for_2Mcl",job_owner:"job_owner_2fi7",messages_action:"messages_action_1ulT",notification_action:"notification_action_2FCp",login_action:"login_action_1iPm",logout_action:"logout_action_17SE",tooltip_notifications:"tooltip_notifications_7psO",tooltip_message:"tooltip_message_3HWv",tooltip_search:"tooltip_search_1VJJ",tooltip_app_switcher:"tooltip_app_switcher_Irtj",count_overflow:"count_overflow_2aWj",uh:"uh_1Tjp",th:"th_2i5o",jh:"jh_2-bD",no_messages:"no_messages_1_ZA",all_messages:"all_messages_1V1-",confirm_title:"confirm_title_1AOQ",confirm_text:"confirm_text_3-xR",notify_title:"notify_title_3qGc",notify_text:"notify_text_2aVe",review_title:"review_title_pe-6",review_text:"review_text_3k5P",browser_confirm_title:"browser_confirm_title_2bFT",browser_confirm_text:"browser_confirm_text_3tzH",delete_confirm_default_title:"delete_confirm_default_title_SiQ0",delete_confirm_default_text:"delete_confirm_default_text_1hEe",delete_confirm_comment_title:"delete_confirm_comment_title_2eTU",delete_confirm_comment_text:"delete_confirm_comment_text_1YPH",delete_confirm_post_title:"delete_confirm_post_title_L3U2",delete_confirm_post_text:"delete_confirm_post_text_3Y1z",delete_confirm_transfer_owner_title:"delete_confirm_transfer_owner_title_3fW5",delete_confirm_transfer_owner_text:"delete_confirm_transfer_owner_text_3v0g",delete_confirm_group_kick_title:"delete_confirm_group_kick_title_2LQl",delete_confirm_group_kick_text:"delete_confirm_group_kick_text_17xd",delete_confirm_announcement_title:"delete_confirm_announcement_title_U2md",delete_confirm_announcement_text:"delete_confirm_announcement_text_1yy-",delete_confirm_reject_refund_title:"delete_confirm_reject_refund_title_3-xa",delete_confirm_reject_refund_text:"delete_confirm_reject_refund_text_11tV",delete_confirm_accept_refund_title:"delete_confirm_accept_refund_title_1JEP",delete_confirm_accept_refund_text:"delete_confirm_accept_refund_text_3kJs",delete_confirm_reject_dispute_title:"delete_confirm_reject_dispute_title_I5Km",delete_confirm_reject_dispute_text:"delete_confirm_reject_dispute_text_W8th",delete_confirm_accept_dispute_title:"delete_confirm_accept_dispute_title_3KdI",delete_confirm_accept_dispute_text:"delete_confirm_accept_dispute_text_3vbo",recent_searches:"recent_searches_17c6",clear_all:"clear_all_2Xf_",popular_searches:"popular_searches_3FIK",job:"job_pcfq",candidate_type_t:"candidate_type_t_1zBK",candidate_type_s:"candidate_type_s_2IYs",candidate_type_c:"candidate_type_c_XweK",candidate_type_fullTime:"candidate_type_fullTime_22oA",candidate_type_partTime:"candidate_type_partTime_2xF7",candidate_type_internship:"candidate_type_internship_23zE",candidate_type_freelance:"candidate_type_freelance_BQ7v",candidate_type_game:"candidate_type_game_2mAP",candidate_type_showcase:"candidate_type_showcase_6Npl",candidate_type_article:"candidate_type_article_2iMP",candidate_type_g:"candidate_type_g_C3GL",lobby_default_1:"lobby_default_1_L-lm",lobby_default_2:"lobby_default_2_1BgI",discover:"discover_2Gh5",cancel:"cancel_iVBW",search:"search_3XMs",account:"account_1Ctn",profile_completeness:"profile_completeness_2Bj-",edit:"edit_qYt2",sign_out:"sign_out_2fwc",sign_in:"sign_in_pcEI",unity_id:"unity_id_2814",login_desc:"login_desc_1ASB",new_account:"new_account_1tOv"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=h(n(2)),p=h(n(1)),i=h(n(3)),l=n(5),c=n(18),u=h(n(4)),f=h(n(324));function h(e){return e&&e.__esModule?e:{default:e}}var m=(0,l.decorator)({})(a=(0,u.default)(f.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(_,i.default),o(_,[{key:"componentDidMount",value:function(){var e=this;this.removeClickOutside=(0,c.addClickOutside)([this,this.props.parent],function(){e.props.closeMenu&&e.props.closeMenu()})}},{key:"componentWillUnmount",value:function(){this.removeClickOutside()}},{key:"renderNew",value:function(){return p.default.createElement("div",{className:this.ss("new")},this.__("new"))}},{key:"renderList",value:function(){var u=this;return this.props.items.map(function(e){var t=e.key,n=e.text,a=e.otherClassName,o=void 0===a?[]:a,r=e.path,s=e.renderChild,i=e.disable,l=e.onClick;if(i)return null;var c={};return r?c.href=r:l&&(c.onClick=l),p.default.createElement("a",d({key:t,className:u.ss.apply(u,["item"].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(o)))},c),n,s&&s())})}},{key:"render",value:function(){return p.default.createElement("div",{className:this.ss("menu")},p.default.createElement("div",{className:this.ss("items")},this.renderList()))}}]),_.propTypes={items:s.default.array,parent:s.default.object,showNew:s.default.bool,closeMenu:s.default.func},a=_))||a)||a;function _(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}t.default=m},,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeleteConfirmDialog=t.TfaNotifyDialog=t.TfaConfirmDialog=t.default=t.MessagesAction=t.BarsAction=t.AvatarAction=t.ApplicationSwitcherAction=t.NotificationsAction=void 0;var a,o,r,s,i,l,c,u,d,p,f,h,m,_,g=function(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),e};function v(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var b=at(["header.openCreateDialog"],["header.openCreateDialog"]),y=at(["loginUser"],["loginUser"]),w=at(["notification.unseenCount"],["notification.unseenCount"]),j=at(["notification.status"],["notification.status"]),k=at(["notification.switchStatus"],["notification.switchStatus"]),E=at(["header.setting.appSwitcherOpen"],["header.setting.appSwitcherOpen"]),C=at(["header.appSwitcherOpen"],["header.appSwitcherOpen"]),S=at(["header.appSwitcherClose"],["header.appSwitcherClose"]),O=at(["currentHost"],["currentHost"]),N=at(["currentPath"],["currentPath"]),P=at(["team.showBasicForm"],["team.showBasicForm"]),T=at(["header.postSchool"],["header.postSchool"]),M=at(["header.openCreateGroupDialog"],["header.openCreateGroupDialog"]),x=at(["header.loginTo"],["header.loginTo"]),R=at(["header.setting.messagesOpen"],["header.setting.messagesOpen"]),I=at(["messages.channels"],["messages.channels"]),D=at(["messages.readState"],["messages.readState"]),A=at(["messages.workspaces"],["messages.workspaces"]),L=at(["header.messagesOpen"],["header.messagesOpen"]),U=at(["header.messagesClose"],["header.messagesClose"]),W=at(["header.setting.headerHeight"],["header.setting.headerHeight"]),z=at(["header.setting.headerTop"],["header.setting.headerTop"]),H=at(["header.setting.scrollTop"],["header.setting.scrollTop"]),q=at(["header.closeLoginWindow"],["header.closeLoginWindow"]),F=at(["header.setCurrHeaderTop"],["header.setCurrHeaderTop"]),B=at(["header.setHeaderPosition"],["header.setHeaderPosition"]),G=at(["header.needReviewDialog.open"],["header.needReviewDialog.open"]),K=at(["header.closeNeedReviewDialog"],["header.closeNeedReviewDialog"]),V=at(["header.tfaConfirmDialog.open"],["header.tfaConfirmDialog.open"]),J=at(["header.doTfaStatus"],["header.doTfaStatus"]),Y=at(["header.doTfa"],["header.doTfa"]),Z=at(["header.closeTfaConfirmDialog"],["header.closeTfaConfirmDialog"]),Q=at(["header.tfaNotifyDialog.open"],["header.tfaNotifyDialog.open"]),X=at(["header.closeTfaNotifyDialog"],["header.closeTfaNotifyDialog"]),$=at(["platform"],["platform"]),ee=at(["header.browserConfirmDialog.open"],["header.browserConfirmDialog.open"]),te=at(["header.closeBrowserConfirmDialog"],["header.closeBrowserConfirmDialog"]),ne=at(["header.openBrowserConfirmDialog"],["header.openBrowserConfirmDialog"]),ae=at(["header.deleteConfirmDialog.open"],["header.deleteConfirmDialog.open"]),oe=at(["header.deleteConfirmDialog.type"],["header.deleteConfirmDialog.type"]),re=at(["header.closeDeleteConfirm"],["header.closeDeleteConfirm"]),se=at(["header.doConfirmDelete"],["header.doConfirmDelete"]),ie=Xe(n(2)),le=Xe(n(1)),ce=Xe(n(3)),ue=n(5),de=n(0),pe=n(24),fe=n(18),he=Xe(n(22)),me=Xe(n(86)),_e=Xe(n(273)),ge=Xe(n(102)),ve=Xe(n(280)),be=Xe(n(103)),ye=Xe(n(87)),we=Xe(n(188)),je=Xe(n(293)),ke=Xe(n(104)),Ee=n(26),Ce=Xe(n(296)),Se=Xe(n(303)),Oe=Xe(n(306)),Ne=Xe(n(309)),Pe=Xe(n(312)),Te=Xe(n(315)),Me=Xe(n(105)),xe=Xe(n(71)),Re=Xe(n(189)),Ie=Xe(n(15)),De=Xe(n(186)),Ae=Xe(n(502)),Le=Xe(n(106)),Ue=Xe(n(320)),We=Xe(n(323)),ze=Xe(n(327)),He=Xe(n(330)),qe=Xe(n(107)),Fe=Xe(n(335)),Be=Xe(n(345)),Ge=Xe(n(348)),Ke=Xe(n(25)),Ve=Xe(n(19)),Je=Xe(n(4)),Ye=Xe(n(351)),Ze=Xe(n(6)),Qe=Xe(n(67));function Xe(e){return e&&e.__esModule?e:{default:e}}function $e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function et(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function nt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function at(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var ot=pe.presets.stiff,rt="https://support.unity3d.com/hc/en-us/sections/202036586-Connect",st="https://forum.unity3d.com/forums/unity-connect.120/";var it=(0,Ke.default)({CREATE_COMPANY:null,MY_GROUPS:null,CREATE_SCHOOL:null,MY_REFERENCES:null,HELP:null,CONTACT_US:null,SETTINGS:null}),lt=(0,ue.decorator)({openCreateDialog:(0,de.signal)(b)})(a=(0,Je.default)(Ye.default)(a=(0,Ze.default)(Qe.default)((nt(ct,ce.default),g(ct,[{key:"render",value:function(){var e=this;return Ie.default.PROJECT_ENABLED?le.default.createElement("div",{className:this.ss("post-project")},le.default.createElement("a",{className:this.ss("link","GA_btn_header_postProject"),onClick:function(){return e.props.openCreateDialog()}},this.__("menu_post_project"))):null}}]),ct.propTypes={openCreateDialog:ie.default.func},a=ct))||a)||a)||a;function ct(){return et(this,ct),tt(this,(ct.__proto__||Object.getPrototypeOf(ct)).apply(this,arguments))}var ut=t.NotificationsAction=(0,ue.decorator)({loginUser:(0,de.state)(y),unseenCount:(0,de.state)(w),status:(0,de.state)(j),switchStatus:(0,de.signal)(k)})(o=(0,Je.default)(Ye.default)(o=(0,Ze.default)(Qe.default)((nt(dt,ce.default),g(dt,[{key:"onClick",value:function(){(0,this.props.switchStatus)(),this.props.onClick&&this.props.onClick()}},{key:"render",value:function(){var e=this,t=this.props,n=t.loginUser,a=t.unseenCount,o=t.status;return n?le.default.createElement(he.default,{text:this.__("tooltip_notifications"),position:"bottom"},le.default.createElement("div",{id:"notifications-action",className:this.ss("notifications-action",o&&"open")},le.default.createElement("button",{className:this.ss("notifications-icon","ifont","ifont-material-baseline-notifications"),"aria-label":this.__("tooltip_notifications"),onClick:function(){return e.onClick()}}),0<a&&le.default.createElement("div",{className:this.ss("badge")},99<a?this.__("count_overflow",{maxCount:99}):a))):null}}]),dt.propTypes={loginUser:ie.default.object,unseenCount:ie.default.number.isRequired,status:ie.default.bool.isRequired,switchStatus:ie.default.func,onClick:ie.default.func},o=dt))||o)||o)||o;function dt(){return et(this,dt),tt(this,(dt.__proto__||Object.getPrototypeOf(dt)).apply(this,arguments))}var pt=t.ApplicationSwitcherAction=(0,ue.decorator)({isAppSwitcherOpen:(0,de.state)(E),appSwitcherOpen:(0,de.signal)(C),appSwitcherClose:(0,de.signal)(S)})(r=(0,Je.default)(Ye.default)(r=(0,Ze.default)(Qe.default)((nt(ft,ce.default),g(ft,[{key:"onClick",value:function(){var e=this.props,t=e.isAppSwitcherOpen,n=e.appSwitcherOpen,a=e.appSwitcherClose;(t?a:n)(),this.props.onClick&&this.props.onClick()}},{key:"render",value:function(){var e=this,t=this.props,n=t.isAppSwitcherOpen,a=t.className;return le.default.createElement("div",{className:this.ss("app-switcher-wrap",a)},le.default.createElement(he.default,{text:this.__("tooltip_app_switcher"),position:"bottom"},le.default.createElement("div",{className:this.ss("app-switcher-action",n&&"open"),id:"app-switcher-action"},le.default.createElement("button",{className:this.ss("app-switcher-icon","ifont","ifont-material-baseline-apps"),"aria-label":this.__("tooltip_app_switcher"),onClick:function(){return e.onClick()}}))),n&&le.default.createElement(ht,{onDashboardClick:function(){return e.props.onDashboardClick&&e.props.onDashboardClick()},onAssetStoreClick:function(){return e.props.onAssetStoreClick&&e.props.onAssetStoreClick()},onAnswersClick:function(){return e.props.onAnswersClick&&e.props.onAnswersClick()},onForumClick:function(){return e.props.onForumClick&&e.props.onForumClick()},onDistributeClick:function(){return e.props.onDistributeClick&&e.props.onDistributeClick()},onLearnClick:function(){return e.props.onLearnClick&&e.props.onLearnClick()}}))}}]),ft.propTypes={isAppSwitcherOpen:ie.default.bool.isRequired,className:ie.default.string,appSwitcherOpen:ie.default.func,appSwitcherClose:ie.default.func,onDashboardClick:ie.default.func,onAssetStoreClick:ie.default.func,onAnswersClick:ie.default.func,onForumClick:ie.default.func,onDistributeClick:ie.default.func,onLearnClick:ie.default.func,onClick:ie.default.func},r=ft))||r)||r)||r;function ft(){return et(this,ft),tt(this,(ft.__proto__||Object.getPrototypeOf(ft)).apply(this,arguments))}var ht=(0,ue.decorator)({isAppSwitcherOpen:(0,de.state)(E),appSwitcherClose:(0,de.signal)(S)})(s=(0,Je.default)(Ye.default)(s=(0,Ze.default)(Qe.default)((nt(mt,ce.default),g(mt,[{key:"componentDidMount",value:function(){var e=this;this.removeClickOutside=(0,fe.addClickOutside)([this,"app-switcher-action"],function(){e.props.appSwitcherClose()})}},{key:"componentWillUnmount",value:function(){this.removeClickOutside()}},{key:"render",value:function(){var t=this,e=[{name:"Asset Store",icon:"icons-app-assetstore",href:"https://assetstore.unity.com",onClick:function(){return t.props.onAssetStoreClick&&t.props.onAssetStoreClick()}},{name:"Dashboard",icon:"icons-app-dashboard",href:"https://dashboard.unity3d.com",onClick:function(){return t.props.onDashboardClick&&t.props.onDashboardClick()}},{name:"Distribute",icon:"UDP-Icon",href:"https://distribute.dashboard.unity.com",onClick:function(){return t.props.onDistributeClick&&t.props.onDistributeClick()}},{name:"Forum",icon:"icons-app-forum",href:"https://forum.unity.com",onClick:function(){return t.props.onForumClick&&t.props.onForumClick()}},{name:"Learn",icon:"icons-explore",href:"https://learn.unity.com/",onClick:function(){return t.props.onLearnClick&&t.props.onLearnClick()}}].map(function(e){return le.default.createElement("a",{className:t.ss("app-item"),href:e.href,key:e.name,onClick:function(){return e.onClick()}},le.default.createElement("div",{className:t.ss("app-icon","ifont","ifont-"+e.icon)}),le.default.createElement("div",{className:t.ss("app-name")},e.name))});return le.default.createElement("div",{className:this.ss("app-switcher")},le.default.createElement("div",{className:this.ss("switcher-wrap")},e))}}]),mt.propTypes={isAppSwitcherOpen:ie.default.bool.isRequired,appSwitcherClose:ie.default.func,onDashboardClick:ie.default.func,onAssetStoreClick:ie.default.func,onAnswersClick:ie.default.func,onForumClick:ie.default.func,onDistributeClick:ie.default.func,onLearnClick:ie.default.func},s=mt))||s)||s)||s;function mt(){return et(this,mt),tt(this,(mt.__proto__||Object.getPrototypeOf(mt)).apply(this,arguments))}var _t=!1,gt=t.AvatarAction=(0,ue.decorator)({loginUser:(0,de.state)(y),currentHost:(0,de.state)(O),currentPath:(0,de.state)(N),showForm:(0,de.signal)(P),postSchool:(0,de.signal)(T),postGroup:(0,de.signal)(M),loginTo:(0,de.signal)(x)})(i=(0,Je.default)(Ye.default)(i=(0,Ze.default)(Qe.default)((nt(vt,ce.default),g(vt,[{key:"componentDidMount",value:function(){_t||(_t=!0,window.addEventListener("uasMenuClicked",this.onMenuClicked))}},{key:"componentWillUnmount",value:function(){window.addEventListener("uasMenuClicked",this.onMenuClicked)}},{key:"render",value:function(){var e=this.props,t=e.loginUser,n=e.currentHost,a=e.currentPath,o="https://"+n+"/public/pages/auth/cbiframe.html?redirect_to="+encodeURIComponent(a)+"&source=account_switch",r="https://"+n+"/auth/account_switch/callback?noiframe=true&redirect_to="+encodeURIComponent(a),s="https://"+n+"/auth/logout/callback?redirectUri="+a,i=Ie.default.NAME,l="prod",l="production"===i?"prod":"staging"===i?"staging":"int",c={headerHeight:72,menuItems:[{key:it.CREATE_COMPANY,title:this.__("menu_avatar_create_team")},{key:it.MY_GROUPS,title:this.__("menu_avatar_my_group")},{key:it.CREATE_SCHOOL,title:this.__("menu_avatar_create_school")},{key:it.MY_REFERENCES,title:this.__("menu_avatar_references")},{key:it.HELP,title:this.__("menu_avatar_help"),href:rt},{key:it.CONTACT_US,title:this.__("menu_avatar_contact"),href:st},{key:it.SETTINGS,title:this.__("menu_avatar_settings")}],env:l,loginRedirectURL:o,switchAccountRidirectURL:r,logoutRedirectURL:s,clientID:"marketplace"};return t&&(c.user={avatar:t.avatar,name:t.name},c.userProfileURL="https://"+n+"/u/"+t.id),le.default.createElement("div",{className:this.ss("account-switcher")},le.default.createElement("unity-account-switcher",{config:JSON.stringify(c)}))}}]),vt.propTypes={loginUser:ie.default.object,currentHost:ie.default.string,currentPath:ie.default.string,showForm:ie.default.func,postSchool:ie.default.func,postGroup:ie.default.func,loginTo:ie.default.func},i=vt))||i)||i)||i;function vt(){var e,t,i;et(this,vt);for(var n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=i=tt(this,(e=vt.__proto__||Object.getPrototypeOf(vt)).call.apply(e,[this].concat(a)))).onMenuClicked=function(e){var t,n=i.props,a=n.showForm,o=n.postSchool,r=($e(t={},it.CREATE_COMPANY,a),$e(t,it.CREATE_SCHOOL,o),$e(t,it.MY_GROUPS,function(){return(0,Ve.default)("/groups")}),$e(t,it.MY_REFERENCES,function(){return(0,Ve.default)("/ref")}),$e(t,it.SETTINGS,function(){return(0,Ve.default)("/settings")}),t),s=e.detail;r[s]&&r[s]()},tt(i,t)}var bt=t.BarsAction=(0,Je.default)(Ye.default)(l=(0,Ze.default)(Qe.default)((nt(yt,ce.default),g(yt,[{key:"componentDidMount",value:function(){var e=this;this.removeClickOutside=(0,fe.addClickOutside)([this],function(){e.setState({hover:!1})})}},{key:"componentWillUnmount",value:function(){this.removeClickOutside()}},{key:"render",value:function(){var e=this,t=this.state.hover;return le.default.createElement("div",{className:this.ss("bars-action",t&&"hover")},le.default.createElement("button",{className:this.ss("button","ifont","ifont-bars"),onClick:function(){return e.setState({hover:!t})}}),le.default.createElement("div",{className:this.ss("popout")},t&&le.default.createElement(Ue.default,{onClose:function(){return e.setState({hover:!1})}})))}}]),l=yt))||l)||l;function yt(){var e,t,n;et(this,yt);for(var a=arguments.length,o=Array(a),r=0;r<a;r++)o[r]=arguments[r];return(t=n=tt(this,(e=yt.__proto__||Object.getPrototypeOf(yt)).call.apply(e,[this].concat(o)))).state={hover:!1},tt(n,t)}var wt=t.MessagesAction=(0,ue.decorator)({isMessagesOpen:(0,de.state)(R),channels:(0,de.state)(I),readState:(0,de.state)(D),loginUser:(0,de.state)(y),workspaces:(0,de.state)(A),messagesOpen:(0,de.signal)(L),messagesClose:(0,de.signal)(U)})(c=(0,Je.default)(Ye.default)(c=(0,Ze.default)(Qe.default)((nt(jt,ce.default),g(jt,[{key:"onOpen",value:function(){var e=this.props,t=e.isMessagesOpen,n=e.messagesOpen,a=e.messagesClose;(t?a:n)(),this.props.onClick&&this.props.onClick()}},{key:"render",value:function(){var e=this,t=this.props,n=t.isMessagesOpen,a=t.channels,o=t.readState,r=t.loginUser,s=t.workspaces;if(!r)return null;var i=null,l=Object.values(a).filter(function(e){var t=s[e.workspaceId];return t&&""===t.organizationId}).reduce(function(e,t){var n=t.id;return e+o[n].mentionCount},0);return 0<l?i=le.default.createElement("div",{className:this.ss("badge")},99<l?this.__("count_overflow",{maxCount:99}):l):0<Object.values(a).filter(function(e){return!e.isMute&&o[e.id]&&o[e.id].ackMessageId<o[e.id].lastMessageId}).length&&(i=le.default.createElement("div",{className:this.ss("badge","badge-hint")})),le.default.createElement("div",{className:this.ss("messages-wrap")},le.default.createElement(he.default,{text:this.__("messages_action"),position:"bottom"},le.default.createElement("div",{id:"messages-action",className:this.ss("messages-action",n&&"open")},le.default.createElement("button",{className:this.ss("messages-icon","ifont","ifont-material-baseline-question_answer"),"aria-label":this.__("messages_action"),onClick:function(){return e.onOpen()}}),i)),n&&le.default.createElement(Ce.default,null))}}]),jt.propTypes={isMessagesOpen:ie.default.bool.isRequired,messagesOpen:ie.default.func,messagesClose:ie.default.func,loginUser:ie.default.object,workspaces:ie.default.object,channels:ie.default.object,readState:ie.default.object,onClick:ie.default.func},c=jt))||c)||c)||c;function jt(){return et(this,jt),tt(this,(jt.__proto__||Object.getPrototypeOf(jt)).apply(this,arguments))}var kt=(0,ue.decorator)({currentPath:(0,de.state)(N),loginUser:(0,de.state)(y),headerHeight:(0,de.state)(W),headerTop:(0,de.state)(z),scrollTop:(0,de.state)(H),notificationStatus:(0,de.state)(j),closeLoginWindow:(0,de.signal)(q),setCurrHeaderTop:(0,de.signal)(F),setHeaderPosition:(0,de.signal)(B)})(u=(0,Je.default)(Ye.default)(u=(0,Ze.default)(Qe.default)((nt(Et,ce.default),g(Et,[{key:"componentDidMount",value:function(){document.getElementById("pageBody").parentNode.addEventListener("scroll",this.onHandleScroll)}},{key:"componentWillUnmount",value:function(){document.getElementById("pageBody").parentNode.removeEventListener("scroll",this.onHandleScroll)}},{key:"isLogin",value:function(){return!!this.props.loginUser}},{key:"inSignUp",value:function(){return"/sign-up"===this.props.currentPath}},{key:"renderMobileSearchBox",value:function(){var e=this;return le.default.createElement("div",{className:this.ss("mobile-search-box")},le.default.createElement(je.default,{hideMobileSearch:function(){return e.setState({showMobileSearch:!1})},autoFocus:!0}))}},{key:"renderMenuItems",value:function(){var e=this;if(this.inSignUp())return null;var t=this.props.currentPath,n=this.state.showMobileSearch,a="/search"!==t;return le.default.createElement("div",{className:this.ss("main-menu-wrapper")},le.default.createElement("div",{className:this.ss("main-menu")},le.default.createElement("div",{className:this.ss("menu-left")},le.default.createElement(We.default,null),le.default.createElement(ze.default,null),le.default.createElement(He.default,null),le.default.createElement(qe.default,null)),le.default.createElement("div",{className:this.ss("menu-right")},a&&le.default.createElement(je.default,null),le.default.createElement(lt,null))),le.default.createElement("button",{className:this.ss("mobile-search"),onClick:function(){return e.setState({showMobileSearch:!n})}},le.default.createElement("a",{className:this.ss("search-icon","ifont","ifont-icons-search")})),n&&this.renderMobileSearchBox())}},{key:"renderUserActions",value:function(){return this.inSignUp()?le.default.createElement("div",{className:this.ss("user-actions")},le.default.createElement("div",{className:this.ss("beta-user")},le.default.createElement("a",{className:this.ss("logout-btn"),href:"/auth/logout"},this.__("logout_action")))):le.default.createElement("div",{className:this.ss("user-actions")},le.default.createElement(ke.default,{right:[le.default.createElement(wt,{key:"messages"}),le.default.createElement(ut,{key:"notifications"}),le.default.createElement(pt,{key:"application_switcher"}),le.default.createElement(gt,{key:"avatar"}),le.default.createElement(bt,{key:"bars"})]}))}},{key:"renderLogo",value:function(){return le.default.createElement("div",{className:this.ss("logo")},le.default.createElement("a",{href:"/"},le.default.createElement("img",{role:"presentation",src:n(352)})))}},{key:"render",value:function(){var r=this,e=this.props,s=e.headerHeight,t=e.headerTop,n=e.closeLoginWindow,i=e.setCurrHeaderTop;return le.default.createElement("div",null,le.default.createElement(Le.default,null),le.default.createElement(_e.default,null),le.default.createElement(me.default,null),le.default.createElement(ve.default,null),le.default.createElement(Ne.default,null),le.default.createElement(pe.Motion,{style:{headerTop:(0,pe.spring)(t,ot)}},function(e){var t,n,a=e.headerTop,o={position:"fixed",top:(t=a,n=s,0<(t=Math.round(t))?t=0:t<-n&&(t=-n),t)};return"undefined"!=typeof window&&setTimeout(function(){i({currHeaderTop:o.top})},0),le.default.createElement("div",{className:r.ss("header-wrap"),style:o},le.default.createElement(Se.default,null),le.default.createElement("div",{className:r.ss("header")},r.renderLogo(),r.renderMenuItems(),r.renderUserActions()),le.default.createElement(Be.default,null),le.default.createElement(Ge.default,null))}),le.default.createElement(ge.default,null),le.default.createElement(be.default,{onClose:function(){return n()}}),le.default.createElement(ye.default,null),le.default.createElement(we.default,null),le.default.createElement(Pe.default,null),le.default.createElement(Te.default,null),le.default.createElement(Me.default,null),le.default.createElement(Oe.default,null),le.default.createElement(Ct,null),le.default.createElement(Ot,null),le.default.createElement(Pt,null),le.default.createElement(Mt,null),le.default.createElement(Rt,null),le.default.createElement(Fe.default,null))}}]),Et.propTypes={currentPath:ie.default.string.isRequired,loginUser:ie.default.object,headerHeight:ie.default.number,headerTop:ie.default.number.isRequired,scrollTop:ie.default.number.isRequired,notificationStatus:ie.default.bool.isRequired,closeLoginWindow:ie.default.func,setCurrHeaderTop:ie.default.func,setHeaderPosition:ie.default.func},u=Et))||u)||u)||u;function Et(){var e,t,c;et(this,Et);for(var n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=c=tt(this,(e=Et.__proto__||Object.getPrototypeOf(Et)).call.apply(e,[this].concat(a)))).state={},c.onHandleScroll=function(){var e=c.props,t=e.scrollTop,n=e.headerTop,a=e.setHeaderPosition,o=e.headerHeight,r=document.getElementById("pageBody").parentNode,s=r.scrollTop,i=r.scrollHeight,l=r.clientHeight;(0,Ee.isTouch)()?n<0&&a({headerTop:0,scrollTop:s}):t<s?a({headerTop:Math.min(n,o<s?-o:-s),scrollTop:s}):s<t&&s<=i-l&&a({headerTop:Math.max(n,o<s?0:-s),scrollTop:s})},tt(c,t)}t.default=kt;var Ct=(0,ue.decorator)({needReviewOpen:(0,de.state)(G),closeNeedReviewDialog:(0,de.signal)(K)})(d=(0,Je.default)(Ye.default)(d=(0,Ze.default)(Qe.default)((nt(St,ce.default),g(St,[{key:"render",value:function(){var e=this.props,t=e.needReviewOpen,n=e.closeNeedReviewDialog;return le.default.createElement(xe.default,{theme:"default",open:t,title:this.__("review_title"),description:this.__("review_text"),hideCancel:!0,onClose:function(){return n()},onConfirm:function(){return n()}})}}]),St.propTypes={needReviewOpen:ie.default.bool,closeNeedReviewDialog:ie.default.func},d=St))||d)||d)||d;function St(){return et(this,St),tt(this,(St.__proto__||Object.getPrototypeOf(St)).apply(this,arguments))}var Ot=t.TfaConfirmDialog=(0,ue.decorator)({tfaConfirmOpen:(0,de.state)(V),doTfaStatus:(0,de.state)(J),doTfa:(0,de.signal)(Y),closeTfaConfirmDialog:(0,de.signal)(Z)})(p=(0,Je.default)(Ye.default)(p=(0,Ze.default)(Qe.default)((nt(Nt,ce.default),g(Nt,[{key:"render",value:function(){var e=this.props,t=e.tfaConfirmOpen,n=e.doTfaStatus,a=e.doTfa,o=e.closeTfaConfirmDialog;return le.default.createElement(xe.default,{theme:"tfa",open:t,title:this.__("confirm_title"),description:this.__("confirm_text"),confirmStatus:n,onConfirm:function(){return a()},onClose:function(){return o()}})}}]),Nt.propTypes={tfaConfirmOpen:ie.default.bool,doTfaStatus:ie.default.string,doTfa:ie.default.func,closeTfaConfirmDialog:ie.default.func},p=Nt))||p)||p)||p;function Nt(){return et(this,Nt),tt(this,(Nt.__proto__||Object.getPrototypeOf(Nt)).apply(this,arguments))}var Pt=t.TfaNotifyDialog=(0,ue.decorator)({tfaNotifyOpen:(0,de.state)(Q),doTfaStatus:(0,de.state)(J),doTfa:(0,de.signal)(Y),closeTfaNotifyDialog:(0,de.signal)(X)})(f=(0,Je.default)(Ye.default)(f=(0,Ze.default)(Qe.default)((nt(Tt,ce.default),g(Tt,[{key:"render",value:function(){var e=this.props,t=e.tfaNotifyOpen,n=e.doTfaStatus,a=e.doTfa,o=e.closeTfaNotifyDialog;return le.default.createElement(Re.default,{theme:"tfa",open:t,title:this.__("notify_title"),description:this.__("notify_text"),confirmStatus:n,onOK:function(){return a()},onClose:function(){return o()}})}}]),Tt.propTypes={tfaNotifyOpen:ie.default.bool,doTfaStatus:ie.default.string,doTfa:ie.default.func,closeTfaNotifyDialog:ie.default.func},f=Tt))||f)||f)||f;function Tt(){return et(this,Tt),tt(this,(Tt.__proto__||Object.getPrototypeOf(Tt)).apply(this,arguments))}var Mt=(0,ue.decorator)({platform:(0,de.state)($),browserConfirmOpen:(0,de.state)(ee),closeBrowserConfirmDialog:(0,de.signal)(te),openBrowserConfirmDialog:(0,de.signal)(ne)})(h=(0,Je.default)(Ye.default)(h=(0,Ze.default)(Qe.default)((nt(xt,ce.default),g(xt,[{key:"componentDidMount",value:function(){var e=(this.props.platform||{}).ua;(0,De.default)(e)||(0,Ae.default)(e)||this.checkBrowserVersion()}},{key:"versionSimplify",value:function(e){if(!e)return null;var t=e.split(".");return isFinite(t[0])?parseInt(t[0],10):null}},{key:"checkBrowserVersion",value:function(){var e=this.props,t=e.platform,n=e.openBrowserConfirmDialog,a=t||{name:"",version:""},o=a.name,r=a.version,s=this.versionSimplify(r);if(s){if(o&&"safari"===o.toLowerCase()){if(10<=s)return;n()}if(o&&"chrome"===o.toLowerCase()){if(49<=s)return;n()}if(o&&"firefox"===o.toLowerCase()){if(51<=s)return;n()}o&&"ie"===o.toLowerCase()&&n()}else console.error("can not parse version number: "+r)}},{key:"render",value:function(){var e=this.props,t=e.browserConfirmOpen,n=e.closeBrowserConfirmDialog,a=e.platform||{name:"",version:""},o=a.name,r=a.version,s="";return o&&"safari"===o.toLowerCase()&&(s=10),o&&"chrome"===o.toLowerCase()&&(s=49),o&&"firefox"===o.toLowerCase()&&(s=51),o&&"ie"===o.toLowerCase()&&(s="Chrome/Edge"),le.default.createElement(xe.default,{theme:"default",hideCancel:!0,open:t,title:this.__("browser_confirm_title"),description:this.__("browser_confirm_text",{version:r,recommendVersion:s}),onConfirm:function(){return n()},onClose:function(){return n()}})}}]),xt.propTypes={browserConfirmOpen:ie.default.bool,platform:ie.default.object,closeBrowserConfirmDialog:ie.default.func,openBrowserConfirmDialog:ie.default.func},h=xt))||h)||h)||h;function xt(){return et(this,xt),tt(this,(xt.__proto__||Object.getPrototypeOf(xt)).apply(this,arguments))}var Rt=t.DeleteConfirmDialog=(0,ue.decorator)({deleteConfirmOpen:(0,de.state)(ae),deleteConfirmType:(0,de.state)(oe),closeDeleteConfirm:(0,de.signal)(re),doConfirmDelete:(0,de.signal)(se)})(m=(0,Je.default)(Ye.default)(m=(0,Ze.default)(Qe.default)((nt(It,ce.default),g(It,[{key:"render",value:function(){var e=this.props,t=e.deleteConfirmOpen,n=e.deleteConfirmType,a=e.closeDeleteConfirm,o=e.doConfirmDelete;return le.default.createElement(xe.default,{open:t,theme:"delete",title:this.__("delete_confirm_"+n+"_title"),description:this.__("delete_confirm_"+n+"_text"),onConfirm:function(){return o()},onClose:function(){return a()}})}}]),(_=It).propTypes={deleteConfirmOpen:ie.default.bool,deleteConfirmType:ie.default.oneOf(["default","comment","post","transfer_owner","group_kick","announcement","reject_refund","accept_refund","reject_dispute","accept_dispute"]),closeDeleteConfirm:ie.default.func,doConfirmDelete:ie.default.func},m=_))||m)||m)||m;function It(){return et(this,It),tt(this,(It.__proto__||Object.getPrototypeOf(It)).apply(this,arguments))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=x(["report.status"],["report.status"]),i=x(["report.processStatus"],["report.processStatus"]),l=x(["report.reportForm"],["report.reportForm"]),c=x(["report.itemType"],["report.itemType"]),u=x(["report.reportTitle"],["report.reportTitle"]),d=x(["report.close"],["report.close"]),p=x(["report.submitReport"],["report.submitReport"]),f=x(["report.changeType"],["report.changeType"]),h=x(["report.changeInputReasons"],["report.changeInputReasons"]),m=T(n(2)),_=T(n(1)),g=n(5),v=n(0),b=T(n(3)),y=T(n(12)),w=T(n(72)),j=T(n(13)),k=T(n(45)),E=T(n(37)),C=n(7),S=T(n(4)),O=T(n(360)),N=T(n(6)),P=T(n(361));function T(e){return e&&e.__esModule?e:{default:e}}function M(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function x(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var R=(0,g.decorator)({status:(0,v.state)(s),processStatus:(0,v.state)(i),reportForm:(0,v.state)(l),itemType:(0,v.state)(c),reportTitle:(0,v.state)(u),close:(0,v.signal)(d),submitReport:(0,v.signal)(p),changeType:(0,v.signal)(f),changeInputReasons:(0,v.signal)(h)})(a=(0,S.default)(O.default)(a=(0,N.default)(P.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(I,b.default),o(I,[{key:"componentDidUpdate",value:function(e){var t=this;!1===e.status&&!0===this.props.status&&setTimeout(function(){return t.setFocus()},100)}},{key:"onSubmit",value:function(){this.props.submitReport({formPath:["report","reportForm"]})}},{key:"setFocus",value:function(){var e=y.default.findDOMNode(this.refs.focusButton);e&&e.focus()}},{key:"renderOtherOption",value:function(){var e=this.props,t=e.reportForm,n=e.changeType,a=e.changeInputReasons;return _.default.createElement("div",{key:"other",className:this.ss("report-option-row")},_.default.createElement(k.default,{key:"option_other",className:this.ss("report-option-item"),label:"",value:"other",isChecked:"other"===t.type.value,onCheck:function(e,t){return n({value:t})}}),_.default.createElement(E.default,{className:this.ss("input"),placeholder:this.__("input_placeholder"),disabled:"other"!==t.type.value,value:t.inputReasons.value,errorText:t.inputReasons.isTouched&&this.__(t.inputReasons.errorMessage),onChange:function(e,t){return a({value:t})}}))}},{key:"render",value:function(){var t=this,e=this.props,n=e.reportForm,a=e.status,o=e.processStatus,r=e.itemType,s=e.reportTitle,i=e.changeType;if(!n)return null;var l=this.options.map(function(e){return"other"===e?t.renderOtherOption():_.default.createElement(k.default,{key:"option_"+e,className:t.ss("report-option-item"),label:t.__("report_option_"+e),value:e,isChecked:n.type.value===e,onCheck:function(e,t){return i({value:t})}})});return _.default.createElement(w.default,{open:a,className:this.ss("dialog-wrap"),title:s?this.__("title_report_"+s):this.__("title_report_"+r),onCloseModal:this.onClose,maxHeight:!0},_.default.createElement("div",{className:this.ss("report-wrap")},_.default.createElement("h1",{className:this.ss("report-title")},this.__("report_title")),_.default.createElement("div",{className:this.ss("report-options")},l),_.default.createElement("div",{className:this.ss("button-wrap")},_.default.createElement(j.default,{ref:"focusButton",theme:"default",loading:(0,C.isLoading)(o),className:this.ss("button","btn-submit"),label:this.__("btn_submit"),onClick:function(){return t.onSubmit()}}))))}}]),I.propTypes={status:m.default.bool,processStatus:m.default.string,reportForm:m.default.object,itemType:m.default.string,reportTitle:m.default.string,close:m.default.func,submitReport:m.default.func,changeType:m.default.func,changeInputReasons:m.default.func},a=I))||a)||a)||a;function I(){var e,t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,I);for(var a=arguments.length,o=Array(a),r=0;r<a;r++)o[r]=arguments[r];return(t=n=M(this,(e=I.__proto__||Object.getPrototypeOf(I)).call.apply(e,[this].concat(o)))).onClose=function(){n.props.close({formPath:["report","reportForm"]})},n.options=["spam","copyright_violation","abusive_contents","adult_contents","other"],M(n,t)}t.default=R},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o,r=function(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e};function s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var i=h(n(1)),l=h(n(2)),c=h(n(3)),u=h(n(4)),d=h(n(269)),p=h(n(6)),f=h(n(270));function h(e){return e&&e.__esModule?e:{default:e}}var m=(0,u.default)(d.default)(a=(0,p.default)(f.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(_,c.default),r(_,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.type;return i.default.createElement("div",{className:this.ss(t,"container")},this.__(n))}}]),(o=_).propTypes={className:l.default.string,type:l.default.oneOf(["admin","moderator","staff"])},a=o))||a)||a;function _(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EndBarComponent=t.default=void 0;var a,o,r,s,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=function(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e};function c(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var u=M(["search.searchResult.currentPage"],["search.searchResult.currentPage"]),d=M(["search.searchResult.pages"],["search.searchResult.pages"]),p=M(["search.searchStatus"],["search.searchStatus"]),f=M(["search.loadMoreStatus"],["search.loadMoreStatus"]),h=M(["footer.height"],["footer.height"]),m=O(n(2)),_=O(n(1)),g=n(5),v=n(0),b=O(n(3)),y=O(n(13)),w=n(7),j=O(n(70)),k=O(n(4)),E=O(n(271)),C=O(n(6)),S=O(n(272));function O(e){return e&&e.__esModule?e:{default:e}}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function M(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var x=(0,g.decorator)({currentPage:(0,v.state)(u),pages:(0,v.state)(d),searchStatus:(0,v.state)(p),loadMoreStatus:(0,v.state)(f),footerHeight:(0,v.state)(h)})((T(R,b.default),l(R,[{key:"componentDidMount",value:function(){document.getElementById("pageBody").parentNode.addEventListener("scroll",this.onHandleScroll)}},{key:"componentWillUnmount",value:function(){document.getElementById("pageBody").parentNode.removeEventListener("scroll",this.onHandleScroll)}},{key:"onPage",value:function(){var e=this.props,t=e.searchStatus,n=e.loadMoreStatus;(0,w.isLoading)(t)||(0,w.isLoading)(n)||!this.hasMoreResult()||!this.props.onPage||this.props.onPage()}},{key:"isScrollToEnd",value:function(){var e=document.getElementById("pageBody").parentNode,t=e.scrollTop;return e.scrollHeight<=t+e.clientHeight}},{key:"hasMoreResult",value:function(){var e,t=this.props,n=t.currentPage,a=t.pages,o=t.hasMore,r=!1;return o?r=o():a&&0<a.length&&0<=(e=a.indexOf(n))&&e<a.length-1&&(r=!0),r}},{key:"render",value:function(){var e=this,t=(0,j.default)(this.props,"hasMore","onPage");return _.default.createElement(I,i({},t,{hasMore:this.hasMoreResult(),onPage:function(){return e.onPage()}}))}}]),R.propTypes={currentPage:m.default.number,pages:m.default.array,searchStatus:m.default.string,loadMoreStatus:m.default.string,footerHeight:m.default.number,onPage:m.default.func,hasMore:m.default.func,preventLoadOnScroll:m.default.bool},a=R))||a;function R(){var e,t,a;N(this,R);for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=a=P(this,(e=R.__proto__||Object.getPrototypeOf(R)).call.apply(e,[this].concat(o)))).onHandleScroll=function(){var e=a.props,t=e.searchStatus,n=e.loadMoreStatus;!((0,w.isLoading)(t)||(0,w.isLoading)(n))&&a.hasMoreResult()&&a.isScrollToEnd()&&a.hasMoreResult()&&a.preventLoadOnScroll&&a.onPage()},P(a,t)}t.default=x;var I=t.EndBarComponent=(0,g.decorator)({loadMoreStatus:(0,v.state)(f)})(o=(0,k.default)(E.default)(o=(0,C.default)(S.default)((T(D,b.default),l(D,[{key:"render",value:function(){var e=this.props,t=e.userDefinedLoadMoreStaus,n=e.loadMoreStatus,a=e.hasMore,o=e.onPage,r=e.theme,s=null;return(0,w.isLoading)(t||n)?s="livehelp"===r?_.default.createElement("div",{className:this.ss("searchInProgress")},_.default.createElement("div",{className:this.ss("loading-text")},this.__("loading_text"))):_.default.createElement("div",{className:this.ss("searchInProgress")},_.default.createElement("div",{className:this.ss("loading")})):a&&(s="post"===r?_.default.createElement(y.default,{theme:"gray",widthType:"full",size:"xlarge",label:this.__("view_more"),onClick:function(){return o()}}):_.default.createElement(y.default,{theme:"default",className:this.ss("more"),label:this.__("more"),onClick:function(){return o()}})),_.default.createElement("div",{key:"status",className:this.ss("statusBar",r)},s)}}]),s=r=D,r.propTypes={loadMoreStatus:m.default.string,userDefinedLoadMoreStaus:m.default.string,hasMore:m.default.bool,theme:m.default.oneOf(["default","post","flex","livehelp"]),onPage:m.default.func},r.defaultProps={theme:"default"},o=s))||o)||o)||o;function D(){return N(this,D),P(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=A(["header.setting.headerHeight"],["header.setting.headerHeight"]),i=A(["notification.status"],["notification.status"]),l=A(["notification.firstLoad"],["notification.firstLoad"]),c=A(["notification.unreadCount"],["notification.unreadCount"]),u=A(["notification.total"],["notification.total"]),d=A(["notification.page"],["notification.page"]),p=A(["notification.pageTotal"],["notification.pageTotal"]),f=A(["notification.results"],["notification.results"]),h=A(["notification.processStatus"],["notification.processStatus"]),m=A(["header.setting.currHeaderTop"],["header.setting.currHeaderTop"]),_=A(["notification.switchStatusToFalse"],["notification.switchStatusToFalse"]),g=A(["notification.getNotifications"],["notification.getNotifications"]),v=A(["notification.makeAllRead"],["notification.makeAllRead"]),b=I(n(2)),y=I(n(1)),w=I(n(12)),j=n(5),k=n(0),E=I(n(3)),C=n(18),S=I(n(17)),O=I(n(22)),N=I(n(275)),P=n(7),T=I(n(4)),M=I(n(278)),x=I(n(6)),R=I(n(279));function I(e){return e&&e.__esModule?e:{default:e}}function D(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function A(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var L=(0,j.decorator)({headerHeight:(0,k.state)(s),status:(0,k.state)(i),firstLoad:(0,k.state)(l),unreadCount:(0,k.state)(c),total:(0,k.state)(u),page:(0,k.state)(d),pageTotal:(0,k.state)(p),results:(0,k.state)(f),processStatus:(0,k.state)(h),currHeaderTop:(0,k.state)(m),switchStatusToFalse:(0,k.signal)(_),getNotifications:(0,k.signal)(g),makeAllRead:(0,k.signal)(v)})(a=(0,T.default)(M.default)(a=(0,x.default)(R.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(U,E.default),o(U,[{key:"componentDidMount",value:function(){var e=this;w.default.findDOMNode(this.refs.ntfList).parentNode.addEventListener("scroll",this.onHandleScroll),"function"==typeof this.props.switchStatusToFalse&&(this.removeClickOutside=(0,C.addClickOutside)([this,"notifications-action"],function(){e.props.switchStatusToFalse()}))}},{key:"componentWillUnmount",value:function(){w.default.findDOMNode(this.refs.ntfList).parentNode.removeEventListener("scroll",this.onHandleScroll),this.removeClickOutside()}},{key:"onPage",value:function(){var e=this.props.processStatus;(0,P.isLoading)(e)||this.isEnd()||this.props.getNotifications()}},{key:"isScrollToEnd",value:function(){var e=w.default.findDOMNode(this.refs.ntfList).parentNode,t=e.scrollTop;return e.scrollHeight<=t+e.clientHeight}},{key:"isEnd",value:function(){var e=this.props,t=e.page;return e.pageTotal<=t}},{key:"renderTitle",value:function(){var e=this,t=0<this.props.unreadCount&&y.default.createElement("div",{className:this.ss("count")},this.props.unreadCount);return y.default.createElement("div",{className:this.ss("header")},y.default.createElement("div",{className:this.ss("title")},y.default.createElement("div",{className:this.ss("title-txt")},this.__("title")),t,y.default.createElement("div",{className:this.ss("make-all")},y.default.createElement(O.default,{text:this.__("tooltip_make_all"),position:"bottom-left"},y.default.createElement("div",{className:this.ss("ifont","ifont-icon-mark-all-read","make-all-btn"),onClick:function(){return e.props.makeAllRead()}})))))}},{key:"render",value:function(){var e=this.props,t=e.status,n=e.currHeaderTop,a=e.headerHeight;return y.default.createElement("div",{className:this.ss("notifications-wrap",t&&"open"),style:{top:a+n+"px"}},y.default.createElement("div",{className:this.ss("notifications")},this.renderTitle(),y.default.createElement(S.default,null,y.default.createElement(N.default,{ref:"ntfList"}))))}}]),U.propTypes={headerHeight:b.default.number,status:b.default.bool,firstLoad:b.default.bool,unreadCount:b.default.number,total:b.default.number,page:b.default.number,pageTotal:b.default.number,results:b.default.array,processStatus:b.default.string,currHeaderTop:b.default.number.isRequired,switchStatusToFalse:b.default.func,getNotifications:b.default.func,makeAllRead:b.default.func},a=U))||a)||a)||a;function U(){var e,t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,U);for(var a=arguments.length,o=Array(a),r=0;r<a;r++)o[r]=arguments[r];return(t=n=D(this,(e=U.__proto__||Object.getPrototypeOf(U)).call.apply(e,[this].concat(o)))).onHandleScroll=function(){n.isScrollToEnd()&&!n.isEnd()&&n.onPage()},D(n,t)}t.default=L},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=w(["header.login.open"],["header.login.open"]),i=w(["header.login.url"],["header.login.url"]),l=b(n(2)),c=b(n(1)),u=n(5),d=n(0),p=b(n(3)),f=b(n(12)),h=b(n(20)),m=b(n(4)),_=b(n(290)),g=b(n(6)),v=b(n(291));function b(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function w(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var j=(0,u.decorator)({open:(0,d.state)(s),url:(0,d.state)(i)})(a=(0,m.default)(_.default)(a=(0,g.default)(v.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(k,p.default),o(k,[{key:"componentDidUpdate",value:function(){var e;this.refs.idPage&&!this._iframeResize&&(e=n(292),this._iframeResize=e({checkOrigin:!1,log:!0,sizeWidth:!0},f.default.findDOMNode(this.refs.idPage))[0].iFrameResizer),!this.refs.idPage&&this._iframeResize&&(this._iframeResize.close(),this._iframeResize=null)}},{key:"componentWillUnmount",value:function(){this._iframeResize&&(this._iframeResize.close(),this._iframeResize=null)}},{key:"render",value:function(){var e=this.props,t=e.open,n=e.url,a={height:425,width:400},o=c.default.createElement("div",{className:this.ss("loading-wrap")},c.default.createElement("div",{className:this.ss("loading")}));return c.default.createElement(h.default,{open:t,position:"center",onCloseModal:this.onClose},c.default.createElement("div",{className:this.ss("login")},c.default.createElement("div",{className:this.ss("title-wrap")},c.default.createElement("div",{className:this.ss("logo")},c.default.createElement("img",{className:this.ss("logo-image"),src:"/public/images/logos/unity-play-logo.min.svg",alt:"Unity Play Logo"})),c.default.createElement("button",{className:this.ss("button-close"),onClick:this.onClose},c.default.createElement("div",{className:this.ss("close","ifont","ifont-icon-close")}))),c.default.createElement("div",{className:this.ss("content-wrap")},c.default.createElement("iframe",{ref:"idPage",src:n,scrolling:"no",frameBorder:"0",onLoad:this.onIFrameLoaded,style:a}),t&&!this.state.loaded&&o)))}}]),k.propTypes={open:l.default.bool,url:l.default.string,onConfirm:l.default.func,onClose:l.default.func},a=k))||a)||a)||a;function k(){var e,t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,k);for(var a=arguments.length,o=Array(a),r=0;r<a;r++)o[r]=arguments[r];return(t=n=y(this,(e=k.__proto__||Object.getPrototypeOf(k)).call.apply(e,[this].concat(o)))).state={loaded:!1},n.onIFrameLoaded=function(){n.setState({loaded:n.props.open})},n.onConfirm=function(){n.props.onConfirm&&n.props.onConfirm()},n.onClose=function(){n.props.onClose&&n.props.onClose()},y(n,t)}t.default=j},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=d(n(2)),f=d(n(1)),i=d(n(12)),l=d(n(3)),h=n(24),c=d(n(4)),u=d(n(295));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=h.presets.stiff,_=(0,c.default)(u.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(g,l.default),o(g,[{key:"componentDidMount",value:function(){var e=this;this._handleResize=function(){return e.onHandleResize()},window.addEventListener("resize",this._handleResize),setTimeout(this._handleResize,0)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._handleResize)}},{key:"onHandleResize",value:function(){var e,t,n=i.default.findDOMNode(this.refRightHidden),a=i.default.findDOMNode(this.refRight);n&&a&&(e=Array.from(n.children).reduce(function(e,t){return e+t.offsetWidth},0),t=Array.from(a.children).reduce(function(e,t){return e+t.offsetWidth},0),this.state.rightHiddenWidth===e&&this.state.rightWidth===t||this.setState({rightHiddenWidth:e,rightWidth:t}))}},{key:"render",value:function(){var i=this,e=this.props,l=e.children,c=e.rightHidden,u=e.right,t=e.open,n=this.state,d=n.rightHiddenWidth,p=n.rightWidth;if(""===d||""===p)return f.default.createElement("div",{className:this.ss("drawer")},f.default.createElement("div",{className:this.ss("children")},l),f.default.createElement("div",{ref:function(e){i.refRightHidden=e},className:this.ss("right-hidden")},f.default.createElement("div",{ref:"rightHidden",className:this.ss("right-hidden-inner")},c)),f.default.createElement("div",{ref:function(e){i.refRight=e},className:this.ss("right")},u));var a=t?{rightHiddenWidth:(0,h.spring)(Math.max(0,d-p),m),rightHiddenOpacity:(0,h.spring)(1,m),rightWidth:(0,h.spring)(0,m),rightOpacity:(0,h.spring)(0,m)}:{rightHiddenWidth:(0,h.spring)(0,m),rightHiddenOpacity:(0,h.spring)(0,m),rightWidth:(0,h.spring)(p,m),rightOpacity:(0,h.spring)(1,m)};return f.default.createElement(h.Motion,{style:a},function(e){var t=Math.round(e.rightHiddenWidth);t<0?t=0:t>Math.max(0,d-p)&&(t=Math.max(0,d-p));var n=Math.round(e.rightWidth);n<0?n=0:p<n&&(n=p);var a=e.rightHiddenOpacity,o=e.rightOpacity,r={visibility:0===a?"hidden":"visible",width:(0<t?t:1e-4)+"px",opacity:a},s={visibility:0===o?"hidden":"visible",marginLeft:p-n+"px",opacity:o};return f.default.createElement("div",{className:i.ss("drawer")},f.default.createElement("div",{className:i.ss("children")},l),f.default.createElement("div",{ref:function(e){i.refRightHidden=e},className:i.ss("right-hidden"),style:r},f.default.createElement("div",{ref:"rightHidden",className:i.ss("right-hidden-inner")},c)),f.default.createElement("div",{ref:function(e){i.refRight=e},className:i.ss("right"),style:s},u))})}}]),g.propTypes={rightHidden:s.default.node,right:s.default.node.isRequired,children:s.default.node,open:s.default.bool},a=g))||a;function g(){var e,t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g);for(var a=arguments.length,o=Array(a),r=0;r<a;r++)o[r]=arguments[r];return(t=n=p(this,(e=g.__proto__||Object.getPrototypeOf(g)).call.apply(e,[this].concat(o)))).state={rightHiddenWidth:"",rightWidth:""},p(n,t)}t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=E(["header.postProject.open"],["header.postProject.open"]),i=E(["header.postProject.isSelectGameMode"],["header.postProject.isSelectGameMode"]),l=E(["header.postProject.noAnimation"],["header.postProject.noAnimation"]),c=E(["header.createProjectByTypeInternal"],["header.createProjectByTypeInternal"]),u=E(["header.closeCreateDialog"],["header.closeCreateDialog"]),d=E(["header.toggleSelectGame"],["header.toggleSelectGame"]),p=j(n(2)),f=j(n(1)),h=j(n(3)),m=n(5),_=n(0),g=j(n(20)),v=j(n(4)),b=j(n(318)),y=j(n(6)),w=j(n(319));function j(e){return e&&e.__esModule?e:{default:e}}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var C=(0,m.decorator)({open:(0,_.state)(s),isSelectGameMode:(0,_.state)(i),noAnimation:(0,_.state)(l),createProjectByType:(0,_.signal)(c),closeCreateDialog:(0,_.signal)(u),toggleSelectGame:(0,_.signal)(d)})(a=(0,v.default)(b.default)(a=(0,y.default)(w.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(S,h.default),o(S,[{key:"renderPostCard",value:function(e){var t=this,n=e.type,a=e.iconName;return f.default.createElement("button",{key:"card-"+n,className:this.ss("card",n),onClick:function(){return t.createProject(n)}},f.default.createElement("div",{className:this.ss(n,"card-icon","ifont","ifont-"+a)}),f.default.createElement("div",{className:this.ss("card-title")},this.__(n+"_title")),f.default.createElement("div",{className:this.ss("card-description")},this.__(n+"_description")))}},{key:"renderDescription",value:function(){var e=this;return this.props.isSelectGameMode?f.default.createElement("div",{className:this.ss("description-top")},this.__("description_game_select"),f.default.createElement("a",{onClick:function(){return e.props.toggleSelectGame()}},this.__("return_to_main")),"."):f.default.createElement("div",{className:this.ss("description-top")},this.__("description_top"))}},{key:"renderProjectSelect",value:function(){var t=this;return f.default.createElement("div",{className:this.ss("type-cards")},[{type:"article",iconName:"icons-article"},{type:"game",iconName:"icons-game"},{type:"showcase",iconName:"icons-showcase"}].map(function(e){return t.renderPostCard(e)}))}},{key:"renderGameItem",value:function(e){var t=this,n=e.type,a=e.iconName;return f.default.createElement("div",{key:n,className:this.ss("card")},f.default.createElement("div",{className:this.ss("icon",n,"ifont","ifont-"+a)}),f.default.createElement("div",{className:this.ss("card-title")},this.__("select_"+n+"_title")),f.default.createElement("div",{className:this.ss("card-description")},this.__("select_"+n+"_description")),f.default.createElement("a",{className:this.ss("card-button"),onClick:function(){return t.props.createProjectByType({type:n})}},this.__("select_"+n+"_post")))}},{key:"renderGameSelect",value:function(){var t=this;return f.default.createElement("div",{className:this.ss("webgl-cards")},[{type:"webgl",iconName:"icons-open-in-browser"},{type:"game",iconName:"icons-showcase"}].map(function(e){return t.renderGameItem(e)}))}},{key:"render",value:function(){var e=this.props,t=e.open,n=e.noAnimation,a=e.isSelectGameMode,o=e.closeCreateDialog,r=a?"title_game_select":"title";return f.default.createElement(g.default,{open:t,noAnimation:n,position:"center",onCloseModal:function(){return o()}},f.default.createElement("div",{className:this.ss("content-wrap")},f.default.createElement("div",{className:this.ss("content")},f.default.createElement("div",{className:this.ss("title")},this.__(r)),this.renderDescription(),a?this.renderGameSelect():this.renderProjectSelect()),f.default.createElement("div",{className:this.ss("notice")},f.default.createElement("div",{className:this.ss("notice-info")},f.default.createElement("div",{className:this.ss("notice-title")},this.__("notice_title")),f.default.createElement("div",{className:this.ss("notice-description")},this.__("notice_description"))),f.default.createElement("div",{className:this.ss("notice-button")},f.default.createElement("button",{className:this.ss("button"),onClick:function(){return o()}},this.__("button_ok"))))))}}]),S.propTypes={open:p.default.bool,noAnimation:p.default.bool,isSelectGameMode:p.default.bool,createProjectByType:p.default.func,closeCreateDialog:p.default.func,toggleSelectGame:p.default.func},a=S))||a)||a)||a;function S(){var e,t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,S);for(var a=arguments.length,o=Array(a),r=0;r<a;r++)o[r]=arguments[r];return(t=n=k(this,(e=S.__proto__||Object.getPrototypeOf(S)).call.apply(e,[this].concat(o)))).state={},n.createProject=function(e){"game"===e?n.props.toggleSelectGame():n.props.createProjectByType({type:e})},k(n,t)}t.default=C},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=Object.freeze(Object.defineProperties(["header.weixinConfig"],{raw:{value:Object.freeze(["header.weixinConfig"])}})),i=p(n(2)),l=p(n(1)),c=p(n(3)),u=n(5),d=n(0);function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=(0,u.decorator)({weixinConfig:(0,d.signal)(s)})((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(m,c.default),o(m,[{key:"componentDidMount",value:function(){this.props.weixinConfig&&this.props.weixinConfig()}},{key:"render",value:function(){return l.default.createElement("noscript",null)}}]),m.propTypes={weixinConfig:i.default.func},a=m))||a;function m(){var e,t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m);for(var a=arguments.length,o=Array(a),r=0;r<a;r++)o[r]=arguments[r];return(t=n=f(this,(e=m.__proto__||Object.getPrototypeOf(m)).call.apply(e,[this].concat(o)))).state={},f(n,t)}t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=b(["currentPath"],["currentPath"]),i=b(["header.sendCDPRequest"],["header.sendCDPRequest"]),l=v(n(2)),c=v(n(1)),u=v(n(3)),d=n(5),p=n(0),f=n(38),h=v(n(4)),m=v(n(333)),_=v(n(6)),g=v(n(334));function v(e){return e&&e.__esModule?e:{default:e}}function b(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var y=(0,d.decorator)({currentPath:(0,p.state)(s),sendCDPRequest:(0,p.signal)(i)})(a=(0,h.default)(m.default)(a=(0,_.default)(g.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(w,u.default),o(w,[{key:"onMenuClick",value:function(e,t){var n={menuType:"jobs",subtype:e};f.amplitudeEvents.headerAboutClick(),this.props.sendCDPRequest({type:"menu",data:n,redirectUrl:t})}},{key:"render",value:function(){var e=this,t=this.props,n=t.currentPath,a=t.title,o=t.font,r="/how-to"===n,s="menu_text";a&&(s=a);var i=o?{fontSize:o}:{};return c.default.createElement("div",{className:this.ss("first-menu")},c.default.createElement("div",{className:this.ss("icon-wrapper",r&&"active"),style:i,onClick:function(){return e.onMenuClick("about","/how-to")}},this.__(s),!1))}}]),w.propTypes={currentPath:l.default.string,title:l.default.string,font:l.default.number,sendCDPRequest:l.default.func},a=w))||a)||a)||a;function w(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,w),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}t.default=y},function(e,t){e.exports={region_01:"region_01_2r-0",region_02:"region_02_u92M",region_03:"region_03_1VFE",region_04:"region_04_3raK",region_05:"region_05_2LbU",region_06:"region_06_2PwW",region_07:"region_07_1gbD",region_08:"region_08_1IDR",region_09:"region_09_2v3S"}},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=Re(["project"],["project"]),i=Re(["currentPath"],["currentPath"]),l=Re(["currentHost"],["currentHost"]),c=Re(["currentUserId"],["currentUserId"]),u=Re(["project.like"],["project.like"]),d=Re(["project.share.show"],["project.share.show"]),p=Re(["project.cover.show"],["project.cover.show"]),f=Re(["project.contentMap"],["project.contentMap"]),h=Re(["project.globalChallenge"],["project.globalChallenge"]),m=Re(["project.bannerCopy"],["project.bannerCopy"]),_=Re(["project.challenge"],["project.challenge"]),g=Re(["project.showChallenge"],["project.showChallenge"]),v=Re(["project.edit"],["project.edit"]),b=Re(["project.comments"],["project.comments"]),y=Re(["project.loadMoreStatus"],["project.loadMoreStatus"]),w=Re(["project.uploads"],["project.uploads"]),j=Re(["project.showWebglToolBar"],["project.showWebglToolBar"]),k=Re(["project.uploadId"],["project.uploadId"]),E=Re(["pageType"],["pageType"]),C=Re(["loginUser.isAdmin"],["loginUser.isAdmin"]),S=Re(["loginUser.id"],["loginUser.id"]),O=Re(["webgl"],["webgl"]),N=Re(["project.setMute"],["project.setMute"]),P=Re(["project.setProjectState"],["project.setProjectState"]),T=Re(["project.setUploadingPreview"],["project.setUploadingPreview"]),M=Re(["project.setRemoveWebgl"],["project.setRemoveWebgl"]),x=Re(["project.setShowStopRecord"],["project.setShowStopRecord"]),R=Re(["project.setUploadId"],["project.setUploadId"]),I=Re(["project.setHideRecord"],["project.setHideRecord"]),D=Re(["project.setTime"],["project.setTime"]),A=Re(["project.setShowWebglToolBar"],["project.setShowWebglToolBar"]),L=Re(["project.setEnableMobile"],["project.setEnableMobile"]),U=Re(["project.webglLoadMore"],["project.webglLoadMore"]),W=Re(["project.toggleLike"],["project.toggleLike"]),z=Re(["header.copyLink"],["header.copyLink"]),H=Re(["project.onLogPlaySuccess"],["project.onLogPlaySuccess"]),q=Re(["project.openSubmitWebglDialog"],["project.openSubmitWebglDialog"]),F=Re(["project.openScreenshotDialog"],["project.openScreenshotDialog"]),B=Re(["project.initWebgl"],["project.initWebgl"]),G=Re(["header.sendCDPRequest"],["header.sendCDPRequest"]),K=Re(["project.hideCover"],["project.hideCover"]),V=Re(["project.openShare"],["project.openShare"]),J=Re(["project.closeShare"],["project.closeShare"]),Y=Re(["report.open"],["report.open"]),Z=Re(["project.hideChallenge"],["project.hideChallenge"]),Q=Re(["project.uploadAttachment"],["project.uploadAttachment"]),X=Re(["project.retryUploadAttachment"],["project.retryUploadAttachment"]),$=Re(["project.continueUploadAttachmentMultipart"],["project.continueUploadAttachmentMultipart"]);t.getWebglOrigin=Ue;var ee=Me(n(2)),te=Me(n(1)),ne=n(5),ae=n(0),oe=Me(n(3)),re=Me(n(362)),se=Me(n(373)),ie=(Me(n(118)),Me(n(112)),Me(n(394))),le=Me(n(403)),ce=Me(n(406)),ue=Me(n(409)),de=n(190),pe=Me(n(87)),fe=Me(n(412)),he=Me(n(513)),me=Me(n(19)),_e=Me(n(414)),ge=Me(n(417)),ve=n(7),be=Me(ve),ye=Me(n(420)),we=Me(n(15)),je=n(144),ke=n(436),Ee=Me(n(77)),Ce=Me(n(4)),Se=Me(n(437)),Oe=Me(n(6)),Ne=Me(n(438)),Pe=n(38),Te=Me(n(439));function Me(e){return e&&e.__esModule?e:{default:e}}function xe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Re(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Ie=15,De=!1,Ae=(0,ne.decorator)({project:(0,ae.state)(s),currentPath:(0,ae.state)(i),currentHost:(0,ae.state)(l),currentUserId:(0,ae.state)(c),like:(0,ae.state)(u),showShare:(0,ae.state)(d),showCover:(0,ae.state)(p),contentMap:(0,ae.state)(f),globalChallenge:(0,ae.state)(h),bannerCopy:(0,ae.state)(m),challenge:(0,ae.state)(_),showChallenge:(0,ae.state)(g),edit:(0,ae.state)(v),comments:(0,ae.state)(b),loadMoreStatus:(0,ae.state)(y),uploads:(0,ae.state)(w),showWebglToolBar:(0,ae.state)(j),uploadId:(0,ae.state)(k),pageType:(0,ae.state)(E),isAdmin:(0,ae.state)(C),loginUserId:(0,ae.state)(S),webgl:(0,ae.state)(O),setMute:(0,ae.signal)(N),setProjectState:(0,ae.signal)(P),setUploadingPreview:(0,ae.signal)(T),setRemoveWebgl:(0,ae.signal)(M),setShowStopRecord:(0,ae.signal)(x),setUploadId:(0,ae.signal)(R),setHideRecord:(0,ae.signal)(I),setTime:(0,ae.signal)(D),setShowWebglToolBar:(0,ae.signal)(A),setEnableMobile:(0,ae.signal)(L),loadMore:(0,ae.signal)(U),toggleLike:(0,ae.signal)(W),copyLink:(0,ae.signal)(z),onLogPlaySuccess:(0,ae.signal)(H),openSubmitWebglDialog:(0,ae.signal)(q),openScreenshotDialog:(0,ae.signal)(F),initWebgl:(0,ae.signal)(B),sendCDPRequest:(0,ae.signal)(G),hideCover:(0,ae.signal)(K),openShare:(0,ae.signal)(V),closeShare:(0,ae.signal)(J),reportOpen:(0,ae.signal)(Y),hideChallenge:(0,ae.signal)(Z),uploadAttachment:(0,ae.signal)(Q),retryUploadAttachment:(0,ae.signal)(X),continueUploadAttachmentMultipart:(0,ae.signal)($)})(a=(0,Ce.default)(Se.default)(a=(0,Oe.default)(Ne.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Le,oe.default),o(Le,[{key:"componentDidMount",value:function(){window.addEventListener("message",this.receiveMessage),window.addEventListener("keydown",this.handleKeyPress),this.props.initWebgl(),(0,Pe.isAmplitudeInitialized)()&&(this.props.loginUserId&&this.setAmplitudeUserPropertiesOnce({id:this.props.loginUserId,role:this.props.isAdmin?Pe.USER_ROLES.ADMIN:Pe.USER_ROLES.CUSTOMER}),Pe.amplitudeEvents.webglDetailPageView({id:this.props.project.projectData.id,title:this.props.project.projectData.title,type:this.getProjectType()}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.receiveMessage),window.removeEventListener("keydown",this.handleKeyPress)}},{key:"onShareLinkCopy",value:function(e){(0,this.props.copyLink)({content:e})}},{key:"onScrollEnd",value:function(){var e=this.props,t=e.comments,n=e.loadMore,a=e.loadMoreStatus,o=(t||{}).hasMore;!(0,ve.isLoading)(a)&&o&&n({loading:!0})}},{key:"onChallengeBannerNotNowClick",value:function(){this.props.hideChallenge(),Pe.amplitudeEvents.webglDetailChallengeBannerNotNow({id:this.props.project.projectData.id,title:this.props.project.projectData.title,type:this.getProjectType()})}},{key:"onChallengeBannerJoinClick",value:function(){this.props.openSubmitWebglDialog(),Pe.amplitudeEvents.webglDetailChallengeBannerJoin({id:this.props.project.projectData.id,title:this.props.project.projectData.title,type:this.getProjectType()})}},{key:"onRecommendedItemClick",value:function(e){Pe.amplitudeEvents.webglDetailRecommendedItemClick({id:e.id,title:e.title})}},{key:"onMadeWithUnityClick",value:function(){Pe.amplitudeEvents.webglDetailMadeWithUnityClick()}},{key:"onAuthorClick",value:function(){Pe.amplitudeEvents.webglDetailAuthorClick()}},{key:"onMadeWithMicrogameClick",value:function(e){Pe.amplitudeEvents.webglDetailMadeWithMicrogameClick({type:this.getProjectType(e)})}},{key:"onCustomMadeWithClick",value:function(e,t,n){Pe.amplitudeEvents.webglDetailCustomMadeWithClick({type:e,title:t,url:n})}},{key:"onAddMadeWith",value:function(e,t,n){Pe.amplitudeEvents.webglEditMadeWithChosen({type:e,title:t,url:n})}},{key:"onWebglEditClick",value:function(){Pe.amplitudeEvents.webglDetailEditClick()}},{key:"onWebglReportClick",value:function(){Pe.amplitudeEvents.webglDetailReportClick()}},{key:"onWebglDeleteClick",value:function(){Pe.amplitudeEvents.webglDetailDeleteClick()}},{key:"onWebglLikeClick",value:function(){Pe.amplitudeEvents.webglDetailLikeClick()}},{key:"onShareEmbedClick",value:function(){Pe.amplitudeEvents.webglDetailShareEmbedClick()}},{key:"onShareMailClick",value:function(){Pe.amplitudeEvents.webglDetailShareMailClick()}},{key:"onShareMessengerClick",value:function(){Pe.amplitudeEvents.webglDetailShareMessengerClick()}},{key:"onShareTwitterClick",value:function(){Pe.amplitudeEvents.webglDetailShareTwitterClick()}},{key:"onShareFacebookClick",value:function(){Pe.amplitudeEvents.webglDetailShareFacebookClick()}},{key:"onShareRedditClick",value:function(){Pe.amplitudeEvents.webglDetailShareRedditClick()}},{key:"onShareCopyClick",value:function(){Pe.amplitudeEvents.webglDetailShareCopyClick()}},{key:"onWebglFullscreenClick",value:function(){Pe.amplitudeEvents.webglDetailFullscreenClick()}},{key:"onWebglUnmuteClick",value:function(){Pe.amplitudeEvents.webglDetailUnmuteClick()}},{key:"onWebglScreenshotCommentClick",value:function(){Pe.amplitudeEvents.webglDetailScreenshotCommentClick()}},{key:"onWebglRecordClick",value:function(){Pe.amplitudeEvents.webglDetailRecordClick()}},{key:"onWebglPauseRecordingClick",value:function(){Pe.amplitudeEvents.webglDetailPauseRecordingClick()}},{key:"onWebglStopRecordingClick",value:function(){Pe.amplitudeEvents.webglDetailStopRecordingClick()}},{key:"getProjectType",value:function(e){var t="";switch(e||this.props.project.webglPKG.mgType){case"mg_platformer":t="2d";break;case"mg_fps":t="fps";break;case"mg_karting":t="karting";break;case"mg_lego":t="lego";break;default:t="other"}return t}},{key:"trackUploading",value:function(){var e=this.props,l=e.uploads,c=e.uploadId,u=Ue(),d=setInterval(function(){var e=l[c],t=e.loaded,n=void 0===t?0:t,a=e.total,o=void 0===a?1:a,r=e.status,s=e.contentId,i=document.getElementById("webgl_iframe").contentWindow;r===be.default.succeeded||r===be.default.failed?(window.onbeforeunload=function(){},i.postMessage({action:"uploadReport",data:r,contentId:s},u),clearInterval(d)):i.postMessage({action:"uploadProgress",data:100*n/o},u)},500)}},{key:"dataURLtoBlob",value:function(e){for(var t=e.split(","),n=t[0].match(/:(.*?);/)[1],a=atob(t[1]),o=a.length,r=new Uint8Array(o);o--;)r[o]=a.charCodeAt(o);return new Blob([r],{type:n})}},{key:"reportPopup",value:function(){var e=Ue();document.getElementById("webgl_iframe").contentWindow.postMessage({action:"clickReport"},e),this.setState({reportPopup:!1})}},{key:"renderSubmitWebglButton",value:function(e){var t=this,n=this.props.project.projectData.challengeId,a=e.slug;return n?te.default.createElement("div",{className:this.ss("button-wrapper")},te.default.createElement("button",{onClick:function(){return(0,me.default)("/showcases/"+a)}},this.__("check_status"))):te.default.createElement("div",{className:this.ss("button-wrapper")},te.default.createElement("button",{onClick:function(){return t.onChallengeBannerJoinClick()}},this.__("submit_game")))}},{key:"renderChallenge",value:function(){var e=this,t=this.props,n=t.globalChallenge,a=t.bannerCopy,o=t.challenge,r=t.project.projectData.challengeId,s=t.edit;if(!t.showChallenge||!s||!o&&!n)return null;var i=o||n,l=i.id,c=i.title,u=this.__("tips",{title:c});return a&&(u=a),r===l&&(u=this.__("tips_success")),te.default.createElement("div",{className:this.ss("challenge-wrapper")},te.default.createElement("div",{className:this.ss("challenge","main-content")},te.default.createElement("div",{className:this.ss("info")},te.default.createElement("div",{className:this.ss("tips")},u)),te.default.createElement("button",{className:this.ss("not-now"),onClick:function(){return e.onChallengeBannerNotNowClick()}},this.__("not_now")),this.renderSubmitWebglButton(i)))}},{key:"renderShare",value:function(){var e=this,t=this.props,n=t.currentHost,a=t.currentPath,o=t.showShare,r="https://"+n+a;return te.default.createElement("div",{className:this.ss("share","main-content")},te.default.createElement("div",{className:this.ss("testssss")},o),te.default.createElement("div",{className:this.ss("left")},te.default.createElement("div",{className:this.ss("share-title")},this.__("share_game_link")),te.default.createElement("div",{className:this.ss("share-content")},r,te.default.createElement("a",{className:this.ss("copy"),onClick:function(){return e.onShareLinkCopy(r)}},this.__("copy")))),te.default.createElement("div",{className:this.ss("share-tips")},te.default.createElement("div",{className:this.ss("icon-mac","ifont","ifont-icons-desktop-mac")}),this.__("share_tips")))}},{key:"renderStatistics",value:function(e){var t=this.props,n=t.currentUserId,a=t.toggleLike,o=this.props.project,r=o.projectData,s=o.like,i=r||{},l=i.viewCount,c=i.likeCount,u=i.commentCount,d=i.playCount,p=!s&&n!==i.userId;return te.default.createElement("div",{className:this.ss(e&&"statistics-mobile","statistics")},te.default.createElement("div",{className:this.ss("item","like",s&&"active",!p&&"disable")},te.default.createElement("div",{className:this.ss("icon","ifont","ifont-icons-thumb-up"),onClick:function(){return a()}}),te.default.createElement("div",{className:this.ss("text")},this.__("likes_hint",{count:c}))),te.default.createElement("div",{className:this.ss("item")},te.default.createElement("div",{className:this.ss("icon","ifont","ifont-icons-comments")}),te.default.createElement("div",{className:this.ss("text")},this.__("comments_hint",{count:u}))),te.default.createElement("div",{className:this.ss("item")},te.default.createElement("div",{className:this.ss("icon","ifont","ifont-icons-visibility")}),te.default.createElement("div",{className:this.ss("text")},this.__("views_hint",{count:l}))),te.default.createElement("div",{className:this.ss("item")},te.default.createElement("div",{className:this.ss("icon","ifont","ifont-icons-gamepad")}),te.default.createElement("div",{className:this.ss("text")},this.__("play_hint",{count:d}))))}},{key:"renderExpired",value:function(){return te.default.createElement("div",{className:this.ss("content")},te.default.createElement("div",{className:this.ss("expired-content")},this.__("project_expired")))}},{key:"renderContent",value:function(){var a=this,e=this.props,t=e.showCover,n=e.pageType,o=this.state.reportPopup,r="detail"===n;return te.default.createElement("div",{className:this.ss("content")},te.default.createElement("div",{className:this.ss("cover",(!r||t)&&"hide")}),this.renderChallenge(),te.default.createElement("div",{className:this.ss("background")},te.default.createElement("div",{className:this.ss("black-background")})),te.default.createElement("div",{className:this.ss("click-region",o&&"display"),onClick:function(){return a.reportPopup()}}),te.default.createElement("div",{className:this.ss("main","main-content")},te.default.createElement(se.default,{onMadeWithUnityClick:function(){return a.onMadeWithUnityClick()},onAuthorClick:function(){return a.onAuthorClick()},onWebglEditClick:function(){return a.onWebglEditClick()},onWebglReportClick:function(){return a.onWebglReportClick()},onWebglDeleteClick:function(){return a.onWebglDeleteClick()},onWebglLikeClick:function(){return a.onWebglLikeClick()},onWebglFullscreenClick:function(){return a.onWebglFullscreenClick()},onWebglUnmuteClick:function(){return a.onWebglUnmuteClick()},onWebglScreenshotCommentClick:function(){return a.onWebglScreenshotCommentClick()},onWebglRecordClick:function(){return a.onWebglRecordClick()},onWebglPauseRecordingClick:function(){return a.onWebglPauseRecordingClick()},onWebglStopRecordingClick:function(){return a.onWebglStopRecordingClick()},onCustomMadeWithClick:function(e,t,n){return a.onCustomMadeWithClick(e,t,n)},onAddMadeWith:function(e,t,n){return a.onAddMadeWith(e,t,n)},onMadeWithMicrogameClick:function(e){return a.onMadeWithMicrogameClick(e)}}),te.default.createElement(ge.default,null)))}},{key:"render",value:function(){var e=this;return te.default.createElement(re.default,{onScrollEnd:function(){return e.onScrollEnd()}},te.default.createElement(de.DeleteProjectBySelfConfirm,null),te.default.createElement(Ee.default,null),te.default.createElement(Te.default,null),te.default.createElement(ie.default,{onEmbedClick:function(){return e.onShareEmbedClick()},onMailClick:function(){return e.onShareMailClick()},onMessengerClick:function(){return e.onShareMessengerClick()},onTwitterClick:function(){return e.onShareTwitterClick()},onFacebookClick:function(){return e.onShareFacebookClick()},onRedditClick:function(){return e.onShareRedditClick()},onCopyClick:function(){return e.onShareCopyClick()}}),te.default.createElement(_e.default,null),this.renderContent(),te.default.createElement(de.DeleteSubmissionBySelfConfirm,null),te.default.createElement(le.default,null),te.default.createElement(ce.default,null),te.default.createElement(ue.default,null),te.default.createElement(ye.default,null),te.default.createElement(pe.default,{theme:"fixed"}),te.default.createElement(fe.default,null))}}]),Le.propTypes={project:ee.default.object,currentPath:ee.default.string,currentHost:ee.default.string,currentUserId:ee.default.string,like:ee.default.bool,showCover:ee.default.bool,showShare:ee.default.bool,contentMap:ee.default.object,globalChallenge:ee.default.object,bannerCopy:ee.default.string,challenge:ee.default.object,showChallenge:ee.default.bool,edit:ee.default.bool,comments:ee.default.object,loadMoreStatus:ee.default.string,uploads:ee.default.object,showWebglToolBar:ee.default.bool,uploadId:ee.default.string,pageType:ee.default.string,isAdmin:ee.default.bool,loginUserId:ee.default.string,webgl:ee.default.object,setProjectState:ee.default.func,setMute:ee.default.func,setShowStopRecord:ee.default.func,setRemoveWebgl:ee.default.func,setUploadId:ee.default.func,setUploadingPreview:ee.default.func,setHideRecord:ee.default.func,setTime:ee.default.func,setShowWebglToolBar:ee.default.func,setEnableMobile:ee.default.func,loadMore:ee.default.func,toggleLike:ee.default.func,copyLink:ee.default.func,onLogPlaySuccess:ee.default.func,openSubmitWebglDialog:ee.default.func,openScreenshotDialog:ee.default.func,initWebgl:ee.default.func,sendCDPRequest:ee.default.func,hideCover:ee.default.func,openShare:ee.default.func,closeShare:ee.default.func,reportOpen:ee.default.func,hideChallenge:ee.default.func,uploadAttachment:ee.default.func,retryUploadAttachment:ee.default.func,continueUploadAttachmentMultipart:ee.default.func},a=Le))||a)||a)||a;function Le(){var e,t,D;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Le);for(var n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=D=xe(this,(e=Le.__proto__||Object.getPrototypeOf(Le)).call.apply(e,[this].concat(a)))).state={reportPopup:!1},D.setAmplitudeUserPropertiesOnce=(0,he.default)(Pe.setUserProperties),D.handleKeyPress=function(e){var t=e.keyCode,n=Ue();18===t&&document.getElementById("webgl_iframe").contentWindow.postMessage({action:"screenshot"},n)},D.receiveMessage=function(e){var t,n,a,o,r,s,i,l,c,u=D.props,d=u.onLogPlaySuccess,p=u.openScreenshotDialog,f=u.sendCDPRequest,h=u.uploadAttachment,m=u.project.projectData,_=m.id,g=m.title,v=u.openShare,b=u.reportOpen,y=u.toggleLike,w=u.hideCover,j=u.setShowWebglToolBar,k=u.setEnableMobile,E=u.setTime,C=u.setHideRecord,S=u.setUploadingPreview,O=u.setShowStopRecord,N=u.setMute,P=u.setRemoveWebgl,T=u.setUploadId,M=u.setProjectState,x=Ue(),R=e.origin,I=e.data;R===x&&I&&("increasePlayCount"===I.action?(j({value:!0}),d()):"screenshot"===I.action?I.dataUrl&&(p({value:I.dataUrl,projectId:""}),t="Button",I.byHotkey&&(t="Alt/Option"),f({type:je.CDPConnectTypes.CDPTypeWebglScreenshots,eventType:ke.EventType.connect,data:{type:t,projectId:_}})):"share"===I.action?I.device&&navigator.share?navigator.share({text:D.__("share_body",{title:g}),url:window.location.href}):v():"report"===I.action?b({itemId:_,itemType:"project",reportTitle:"webgl"}):"like"===I.action?y():"webglmount"===I.action?(w(),k({value:I.enableMobile})):"reportClick"===I.action?D.setState({reportPopup:!0}):"uploadPreview"===I.action?(n=Date.now()+"_"+Math.random().toString().slice(2,6),a=document.getElementById("webgl_iframe").contentWindow,o=D.dataURLtoBlob(I.dataUrl),r={id:n,file:new File([o],"previewVideo.webm",{type:"video/webm"}),uploadType:"preview"},a.postMessage({action:"start upload"},x),T({value:n}),window.onbeforeunload=function(){return"You are uploading the preview record"},h({upload:r}),D.trackUploading()):"reset"===I.action?(P({value:!0}),j({value:!1}),E({value:Ie}),O({value:!1}),setTimeout(function(){P({value:!1})},300)):"timer"===I.action?E({value:I.time}):"uploadingPreview"===I.action?S({value:I.value}):"hideRecord"===I.action?C({value:I.value}):"showStopRecord"===I.action?O({value:I.value}):"mute"===I.action?N({value:I.value}):"retry"===I.action?(i=(s=D.props).uploads,l=s.retryUploadAttachment,c=i[s.uploadId],window.onbeforeunload=function(){return"You are uploading the preview record"},l(c),D.trackUploading()):"processing"===I.action?M({key:"processing",value:I.value}):"showPauseBackGround"===I.action?De&&M({key:"pauseBackGround",value:!0}):"pauseState"===I.action?M({key:"pauseState",value:I.value}):"fileSelect"===I.action&&document.getElementById("thumbnailSelect").click())},xe(D,t)}function Ue(){return(we.default.WEBGL_PLAYER_BASE_URL||"").replace("/webgl","")}t.default=Ae},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=ve(["project.projectData"],["project.projectData"]),i=ve(["loginUser"],["loginUser"]),l=ve(["project.commentEditing"],["project.commentEditing"]),u=ve(["project.comments"],["project.comments"]),d=ve(["project.reactions"],["project.reactions"]),p=ve(["project.selfComments.items"],["project.selfComments.items"]),f=ve(["project.replyShow"],["project.replyShow"]),h=ve(["project.replysShow"],["project.replysShow"]),m=ve(["project.moreListShow"],["project.moreListShow"]),_=ve(["project.channelId"],["project.channelId"]),g=ve(["project.inputValues"],["project.inputValues"]),v=ve(["project.loadMoreStatus"],["project.loadMoreStatus"]),b=ve(["project.loadMoreReactionsStatus"],["project.loadMoreReactionsStatus"]),y=ve(["project.canPublish"],["project.canPublish"]),w=ve(["project.isChannelReadonly"],["project.isChannelReadonly"]),j=ve(["project.isAdmin"],["project.isAdmin"]),k=ve(["project.deleteCommentConfirmId"],["project.deleteCommentConfirmId"]),E=ve(["project.deleteCommentStatus"],["project.deleteCommentStatus"]),C=ve(["project.comment.showEmoji"],["project.comment.showEmoji"]),S=ve(["project.comment.emoji"],["project.comment.emoji"]),O=ve(["project.openCommentEmoji"],["project.openCommentEmoji"]),N=ve(["project.closeCommentEmoji"],["project.closeCommentEmoji"]),P=ve(["project.changeCommentEmoji"],["project.changeCommentEmoji"]),T=ve(["project.storeComment"],["project.storeComment"]),M=ve(["project.sendEditComment"],["project.sendEditComment"]),x=ve(["project.updateEditing"],["project.updateEditing"]),R=ve(["project.toggleReaction"],["project.toggleReaction"]),I=ve(["project.updateReplyShow"],["project.updateReplyShow"]),D=ve(["project.updateReplysShow"],["project.updateReplysShow"]),A=ve(["project.updateMoreListShow"],["project.updateMoreListShow"]),L=ve(["project.createComment"],["project.createComment"]),U=ve(["project.createCommentWithEmoji"],["project.createCommentWithEmoji"]),W=ve(["project.changeReply"],["project.changeReply"]),z=ve(["project.changeInputValue"],["project.changeInputValue"]),H=ve(["project.webglLoadMore"],["project.webglLoadMore"]),q=ve(["project.loadMoreChild"],["project.loadMoreChild"]),F=ve(["project.webglLoadMoreReactions"],["project.webglLoadMoreReactions"]),B=ve(["project.toggleChannelReadonly"],["project.toggleChannelReadonly"]),G=ve(["project.deleteComment"],["project.deleteComment"]),K=ve(["project.openDeleteCommentConfirmDialog"],["project.openDeleteCommentConfirmDialog"]),V=ve(["project.closeDeleteCommentConfirmDialog"],["project.closeDeleteCommentConfirmDialog"]),J=ve(["report.open"],["report.open"]),Y=ve(["header.loginTo"],["header.loginTo"]),Z=me(n(2)),Q=me(n(1)),X=n(5),$=n(0),ee=me(n(3)),te=n(11),ne=me(n(16)),ae=me(n(99)),oe=me(n(13)),re=me(n(34)),se=me(n(100)),ie=n(101),le=me(n(71)),ce=me(n(20)),ue=me(n(41)),de=me(n(4)),pe=me(n(374)),fe=me(n(6)),he=me(n(375));function me(e){return e&&e.__esModule?e:{default:e}}function _e(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function ge(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ve(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var be="new_comment",ye=(0,X.decorator)({projectData:(0,$.state)(s),loginUser:(0,$.state)(i),commentEditing:(0,$.state)(l),comments:(0,$.state)(u),reactions:(0,$.state)(d),selfComments:(0,$.state)(p),replyShow:(0,$.state)(f),replysShow:(0,$.state)(h),moreListShow:(0,$.state)(m),channelId:(0,$.state)(_),inputValues:(0,$.state)(g),loadMoreStatus:(0,$.state)(v),loadMoreReactionsStatus:(0,$.state)(b),canPublish:(0,$.state)(y),isChannelReadonly:(0,$.state)(w),isAdmin:(0,$.state)(j),deleteCommentConfirmId:(0,$.state)(k),deleteCommentStatus:(0,$.state)(E),showEmoji:(0,$.state)(C),emoji:(0,$.state)(S),openEmoji:(0,$.signal)(O),closeEmoji:(0,$.signal)(N),changeEmoji:(0,$.signal)(P),storeComment:(0,$.signal)(T),sendEditComment:(0,$.signal)(M),updateEditing:(0,$.signal)(x),toggleReaction:(0,$.signal)(R),updateReplyShow:(0,$.signal)(I),updateReplysShow:(0,$.signal)(D),updateMoreListShow:(0,$.signal)(A),createComment:(0,$.signal)(L),createCommentWithEmoji:(0,$.signal)(U),changeReply:(0,$.signal)(W),changeInputValue:(0,$.signal)(z),loadMore:(0,$.signal)(H),loadMoreChild:(0,$.signal)(q),loadMoreReactions:(0,$.signal)(F),toggleChannelReadonly:(0,$.signal)(B),deleteComment:(0,$.signal)(G),openDeleteCommentConfirmDialog:(0,$.signal)(K),closeDeleteCommentConfirmDialog:(0,$.signal)(V),reportOpen:(0,$.signal)(J),loginTo:(0,$.signal)(Y)})(a=(0,de.default)(pe.default)(a=(0,fe.default)(he.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(we,ee.default),o(we,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleEmojiClose.bind(this))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleEmojiClose.bind(this))}},{key:"onChangeTextAreaFocused",value:function(e,t,n){var a,o,r,s=this.state.textAreaFocused,i=c({},s,(r=t,(o=e)in(a={})?Object.defineProperty(a,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[o]=r,a));this.setState({textAreaFocused:i});var l=e===be?"":e;this.props.changeReply({id:l,parentMessageId:n})}},{key:"onChange",value:function(e,t){e&&(0,te.pauseEvent)(e),this.props.changeInputValue({id:t,value:e.target.value})}},{key:"onReactionsDialogClose",value:function(){this.setState({reactionsDialogOpen:!1})}},{key:"onCommentLikeClick",value:function(e){this.props.onCommentLikeClick(),this.props.toggleReaction(e)}},{key:"onCommentReplyClick",value:function(e){this.props.onCommentReplyClick(),this.props.updateReplyShow(e)}},{key:"getTextAreaValue",value:function(e){var t=this.props.inputValues;return t[e]&&t[e].trim()}},{key:"getEmojiPlaceholder",value:function(){return n(376)}},{key:"getEmoji",value:function(){return new Map([["unhappy",n(113)],["nerd",n(114)],["laugh",n(115)],["love",n(116)],["grinning",n(117)]])}},{key:"getMoreReactionsOnScroll",value:function(e){var t=this.props,n=t.reactions,a=t.loadMoreReactions,o=(n||{}).hasMore,r=e.target,s=r.scrollTop,i=r.scrollHeight,l=r.clientHeight;!1!==o&&i<=s+l&&a({loading:!0})}},{key:"pauseWebgl",value:function(){document.getElementById("webgl_iframe").focus(),document.getElementsByTagName("iframe")[0].focus()}},{key:"handleCreateComment",value:function(e,t){var n=this.props.loginUser,a=this.props.emoji,o=this.getTextAreaValue(e),r=this.props,s=r.channelId,i=r.createCommentWithEmoji,l=r.updateReplysShow,c=r.storeComment;return!(!o||!o.length||(n||this.pauseWebgl(),c(),i({content:o,emoji:a,channelId:s,id:e,parentMessageId:t,unParse:!0}),e!==be&&(this.props.updateReplyShow({id:e,show:!1}),l({id:e,show:!0})),(0,this.props.changeEmoji)({value:null}),this.props.inputValues[e]="",e===be?this.props.onCommentCreated():this.props.onReplyCommentCreated(),0))}},{key:"handleTextAreaBlur",value:function(e,t,n){e&&(0,te.pauseEvent)(e),this.onChangeTextAreaFocused(t,!1,n)}},{key:"handleKeyPress",value:function(e,t,n){13!==e.which||e.shiftKey||((0,te.pauseEvent)(e),this.handleCreateComment(t,n))}},{key:"handleTextAreaFocus",value:function(e,t,n){this.onChangeTextAreaFocused(t,!0,n)}},{key:"hasComments",value:function(){var e=(this.props.comments||{}).items;return 0!==(void 0===e?[]:e).length}},{key:"clickReplysShow",value:function(e,t){var n=this.props,a=n.updateReplysShow,o=n.loadMoreChild;a({id:e,show:!0}),o({messageIds:t})}},{key:"handleSaveComment",value:function(t){var e=this.props,n=e.comments,a=e.sendEditComment,o=e.inputValues,r=(n||{}).items,s=(void 0===r?[]:r).find(function(e){return e.id===t}),i=o[t];a({id:t,message:s,newContent:i,value:!1})}},{key:"handleStartEdit",value:function(e){(0,this.props.updateEditing)({id:e,value:!0})}},{key:"handleEditCommentKeyPress",value:function(e,t){13!==e.which||e.shiftKey||this.handleSaveComment(t)}},{key:"handleEmojiClose",value:function(e){this.props.showEmoji&&-1===e.target.className.indexOf("image_")&&this.props.closeEmoji()}},{key:"loadFirstReactions",value:function(){0<this.props.projectData.reactionCount&&(this.props.loadMoreReactions({loading:!0}),this.setState({reactionsDialogOpen:!0}))}},{key:"parseLink",value:function(e){return ue.default.plainTextParse(e,!0,{})}},{key:"renderEditingButton",value:function(e){var t=this,n=this.props.updateEditing;return Q.default.createElement("div",{className:this.ss("comment-edit-buttons")},Q.default.createElement("button",{className:this.ss("button"),onClick:function(){return n({id:e,value:!1})}},this.__("cancel")),Q.default.createElement("button",{className:this.ss("button"),onClick:function(){return t.handleSaveComment(e)}},this.__("save")))}},{key:"renderReply",value:function(t,n){var a=this,e=this.props,o=e.replyShow,r=e.inputValues;if(!o[t])return null;var s=this.state.textAreaFocused,i=r[t],l=!(i||"").trim();return Q.default.createElement("div",{className:this.ss("reply-wrapper")},Q.default.createElement("div",{className:this.ss("input-wrapper")},Q.default.createElement(ae.default,{ref:"textarea_"+t,placeholder:this.__("reply_hint"),value:i,autoFocus:!0,onFocus:function(e){return a.handleTextAreaFocus(e,t,n)},onBlur:function(e){return a.handleTextAreaBlur(e,t,n)},onKeyPress:function(e){return a.handleKeyPress(e,t,n)},onChange:function(e){return a.onChange(e,t)}}),s[t]||!l?Q.default.createElement(oe.default,{theme:"webgl",size:"new-medium",disabled:l,className:this.ss("post"),label:this.__("post"),onClick:function(){return a.handleCreateComment(t,n)}}):null))}},{key:"renderEditingComment",value:function(t,e,n){var a=this,o=this.props.inputValues[t],r={};return r[n.author.id]=n.author,n.mentions.forEach(function(e){r[e.id]=e}),Q.default.createElement("div",{className:this.ss("edit-wrapper")},Q.default.createElement(ae.default,{className:this.ss("editing-comment-input"),ref:"textarea_"+t,defaultValue:e,value:o,placeholder:this.__("hint_comment"),onFocus:function(e){return a.handleTextAreaFocus(e,t)},onBlur:function(e){return a.handleTextAreaBlur(e,t)},onKeyPress:function(e){return a.handleEditCommentKeyPress(e,t)},onChange:function(e){return a.onChange(e,t)}}))}},{key:"renderCommentsItem",value:function(e,t,n){var a=this,o=this.props,r=o.loginUser,s=o.moreListShow,i=o.updateMoreListShow,l=o.reportOpen,c=o.canPublish,u=o.isAdmin,d=o.openDeleteCommentConfirmDialog,p=e.id,f=e.author,h=e.parentMessageId;if(e.skip||n&&h)return null;var m,_=(r||{}).id,g=f.id,v=f.username,b=p?re.default.extractTimestamp(p):Date.now(),y="/u/"+g,w=g===_,j=[];w?j.push(Q.default.createElement("button",{key:"edit",className:this.ss("more-item","edit"),onClick:function(){return a.handleStartEdit(p)}},this.__("edit"))):j.push(Q.default.createElement("button",{key:"report",className:this.ss("more-item","report"),onClick:function(){return l({itemId:p,itemType:"comment"})}},this.__("report"))),(c||u||w)&&(m=!c&&u,j.push(Q.default.createElement("button",{key:"delete",className:this.ss("more-item","delete",(c||u||w)&&"disable"),onClick:function(){return d({id:p,deleteAsAdmin:m})}},this.__("delete"))));var k=e.emojiReaction;return Q.default.createElement("div",{key:p||Date.now()},Q.default.createElement("div",{className:this.ss("comment-wrap")},Q.default.createElement("a",{className:this.ss("avatar-wrap"),href:y},Q.default.createElement(ne.default,{user:f,size:"xsmall"}),this.getEmoji().has(k)?Q.default.createElement("img",{src:this.getEmoji().get(k),alt:k,className:this.ss("avatar-emoji")}):""),Q.default.createElement("div",{className:this.ss("info-wrap")},Q.default.createElement("div",{className:this.ss("name-line")},Q.default.createElement("a",{className:this.ss("name"),href:y},v),f&&f.isStaff&&Q.default.createElement(se.default,{className:this.ss("staff-label"),type:"staff"}),Q.default.createElement("div",{className:this.ss("time")},this.__("comment_created_at",{time:b})),Q.default.createElement("div",{className:this.ss("more","ifont","ifont-ic_more"),onClick:function(){return i({id:p,show:!s[p]})}},Q.default.createElement("div",{className:this.ss("drop-back",!s[p]&&"hide")}),Q.default.createElement("div",{className:this.ss("moreList",!s[p]&&"hide")},j))),this.renderReplyComment(e,t,!1))),this.renderReplyComment(e,t,!0))}},{key:"renderReplyComment",value:function(e,t,n){var a=this,o=this.props,r=o.loginUser,s=o.replyShow,i=(o.updateReplyShow,o.commentEditing),l=e.id,c=e.content,u=e.reactions,d=void 0===u?[]:u,p=e.channelId,f=e.parentMessageId,h=e.attachments,m=e.replyMessageIds,_=(r||{}).id,g=d.filter(function(e){return"like"===e.type}).length,v=d.some(function(e){return e.user.id===_});100<g?g="99+":0===g&&(g="");var b=this.parseLink(c);return Q.default.createElement("div",{className:this.ss("comment-reply",n&&this.ss("hide-desk"),!n&&this.ss("hide-touch"))},Q.default.createElement("div",{className:this.ss("comment-wrapper")},Q.default.createElement("div",{className:this.ss("comment-content",i[l]&&"editing")},Q.default.createElement("div",{className:this.ss("comment",!l&&"loading")},this.renderAttachment(h,l),i[l]?this.renderEditingComment(l,c,e):b))),i[l]?this.renderEditingButton(l):Q.default.createElement("div",null,Q.default.createElement("div",{className:this.ss("buttons","touch-padding")},Q.default.createElement("div",{className:this.ss("reaction-like"),onClick:function(){return a.onCommentLikeClick({messageId:l,channelId:p,reactionType:"like"})}},Q.default.createElement("button",{className:this.ss("like",v&&"liked")},this.__("like")),Q.default.createElement("div",{className:this.ss("reaction-like-count")},g)),Q.default.createElement("a",{className:this.ss("reply"),onClick:function(){return a.onCommentReplyClick({id:l,show:!s[l]})}},this.__("reply"))),this.renderReply(l,f),this.renderChild(l,m,t)))}},{key:"renderAttachment",value:function(e,t){var n=this.props.commentEditing;if(!e||e.length<1)return null;var a=e[0],o=a.contentType,r=a.url;return o.startsWith("image/")?Q.default.createElement("img",{src:r,className:this.ss("image",n[t]&&"editing-image")}):null}},{key:"renderChild",value:function(t,e,n){var a=this,o=this.props.replysShow,r=n.filter(function(e){return e.parentMessageId===t}).reverse();return o[t]?Q.default.createElement("div",{className:this.ss("replys-wrapper")},Q.default.createElement("div",{className:this.ss("replys")},r.map(function(e){return a.renderCommentsItem(e,n,!1)}))):e&&0!==e.length?Q.default.createElement("div",{className:this.ss("replys-wrapper")},Q.default.createElement("button",{className:this.ss("buttons"),onClick:function(){return a.clickReplysShow(t,e)}},this.__("reply_count",{n:e.length}))):null}},{key:"renderCommentList",value:function(){var t=this,e=this.props,n=e.comments,a=e.selfComments,o=(n||{}).items,r=void 0===o?[]:o;if(0===r.length)return null;var s=a?a[0].id:0,i=r.filter(function(e){return s===e.id}),l=r.filter(function(e){return s!==e.id}),c=i.map(function(e){return t.renderCommentsItem(e,r,!0)}),u=l.map(function(e){return t.renderCommentsItem(e,r,!0)});return 0===c.length&&0===u.length&&u.push(Q.default.createElement("div",{key:"empty_comments",className:this.ss("no-comments-tip")},this.__("no_comments_tip"))),[].concat(_e(c),_e(u))}},{key:"renderEmoji",value:function(){var n=this,a=[],e=this.props,t=e.emoji,o=e.showEmoji,r=e.openEmoji;return this.getEmoji().forEach(function(e,t){a.push(Q.default.createElement("a",{key:t,className:n.ss("botton-"+t,"emoji-button"),onClick:function(){return n.clickEmoji(t)}},Q.default.createElement("img",{className:n.ss("image"),src:e})))}),Q.default.createElement("div",{className:this.ss("emojis")},Q.default.createElement("div",{className:this.ss("emoji-choose",!o&&"hide")},a),Q.default.createElement("div",{className:this.ss("emoji"),onClick:function(){return r()}},Q.default.createElement("img",{className:this.ss("image"),src:null!==t?this.getEmoji().get(t):this.getEmojiPlaceholder()})))}},{key:"renderCommentInputArea",value:function(){var t=this,e=this.props,n=e.projectData,a=e.inputValues,o=e.isChannelReadonly,r=(n||{}).publishedTime,s=this.state.textAreaFocused,i=a[be],l=!(i||"").trim();return o?Q.default.createElement("div",{className:this.ss("comment-input-wrapper","disabled")},Q.default.createElement("div",{className:this.ss("icon-close-comments","ifont","ifont-icons-close-comments")}),Q.default.createElement("div",{className:this.ss("hint-text")},this.__("comment_disabled"))):Q.default.createElement("div",{className:this.ss("comment-input-wrapper")},this.renderEmoji(),Q.default.createElement(ae.default,{ref:"textarea_"+be,value:i,readOnly:!r,placeholder:this.__("hint_comment"),onFocus:function(e){return t.handleTextAreaFocus(e,be)},onBlur:function(e){return t.handleTextAreaBlur(e,be)},onKeyPress:function(e){return t.handleKeyPress(e,be)},onChange:function(e){return t.onChange(e,be)}}),s[be]||!l?Q.default.createElement(oe.default,{theme:"webgl",size:"new-medium",disabled:l,className:this.ss("post"),label:this.__("post"),onClick:function(){return t.handleCreateComment(be)}}):null)}},{key:"renderComments",value:function(){var e=this.props,t=e.comments,n=e.loadMore,a=e.loadMoreStatus,o=e.isChannelReadonly,r=(t||{}).hasMore;return Q.default.createElement("div",{className:this.ss("comments")},Q.default.createElement("div",{className:this.ss("comment-list")},!o&&this.renderCommentList(),!o&&r&&Q.default.createElement("div",{className:this.ss("load-more")},Q.default.createElement(ie.EndBarComponent,{userDefinedLoadMoreStaus:a,onPage:function(){return n({loading:!0})},hasMore:r}))))}},{key:"renderReactionsDialogItem",value:function(e){var t=e.id,n=e.author,a=n.id,o=n.username,r="/u/"+a,s=e.emojiReaction;return Q.default.createElement("div",{key:t||Date.now()},Q.default.createElement("div",{className:this.ss("reaction-wrap")},Q.default.createElement("a",{className:this.ss("avatar-wrap"),href:r},Q.default.createElement(ne.default,{user:n,size:"xsmall"}),this.getEmoji().has(s)&&Q.default.createElement("img",{src:this.getEmoji().get(s),alt:s,className:this.ss("avatar-emoji")})),Q.default.createElement("div",{className:this.ss("info-wrap")},Q.default.createElement("div",{className:this.ss("name-line")},Q.default.createElement("a",{className:this.ss("name"),href:r},o)))))}},{key:"renderReactionsDialog",value:function(){var t=this,e=this.props.reactions,n=e&&0<e.items.length;return Q.default.createElement(ce.default,{open:this.state.reactionsDialogOpen&&n,position:"center",onCloseModal:function(){return t.onReactionsDialogClose()}},Q.default.createElement("div",{className:this.ss("reactions-dialog")},Q.default.createElement("div",{className:this.ss("header-wrapper")},Q.default.createElement("h3",null,"All reactions")),Q.default.createElement("div",{className:this.ss("reactions-wrapper"),onScroll:function(e){return t.getMoreReactionsOnScroll(e)}},e&&e.items&&e.items.map(function(e){return t.renderReactionsDialogItem(e)})),Q.default.createElement("div",{className:this.ss("close-wrapper")},Q.default.createElement("div",{className:this.ss("icon-close","ifont","ifont-material-baseline-clear"),onClick:function(){return t.onReactionsDialogClose()}}))))}},{key:"render",value:function(){var t=this,e=this.props,n=e.deleteCommentConfirmId,a=e.deleteCommentStatus,o=e.deleteComment,r=e.closeDeleteCommentConfirmDialog,s=e.projectData||{},i=s.likeCount,l=s.commentCount,c=s.reactionCount,u=s.reactionsUsed,d=!this.hasComments(),p=[];return u&&Object.keys(u).forEach(function(e){p.push(e)}),Q.default.createElement("div",{className:this.ss("comments")},p&&this.renderReactionsDialog(),Q.default.createElement("div",{className:this.ss("counts")},Q.default.createElement("div",{className:this.ss("reactions-used"),onClick:function(){return t.loadFirstReactions()}},p?p.map(function(e){return Q.default.createElement("img",{key:e,src:t.getEmoji().get(e),alt:e})}):""),Q.default.createElement("div",{className:this.ss("reaction-count"),onClick:function(){return t.loadFirstReactions()}},this.__("reaction_count",{n:i+c})),Q.default.createElement("div",{className:this.ss("comment-count")},this.__("comment_count",{n:l}))),Q.default.createElement("div",{className:this.ss("comments-wrapper",d&&"no-comments")},this.renderCommentInputArea(),this.renderComments(),Q.default.createElement(le.default,{open:!!n,confirmStatus:a,title:this.__("delete_comment"),theme:"delete",description:this.__("delete_comment_confirm"),onConfirm:function(){return o()},onClose:function(){return r()}})))}}]),we.propTypes={projectData:Z.default.object,loginUser:Z.default.object,commentEditing:Z.default.object,reactions:Z.default.object,comments:Z.default.object,selfComments:Z.default.array,replyShow:Z.default.object,replysShow:Z.default.object,moreListShow:Z.default.object,channelId:Z.default.string,inputValues:Z.default.object,loadMoreStatus:Z.default.string,loadMoreReactionsStatus:Z.default.string,canPublish:Z.default.bool,isChannelReadonly:Z.default.bool,isAdmin:Z.default.bool,deleteCommentConfirmId:Z.default.string,deleteCommentStatus:Z.default.string,showEmoji:Z.default.bool,emoji:Z.default.string,openEmoji:Z.default.func,closeEmoji:Z.default.func,changeEmoji:Z.default.func,storeComment:Z.default.func,sendEditComment:Z.default.func,updateEditing:Z.default.func,toggleReaction:Z.default.func,updateReplyShow:Z.default.func,updateReplysShow:Z.default.func,updateMoreListShow:Z.default.func,createComment:Z.default.func,createCommentWithEmoji:Z.default.func,changeReply:Z.default.func,changeInputValue:Z.default.func,loadMore:Z.default.func,loadMoreChild:Z.default.func,loadMoreReactions:Z.default.func,toggleChannelReadonly:Z.default.func,deleteComment:Z.default.func,openDeleteCommentConfirmDialog:Z.default.func,closeDeleteCommentConfirmDialog:Z.default.func,reportOpen:Z.default.func,loginTo:Z.default.func,onCommentCreated:Z.default.func,onCommentLikeClick:Z.default.func,onCommentReplyClick:Z.default.func,onReplyCommentCreated:Z.default.func},a=we))||a)||a)||a;function we(){var e,t,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,we);for(var n=arguments.length,a=Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=o=ge(this,(e=we.__proto__||Object.getPrototypeOf(we)).call.apply(e,[this].concat(a)))).state={textAreaFocused:{},reactionsDialogOpen:!1},o.clickEmoji=function(e){var t=o.props,n=t.changeEmoji,a=t.closeEmoji;n({value:e}),a()},ge(o,t)}t.default=ye},function(e,t,n){e.exports=n.p+"../styles/i/emojis/unhappy.f70dd13b4dd80f680a97165ecfbda5f3.png"},function(e,t,n){e.exports=n.p+"../styles/i/emojis/nerd.97ed24c71e81974914bf411d5c3cf19a.png"},function(e,t,n){e.exports=n.p+"../styles/i/emojis/laugh.c3de3ed8d90cc9eaebd74b5f77c7be28.png"},function(e,t,n){e.exports=n.p+"../styles/i/emojis/love.f2fbc1e2fec18d4702245796cc59f7e0.png"},function(e,t,n){e.exports=n.p+"../styles/i/emojis/grinning.cfdeb202b2c134dc529610792a54b365.png"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=Object.freeze(Object.defineProperties(["project.openProject"],{raw:{value:Object.freeze(["project.openProject"])}})),i=m(n(2)),b=m(n(1)),l=n(5),c=n(0),u=m(n(3)),y=n(11),w=m(n(14)),d=m(n(4)),p=m(n(382)),f=m(n(6)),h=m(n(383));function m(e){return e&&e.__esModule?e:{default:e}}var j=n(384),_=(0,l.decorator)({openProject:(0,c.signal)(s)})(a=(0,d.default)(p.default)(a=(0,f.default)(h.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(g,u.default),o(g,[{key:"onClick",value:function(e,t,n){this.props.onClick(),this.openProject(e,t,n)}},{key:"openProject",value:function(e,t,n){e&&(0,y.pauseEvent)(e);var a=this.props.openProject;a({projectId:t,type:n,from:"mg_recommend"})}},{key:"render",value:function(){var e,t,n=this,a=this.props,o=a.project,r=a.teamMap,s=a.userMap,i=o.title,l=o.thumbnail,c=o.originalImage,u=o.userId,d=o.teamId,p=o.playCount,f=o.slug,h=o.type,m=s&&u&&s[u],_=r&&d&&r[d],g=b.default.createElement("div",{className:this.ss("project-author","empty")}),v=l&&l.url||j;return c&&800<=c.width&&l.width<800&&(v=c.url||j),(_||m)&&(e=m?"/u/"+u:"/t/"+d,t=m?m.fullName:_.name,g=b.default.createElement("div",{className:this.ss("project-author")},b.default.createElement("a",{className:this.ss("link","link-text"),href:e},b.default.createElement("div",{className:this.ss("name")},t)))),b.default.createElement("div",{className:this.ss("project")},b.default.createElement("div",{className:this.ss("project-inner"),onClick:function(e){return n.onClick(e,f,h)}},b.default.createElement(w.default,{src:v,alt:o.title,sizes:"223px"})),b.default.createElement("div",{className:this.ss("project-info")},b.default.createElement("div",{className:this.ss("title"),onClick:function(e){return n.onClick(e,f,h)}},i),g,b.default.createElement("div",{className:this.ss("plays")}," ",this.__("play_count",{n:p,v:(0,y.formatNumberV2)(p)}))))}}]),g.propTypes={project:i.default.object,userMap:i.default.object,teamMap:i.default.object,openProject:i.default.func,onClick:i.default.func},a=g))||a)||a)||a;function g(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}t.default=_},,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o,r,s=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var l=b(["loginUser"],["loginUser"]),c=b(["notification.unseenCount"],["notification.unseenCount"]),u=b(["messages.channels"],["messages.channels"]),d=b(["messages.readState"],["messages.readState"]),p=b(["messages.connected"],["messages.connected"]),f=b(["notification.connected"],["notification.connected"]),h=v(n(2)),m=v(n(3)),_=n(5),g=n(0);function v(e){return e&&e.__esModule?e:{default:e}}function b(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var y=(0,_.decorator)({loginUser:(0,g.state)(l),unseenCount:(0,g.state)(c),channels:(0,g.state)(u),readState:(0,g.state)(d),messagesConnected:(0,g.state)(p),notificationConnected:(0,g.state)(f)})((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(w,m.default),s(w,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e,t,n=this.props,a=n.loginUser,o=n.unseenCount,r=void 0===o?0:o,s=n.channels,i=n.readState,l=n.messagesConnected,c=n.notificationConnected;a&&l&&c&&(e=Object.values(s).reduce(function(e,t){var n=t.id;return e+i[n].mentionCount},0),this.sendMentionCount(e),t=r+e,this.setBadge(t))}},{key:"componentWillUnmount",value:function(){void 0!==this.number&&this.setBadge(0)}},{key:"setBadge",value:function(e){var t;e!==this.number&&(this.number=e,t=this.context.publicPath,(0,n(500).default)(0<e?t+"images/favicons/favicon-dot.png?v=1":t+"images/favicons/favicon.png?v=1"))}},{key:"sendMentionCount",value:function(e){e!==this.mentionCount&&(this.mentionCount=e,window.sendSignalToHost&&window.sendSignalToHost("badge_setCount",{badgeCount:Math.min(e,99)}))}},{key:"render",value:function(){return null}}]),r=o=w,o.contextTypes={publicPath:h.default.string},o.propTypes={loginUser:h.default.object,unseenCount:h.default.number,channels:h.default.object,readState:h.default.object,messagesConnected:h.default.bool,notificationConnected:h.default.bool},a=r))||a;function w(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,w),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o,r=function(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e};function s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var i=A(["footer.langStatus"],["footer.langStatus"]),l=A(["footer.regionStatus"],["footer.regionStatus"]),c=A(["footer.height"],["footer.height"]),u=A(["region"],["region"]),d=A(["locale"],["locale"]),p=A(["footer.languageChange"],["footer.languageChange"]),f=A(["footer.regionChange"],["footer.regionChange"]),h=A(["footer.switchLangStatus"],["footer.switchLangStatus"]),m=A(["footer.switchRegionStatus"],["footer.switchRegionStatus"]),_=A(["footer.setHeight"],["footer.setHeight"]),g=I(n(2)),v=I(n(1)),b=I(n(12)),y=I(n(15)),w=n(5),j=n(0),k=I(n(3)),E=n(18),C=n(26),S=I(n(353)),O=(I(n(44)),I(n(4))),N=I(n(356)),P=n(6),T=I(P),M=I(n(357)),x=I(n(108)),R=n(11);function I(e){return e&&e.__esModule?e:{default:e}}function D(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function A(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var L=(0,w.decorator)({langStatus:(0,j.state)(i),regionStatus:(0,j.state)(l),height:(0,j.state)(c),region:(0,j.state)(u),locale:(0,j.state)(d),languageChange:(0,j.signal)(p),regionChange:(0,j.signal)(f),switchLangStatus:(0,j.signal)(h),switchRegionStatus:(0,j.signal)(m),setHeight:(0,j.signal)(_)})(a=(0,O.default)(N.default)(a=(0,T.default)(M.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(U,k.default),r(U,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){return e.onSetHeight()},0),this.removeClickOutsideLang=(0,E.addClickOutside)([this.refs.language],function(){e.onSwitchStatus(!1,0)}),this.removeClickOutsideRegion=(0,E.addClickOutside)([this.refs.region],function(){e.onSwitchStatus(!1,1)})}},{key:"componentWillUnmount",value:function(){this.removeClickOutsideLang(),this.removeClickOutsideRegion()}},{key:"onSwitchStatus",value:function(e,t){var n=this.props,a=n.langStatus,o=n.regionStatus,r=n.type;"sticky"===r&&(0,C.isTouch)()||"non-sticky"===r&&!(0,C.isTouch)()||(e?(0===t&&this.props.switchLangStatus({open:!a}),1===t&&this.props.switchRegionStatus({open:!o})):(0===t&&a&&this.props.switchLangStatus({open:!1}),1===t&&o&&this.props.switchRegionStatus({open:!1})))}},{key:"onSetHeight",value:function(){var e,t=b.default.findDOMNode(this.refs.footer);t&&(e=this.props.height,t.offsetHeight!==e&&this.props.setHeight({height:t.offsetHeight}))}},{key:"render",value:function(){var n=this,e=this.props,t=(e.region,e.theme),a=(e.isLiveHelp,[]),o=["https://unity3d.com/legal/","https://unity3d.com/legal/privacy-policy","https://unity3d.com/legal/cookie-policy#cookies"];o.push("https://unity3d.com/legal/terms-of-service"),o.forEach(function(e,t){a.push(v.default.createElement("div",{key:"link"+t,className:n.ss("link")},v.default.createElement("a",{href:e,target:"_blank",rel:"noreferrer"},n.__("link_text_"+t))))}),v.default.createElement("div",{className:this.ss("shares")},v.default.createElement("div",{className:this.ss("share","ifont","ifont-icons-twitter")}),v.default.createElement("div",{className:this.ss("share","ifont","ifont-icons-facebook")}),v.default.createElement("div",{className:this.ss("share","ifont","ifont-icons-github")}),v.default.createElement("div",{className:this.ss("share","ifont","ifont-icons-linkedin")})),y.default.MIN_LOCALES.map(function(e){return{text:(0,R.getLangText)(e),value:e}}),y.default.REGIONS.map(function(e){return{text:(0,P.i18n)(n.context,x.default,e.i18n_key),value:e.refId}}),this.context.locale;var r="play-support@unity3d.com";return v.default.createElement("div",{ref:"footer",className:this.ss("footer",t)},v.default.createElement("div",{className:this.ss("context")},v.default.createElement("div",{className:this.ss("copyright")},this.__("copyright",{year:(new Date).getFullYear()})),v.default.createElement("div",{className:this.ss("links")},v.default.createElement("div",{key:"link_onetrust_settings",className:this.ss("link","link_onetrust_settings")},v.default.createElement("a",{id:"ot-sdk-btn",className:"ot-sdk-show-settings"},this.__("onetrust_settings"))),a,v.default.createElement("div",{key:"link_contact_us",className:this.ss("link","link-contact-us")},v.default.createElement("a",{href:"mailto:"+r+"?subject="+this.__("mail_subject")},this.__("contact_us")))),v.default.createElement("a",{className:this.ss("contact-us"),href:"mailto:"+r+"?subject="+this.__("mail_subject")},this.__("contact_us")),!1),v.default.createElement(S.default,null))}}]),(o=U).propTypes={theme:g.default.string,langStatus:g.default.bool,regionStatus:g.default.bool,height:g.default.number,region:g.default.string,locale:g.default.string,type:g.default.oneOf(["sticky","non-sticky"]),isLiveHelp:g.default.bool,languageChange:g.default.func,regionChange:g.default.func,switchLangStatus:g.default.func,switchRegionStatus:g.default.func,setHeight:g.default.func},a=o))||a)||a)||a;function U(){var e,t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,U);for(var a=arguments.length,o=Array(a),r=0;r<a;r++)o[r]=arguments[r];return(t=n=D(this,(e=U.__proto__||Object.getPrototypeOf(U)).call.apply(e,[this].concat(o)))).onChangeLang=function(e){e!==n.props.locale&&n.props.languageChange({locale:e})},n.onChangeRegion=function(e){e!==n.props.region&&n.props.regionChange({regionRefId:e})},n.renderIcon=function(){return v.default.createElement("div",{className:n.ss("icon-arrow-down","ifont","ifont-material-baseline-keyboard_arrow_up")})},D(n,t)}t.default=L},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=Object.freeze(Object.defineProperties(["header.setting.windowWidth"],{raw:{value:Object.freeze(["header.setting.windowWidth"])}})),i=h(n(2)),m=h(n(1)),l=h(n(3)),c=n(5),u=n(0),d=n(24),_=h(n(14)),g=h(n(216)),v=n(11),p=h(n(4)),f=h(n(359));function h(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=d.presets.stiff,w=["video/x-m4v","video/webm","video/x-ms-wmv","video/x-msvideo","video/3gpp","video/ogg","video/flv","video/x-flv","video/mp4","video/quicktime","video/mpeg","video/ogv"],j=(0,c.decorator)({windowWidth:(0,u.state)(s)})(a=(0,p.default)(f.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(k,l.default),o(k,[{key:"componentDidMount",value:function(){var t=this;this._handKeyDown=function(e){return t.onKeyDown(e)},window.addEventListener("keydown",this._handKeyDown,!0)}},{key:"componentWillReceiveProps",value:function(e){((e||{}).mediaData||{}).activeId&&this.setState({loading:!0})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this._handKeyDown,!0)}},{key:"onKeyDown",value:function(e){var t=e.keyCode;if((this.props.mediaData||{}).activeId)switch(t){case 37:case 38:this.onPrevious(e);break;case 39:case 40:this.onNext(e);break;case 27:this.onClose(e)}}},{key:"getMaxWidth",value:function(){var e=this.props.windowWidth;return e?Math.min(e,1e3):1e3}},{key:"renderMedia",value:function(e,t){var n,a,o,r,s,i=void 0,l=!1,c=!1,u=e.type,d=e.originalImage,p=e.image,f=e.contentType,h=e.downloadUrl;return i="img"===u?(a=(n=d||p||{}).url,o=n.gif,s=n.height,l=(r=n.width)<this.getMaxWidth(),m.default.createElement("div",{className:this.ss("image"),style:l?{width:r,height:s}:{}},m.default.createElement(_.default,{src:a,sizes:"1000px",gif:!!o,width:r,height:s,maxWidth:l?r:0}))):(c=-1!==w.indexOf(f))&&m.default.createElement("div",{className:this.ss("image","video"),onClick:function(e){return(0,v.pauseEvent)(e)}},m.default.createElement(g.default,{src:h,size:"auto",width:608,height:342,directPlay:!0,progress:!0})),m.default.createElement("div",{className:this.ss("image-inner",(l||c)&&"center"),style:t},i)}},{key:"render",value:function(){var o=this,e=this.props,r=e.className,t=e.mediaData||{},n=t.activeId;if(!n)return null;var s=t.contentMap[n]||{},a=n?{modalScale:(0,d.spring)(1,y),modalOpacity:(0,d.spring)(1,y)}:{modalScale:(0,d.spring)(.75,y),modalOpacity:(0,d.spring)(0,y)};return m.default.createElement(d.Motion,{defaultStyle:{modalScale:.75,modalOpacity:0},style:a},function(e){var t=e.modalScale,n=e.modalOpacity;if(n<.1)return null;var a={transform:"scale3d("+t+", "+t+", 1)",opacity:n};return m.default.createElement("div",{className:o.ss("image-popup-wrap")},m.default.createElement("div",{className:o.ss("image-popup-bg")}),m.default.createElement("div",{className:o.ss(r,"image-wrap"),onClick:o.onClose},o.renderMedia(s,a)))})}}]),k.propTypes={windowWidth:i.default.number,className:i.default.string,mediaData:i.default.object,mediaSignals:i.default.object,skipLoading:i.default.bool},a=k))||a)||a;function k(){var e,t,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,k);for(var n=arguments.length,a=Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=o=b(this,(e=k.__proto__||Object.getPrototypeOf(k)).call.apply(e,[this].concat(a)))).state={loading:!0},o.onPrevious=function(e){e&&(0,v.pauseEvent)(e);var t=o.props,n=t.mediaData,a=t.mediaSignals;(n||{}).activeId&&a.moveToContent&&a.moveToContent({step:-1})},o.onNext=function(e){e&&(0,v.pauseEvent)(e);var t=o.props,n=t.mediaData,a=t.mediaSignals;(n||{}).activeId&&a.moveToContent&&a.moveToContent({step:1})},o.onClose=function(e){e&&(0,v.pauseEvent)(e);var t=o.props,n=t.mediaData,a=t.mediaSignals;(n||{}).activeId&&a.closeContent&&a.closeContent()},b(o,t)}t.default=j},,,,,,,,function(e,t){e.exports=window.numbro},,,,,,,,,,,,,,,,,,,,,,function(e,p,f){"use strict";(function(e){Object.defineProperty(p,"__esModule",{value:!0});var t,n=d(["project.projectData.headerImage"],["project.projectData.headerImage"]),a=d(["content"],["content"]),o=d(["project.projectData.thumbnail"],["project.projectData.thumbnail"]),r=d(["project.deleteChallengeConfirmOpen"],["project.deleteChallengeConfirmOpen"]),s=d(["project.deleteChallengeConfirmUpdateStatus"],["project.deleteChallengeConfirmUpdateStatus"]),i=f(9),l=f(0),c=f(7),u=(t=c)&&t.__esModule?t:{default:t};function d(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}p.default={name:e,depends:[],signals:{toggleSettings:[function(e){var t=e.state,n=t.get("project.openSettings");t.set("project.openSettings",!n)}],closeSettings:[function(e){e.state.set("project.openSettings",!1)}],toggleMenu:[function(e){var t=e.props,n=e.state,a=t.key,o=n.get("project.openMenu."+a);n.set("project.openMenu."+a,!o)}],closeMenu:[function(e){var t=e.props,n=e.state,a=t.key;n.set("project.openMenu."+a,!1)}],openHoverMenu:[function(e){var t=e.props,n=e.state,a=t.top,o=t.left,r=t.width;n.merge("project.hoverMenu",{open:!0,top:a,left:o,width:r})}],closeHoverMenu:[function(e){e.state.set("project.hoverMenu",{open:!1,top:0,left:0,width:0})}],changeHeaderImage:[(0,i.set)((0,l.state)(n),(0,l.props)(a))],changeThumbnail:[(0,i.set)((0,l.state)(o),(0,l.props)(a))],openDeleteChallengeConfirm:[(0,i.set)((0,l.state)(r),!0)],closeDeleteChallengeConfirm:[(0,i.set)((0,l.state)(r),!1)],deleteFromChallenge:[(0,i.set)((0,l.state)(s),u.default.inProgress),function(e){var t=e.props,n=e.http,a=e.path,o=t.projectId,r=t.challengeId;return n.post("/api/p/"+o+"/deleteFromChallenge",{challengeId:r}).then(a.success).catch(a.error)},{success:[(0,i.set)((0,l.state)(s),u.default.succeeded),function(e){var t=e.state.get("project.projectData").challengeId;t&&""!==t&&(window.location.href="/showcases/"+t+"?tab=submissions&subTab=latest")}],error:[(0,i.set)((0,l.state)(s),u.default.failed),function(e){var t=e.props,n=e.controller,a=(t.result||{}).errorCode;"AdminApprovalNeeded"===a?n.getSignal("header.openNeedReviewDialog")():ReCaptchaStore.recaptchaError(a,n)||onError("project")({props:t,controller:n})}]}]},getServices:function(){},getState:function(){return{deleteChallengeConfirmOpen:!1,deleteChallengeConfirmUpdateStatus:"",openSettings:!0,openMenu:{},hoverMenu:{open:!1,top:0,left:0,width:0}}}}}).call(p,"views/v2/modules/projectV2/CreateStore.js")},,,,function(e,y,w){"use strict";(function(e){Object.defineProperty(y,"__esModule",{value:!0});var m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},t=u(["project.prePost.show"],["project.prePost.show"]),n=u(["project.prePost.updateStatus"],["project.prePost.updateStatus"]),a=w(9),o=w(0),_=w(21),r=c(w(7)),g=c(w(127)),s=c(w(19)),i=w(11),l=c(w(25)),d=c(w(78));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function p(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var f=["project","prePost"],v=(0,l.default)({title:null,body:null,contentImage:null,description:null,headerImage:null,subTitle:null});function h(n){return[function(e){var t=e.props;return{field:[].concat(f,["form",n]),value:t.value,touched:!0}}].concat(p(_.chains.fieldChanged))}function b(e){var t=e.state,n=t.get("project.prePost.show");t.set("project.prePost.show",!n)}y.default={name:e,depends:[],signals:{togglePrePost:[b],togglePrePostInternal:[b],closePrePost:[(0,a.set)((0,o.state)(t),!1)],changeProjectStatus:h("status"),changeProjectGenresField:h("genres"),changeProjectPublishToTeamField:h("publishToTeam"),changeProjectTeam:h("teamId"),changeProjectGenres:[function(e){var t,n,a=e.state,o=e.props,r=e.controller,s=o.isAdd,i=o.value,l=a.get([].concat(f,["form","genres","value"])),c=l.findIndex(function(e){return e===i});s&&c<0&&(2<=l.length?r.getSignal("header.showMessage")({message:"genres_select_limit"}):(t=[].concat(p(l),[i]),r.getSignal("project.changeProjectGenresField")({value:t}))),!s&&0<=c&&((n=[].concat(p(l))).splice(c,1),r.getSignal("project.changeProjectGenresField")({value:n}))}],changeProjectMWU:h("mwu"),changeChallengeTerms:h("challengeTerms"),changeProjectPublishToTeam:[function(e){var t=e.props,n=e.controller,a=t.value;n.getSignal("project.changeProjectPublishToTeamField")({value:a}),a?n.getSignal("project.changeTeamIdFieldMetaAndInit")({required:!0}):n.getSignal("project.changeTeamIdFieldMetaAndInit")({required:!1})}],changeTeamIdFieldMetaAndInit:[function(e){var t=e.state,n=e.props.required,a=[].concat(f,["form","teamId"]),o=t.get("project"),r=o.projectData,s=o.teamId,i=r&&r.teamId||s;return n?{fieldPath:[].concat(p(a)),fieldDetails:{value:i,validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0,isTouched:!0}}:{fieldPath:[].concat(p(a)),fieldDetails:{value:i}}},_.chains.addField],onPublish:[function(e){var t=e.state,n=e.path,a=e.controller,o=t.get("project.projectData"),r=o.type,s=o.headerImage,i=(0,g.default)(t),l=i.title,c=i.subTitle,u=i.body,d=i.bodyIsEmpty,p=i.headerImageId,f=i.description,h=i.contentIds,m=[];return l||m.push(v.title),u&&!d||m.push(v.body),"game"===r?(f||m.push(v.description),p||s||m.push(v.headerImage),0===h.length&&m.push(v.contentImage)):"article"===r?(c||m.push(v.subTitle),p||s||m.push(v.headerImage)):"showcase"===r?0===h.length&&m.push(v.contentImage):"webgl"===r&&(f||m.push(v.description),0===h.length&&m.push(v.contentImage)),0<m.length?(a.getSignal("header.showMessage")({message:m}),n.no()):n.yes()},{yes:[].concat(p(_.chains.formValidated),[(0,a.set)((0,o.state)(n),r.default.inProgress),[function(e){var t=e.state,n=e.http,a=e.path,o=t.get([].concat(f,["form"])),r=t.get("project.canPublish"),s=t.get("project.enableMobile");if(!r)return a.error({result:{errorCode:"OwnerOnlyPublish"}});if((0,_.isValidForm)(o)){var i=t.get("project.projectData").id,l=(0,g.default)(t),c=m({},l,{status:o.status.value,genres:o.genres.value,teamId:o.teamId.value,mwu:o.mwu.value,enableMobile:s}),u=d.default.getRequestHeaderOption(t);return n.put("/api/p/"+i+"/publish",c,u).then(a.success).catch(a.error)}return a.error()},{success:[(0,a.set)((0,o.state)(n),r.default.succeeded),function(e){var t=e.state,n=e.project,a=t.get("project"),o=a.projectData,r=o.id,s=o.type,i=a.challengeId,l=!i||""===i||s&&"webgl"===s?"/p/"+r:"/showcases/"+i+"?tab=submissions&subTab=latest";n.locationHref(l)}],error:[(0,a.set)((0,o.state)(n),r.default.failed),function(e){var t=e.props,n=e.state,a=e.controller,o=(t.result||{}).errorCode;"AdminApprovalNeeded"===o?(n.set("project.prePost.disablePostButton",!0),a.getSignal("header.openNeedReviewDialog")()):d.default.recaptchaError(o,a)||(0,i.onError)("project")({props:t,controller:a})}]}]]),no:[]}],onTeamCreateSuccess:[function(e){var t=e.state,n=e.props,a=e.controller,o=(n||{}).team,r=t.get("project.teams");o&&(r?t.unshift("project.teams",o):t.set("project.teams",[o])),a.getSignal("team.closeBasicForm")()}]},getServices:function(){return{locationHref:s.default}},getState:function(e){var t,n,a=e.project,o=a.projectData,r=a.teamId,s=a.isMWU,i=a.challengeId,l=a.submission,c=e.canPublish,u=void 0!==c&&c,d=(t=s,"game"===(n=o||{}).type?{status:{value:n.status,validations:["isValue"],errorMessages:["error_isRequired"]},genres:{value:n.genreIds||[],validations:["isValue"],errorMessages:["error_isRequired"]},mwu:{value:t}}:{status:{value:""},genres:{value:[]},mwu:{value:t}}),p=o&&o.teamId||r,f=o&&o.challengeId||i,h=l&&l.agreeTerms||!1;return{prePost:{show:!1,canPublish:u,updateStatus:"",disablePostButton:!1,disableChangeOwnerButton:!!p,form:(0,_.Form)(m({},d,{publishToTeam:{value:!!p},teamId:{value:p},challengeId:{value:f},challengeTerms:{value:h}}))}}}}}).call(y,"views/v2/modules/projectV2/PrePostStore.js")},,,function(e,u,d){"use strict";(function(e){Object.defineProperty(u,"__esModule",{value:!0});var t=Object.freeze(Object.defineProperties(["project.autoSave.updateStatus"],{raw:{value:Object.freeze(["project.autoSave.updateStatus"])}})),n=d(9),a=d(0),i=d(7),o=s(i),l=s(d(127)),r=d(11);function s(e){return e&&e.__esModule?e:{default:e}}var c=["project","autoSave"];u.default={name:e,depends:[],signals:{draftChanged:[function(e){e.state.merge(c,{changedAt:Date.now()})},(0,n.debounce)(2e3),{continue:[function(e){var t=e.state,n=e.path,a=t.get(c),o=a.changedAt,r=a.savedAt,s=t.get("project.prePost.updateStatus");return!(0,i.isLoadingOrSucceeded)(s)&&r<o?n.yes():n.no()},{yes:[(0,n.set)((0,a.state)(t),o.default.inProgress),function(e){var t=e.state,n=e.http,a=e.path,o=t.get("project.projectData").id,r=(0,l.default)(t),s=Date.now();return n.put("/api/p/"+o,r).then(function(e){return t.get(c).savedAt<s&&t.merge(c,{savedAt:s}),a.success(e)}).catch(a.error)},{success:[(0,n.set)((0,a.state)(t),o.default.succeeded)],error:[(0,r.onError)("project"),(0,n.set)((0,a.state)(t),o.default.failed)]}],no:[]}],discard:[]}]},getState:function(){return{autoSave:{changedAt:0,savedAt:0,updateStatus:""}}}}}).call(u,"views/v2/modules/projectV2/AutoSaveStore.js")},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(248);var r=[((a=o)&&a.__esModule?a:{default:a}).default];t.default={profile:r}},function(e,d,p){"use strict";(function(e){Object.defineProperty(d,"__esModule",{value:!0});var t,n=u(["profile.tagsDialog.show"],["profile.tagsDialog.show"]),a=u(["profile.tagsDialog.error"],["profile.tagsDialog.error"]),o=u(["profile.tagsDialog.updateStatus"],["profile.tagsDialog.updateStatus"]),r=p(9),s=p(0),i=p(7),l=(t=i)&&t.__esModule?t:{default:t},c=p(11);function u(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}d.default={name:e,depends:[],signals:{openTagsDialog:[function(e){var t=e.state,n=e.props.tags||[];t.merge("profile.tagsDialog",{show:!0,error:"",tags:[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(n))})}],closeTagsDialog:[(0,r.set)((0,s.state)(n),!1)],addTag:[function(e){var t=e.props,n=e.path,a=t.name;return a&&100<a.length?n.no():n.yes()},{yes:[(0,r.set)((0,s.state)(a),""),function(e){var t=e.props,n=e.state,a=e.controller,o=t.value,r=o.id,s=o.name,i=t.maxCount,l=n.get("profile.tagsDialog.tags");l.findIndex(function(e){return e.id===r})<0&&(0<i&&l.length>=i?a.getSignal("header.showMessage")({message:"project_tags_limit"}):n.unshift("profile.tagsDialog.tags",{id:r,name:s}))}],no:[(0,r.set)((0,s.state)(a),"error_max_length_100")]}],selectTag:[function(e){var t=e.props,n=e.state,a=t.id;n.set("profile.tagsDialog.selectedId",a)}],deleteTag:[function(e){var t=e.props,n=e.state,a=t.id,o=n.get("profile.tagsDialog.tags").findIndex(function(e){return e.id===a});0<=o&&n.splice("profile.tagsDialog.tags",o,1)}],submitSkill:[(0,r.set)((0,s.state)(o),l.default.inProgress),function(e){var t=e.props,n=e.state,a=e.http,o=e.path,r=t.id,s=t.type,i=n.get("profile.tagsDialog.tags").map(function(e){return e.id});return"user"===s?a.post("/api/updateUserSkills",{skillIds:i}).then(o.success).catch(o.error):"project"===s?a.post("/api/p/"+r+"/tags",{id:r,skillIds:i}).then(o.success).catch(o.error):"group"===s?a.post("/api/group/"+r+"/updateTags",{tags:i}).then(o.success).catch(o.error):a.post("/api/t/"+r+"/updateTags",{skillIds:i}).then(o.success).catch(o.error)},{success:[(0,r.set)((0,s.state)(o),l.default.succeeded),(0,r.set)((0,s.state)(n),!1),function(e){var t,n,a,o,r,s,i,l,c,u,d=e.state,p=e.props,f=p.result,h=p.type;"user"===h?(t=f.skillIds,n=f.skillMap,a=f.profilePercent,o=f.nextStep,d.set("profile.user.skillIds",t),d.merge("profile.skillMap",n),d.set("profile.profilePercent",a),d.set("profile.nextStep",o)):"project"===h?(r=f.skillIds,s=f.skillMap,d.set("project.projectData.skillIds",r),d.merge("project.skillMap",s)):"group"===h?(i=f.skillMap,l=f.group,d.set("group.group",l),d.merge("group.skillMap",i||{})):(c=f.skills,d.set("teamData.skillIds",c.map(function(e){return e.id})),u={},c.forEach(function(e){u[e.id]=e}),d.merge("skillMap",u))}],error:[(0,r.set)((0,s.state)(o),l.default.failed),(0,c.onError)("profile")]}]},getState:function(){return{tagsDialog:{show:!1,updateStatus:l.default.initial,tags:[],selectedId:"",error:""}}}}}).call(d,"views/v2/modules/profile/TagsStore.js")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(250);var r=[((a=o)&&a.__esModule?a:{default:a}).default];t.default={socialLinksDialog:r}},function(e,g,v){"use strict";(function(e){Object.defineProperty(g,"__esModule",{value:!0});var t,u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},n=p(["socialLinksDialog.show"],["socialLinksDialog.show"]),a=p(["socialLinksDialog.updateStatus"],["socialLinksDialog.updateStatus"]),o=p(["socialLinksDialog.removeStatus"],["socialLinksDialog.removeStatus"]),r=v(9),s=v(0),c=v(21),i=v(7),l=(t=i)&&t.__esModule?t:{default:t};function d(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function p(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=["socialLinksDialog","form"],m=["google","twitter","facebook","linkedin","instagram","github","personal","flickr","indiedb","pinterest","reddit","steam","tumblr","twitch","vimeo","vk","weibo","qq","youtube","medium","behance","artstation","sketchfab","dribbble"];function _(n){return m.reduce(function(e,t){return u({},e,f({},t,{value:n[t],validations:["isSocialUrl:"+t],errorMessages:["error_link"]}))},{})}g.default={name:e,depends:[],signals:{openSocialLinksDialog:[function(e){var t=e.state,n=e.props.links||{},a=(0,c.Form)(_(n));t.set(h,a)},(0,r.set)((0,s.state)(n),!0)],closeSocialLinksDialog:[(0,r.set)((0,s.state)(n),!1)],changeSocialLink:[function(e){var t=e.props;return{field:[].concat(h,[t.fieldName]),value:t.value,touched:!0}}].concat(d(c.chains.fieldChanged)),updateSocialLinks:[].concat(d(c.chains.formValidated),[(0,r.set)((0,s.state)(a),l.default.inProgress),function(e){var t=e.props,n=e.state,a=e.http,o=e.path,r=n.get(h);if((0,c.isValidForm)(r)){var s=m.reduce(function(e,t){return u({},e,f({},t,r[t].value))},{}),i=t.teamId,l=t.projectId;return i?a.post("/api/t/"+i+"/updateSocialLinks",s).then(o.success).catch(o.error):l?a.post("/api/p/"+l+"/updateSocialLinks",s).then(o.success).catch(o.error):a.post("/api/updateUserSocialLinks",s).then(o.success).catch(o.error)}return o.error()},{success:[(0,r.set)((0,s.state)(a),l.default.succeeded),(0,r.set)((0,s.state)(n),!1),function(e){var t=e.props,n=e.state,a=t.result,o=t.teamId,r=t.projectId;o?n.set("teamData.referenceUrls",a):r?n.set("project.projectData.socialUrl",a):n.set("profile.user.referenceUrls",a)}],error:[(0,r.set)((0,s.state)(a),l.default.failed)]}]),removeProjectSocialLinks:[(0,r.set)((0,s.state)(o),l.default.succeeded),function(e){var t=e.state,n=e.props,a=e.http,o=e.path,r=n.site,s=t.get("project.projectData"),i=s.id,l=s.socialUrl,c=(void 0===l?[]:l).reduce(function(e,t){return u({},e,f({},t.site,t.url))},{});return c[r]="",a.post("/api/p/"+i+"/updateSocialLinks",c).then(o.success).catch(o.error)},{success:[(0,r.set)((0,s.state)(o),l.default.succeeded),function(e){var t=e.state,n=e.props;t.set("project.projectData.socialUrl",n.result)}],error:[(0,r.set)((0,s.state)(o),l.default.failed)]}]},getState:function(){return{show:!1,updateStatus:l.default.initial,form:(0,c.Form)(_({}))}}}}).call(g,"views/v2/modules/socialLinks/SocialLinksStore.js")},function(e,_,g){"use strict";(function(e){Object.defineProperty(_,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},t=f(["project.likeStatus"],["project.likeStatus"]),n=f(["project.loadMoreStatus"],["project.loadMoreStatus"]),a=f(["project.publishedStatus"],["project.publishedStatus"]),o=f(["project.updateThumbnailStatus"],["project.updateThumbnailStatus"]),r=g(9),s=g(0),i=g(7),c=p(i),u=p(g(19)),d=p(g(31));function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(o){return function(e){var t=e.props,n=e.state,a=t.followeeId;n.set("project.followStatus."+a,o)}}_.default={name:e,depends:[],signals:{toggleReaction:d.default.LoginRequired([function(e){var t=e.state,n=e.props,a=e.path,o=e.http,r=n.messageId,s=n.reactionType,i=t.get("project.comments.items"),l=i.findIndex(function(e){return e.id===r}),c=i[l].reactions,u=t.get("loginUser.id");return c.some(function(e){return e.user.id===u})?o.post("/api/messages/"+r+"/removeReaction",{reactionType:s}).then(a.success).catch(a.error):o.post("/api/messages/"+r+"/addReaction",{reactionType:s}).then(a.success).catch(a.error)},{success:[function(e){var t,n=e.props,a=e.state,o=n.result,r=n.messageId,s=a.get("project.comments.items"),i=s.findIndex(function(e){return e.id===r});-1<i&&((t=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(s))).splice(i,1,o),a.set("project.comments.items",t))}],error:[]}]),doRating:d.default.LoginRequired([function(e){var t=e.props,n=e.state,a=e.http,o=e.path,r=n.get(["project"]).projectData.id,s={rating:t.rating,projectId:r};return a.post("/api/submission/rating",s).then(o.success).catch(o.error)},{success:[function(e){var t=e.props,n=e.state,a=t.result.rating;n.set("project.rating",a)}],error:[]}]),updateReplysShow:[function(e){var t=e.props,n=e.state,a=t.id,o=t.show;n.merge("project.replysShow",h({},a,o))}],updateMoreListShow:[function(e){var t=e.props,n=e.state,a=t.id,o=t.show;n.merge("project.moreListShow",h({},a,o))}],updateReplyShow:[function(e){var t=e.props,n=e.state,a=t.id,o=t.show;n.merge("project.replyShow",h({},a,o)),o||n.merge("project.inputValues",h({},a,""))}],changeReply:[function(e){var t=e.props,n=e.state,a=t.id,o=t.parentMessageId;n.set("project.replyId",{id:a,parentMessageId:o})}],toggleLike:d.default.LoginRequired([(0,r.set)((0,s.state)(t),c.default.inProgress),[function(e){var t=e.state,n=e.http,a=e.path,o=t.get(["project"]),r=o.like,s=o.projectData.id;return!0===r?n.post("/api/dislike",{itemId:s}).then(a.success).catch(a.error):n.post("/api/like",{type:"project",itemId:s}).then(a.success).catch(a.error)},{success:[(0,r.set)((0,s.state)(t),c.default.succeeded)],error:[(0,r.set)((0,s.state)(t),c.default.failed)]}],function(e){var t,n,a,o,r=e.props,s=e.state,i=r.result;200===r.status&&i&&!0===i.success&&(n=(t=s.get(["project"])).like,a=t.projectData.likeCount,o=!n,s.set(["project","like"],o),!0==o?s.set(["project","projectData","likeCount"],(a||0)+1):s.set(["project","projectData","likeCount"],Math.max(a-1,0)))}]),toggleFollow:d.default.LoginRequired([m(c.default.inProgress),[function(e){var t=e.props,n=e.state,a=e.http,o=e.path,r=t.followeeId,s=t.type,i=void 0===s?"team":s;return!0===n.get("project").followMap[r]?a.post("/api/unfollow",{followeeId:r}).then(o.success).catch(o.error):a.post("/api/follow",{type:i,followeeId:r}).then(o.success).catch(o.error)},{success:[m(c.default.succeeded)],error:[m(c.default.failed)]}],function(e){var t,n,a,o=e.props,r=e.state,s=o.followeeId,i=o.result;200===o.status&&i&&!0===i.success&&(n=(t=r.get("project").followMap)[s],a=l({},t),!0===n?(delete a[s],r.set(["project","followMap"],a)):r.merge(["project","followMap"],h({},s,!0)))}]),mouseOver:[function(e){var t=e.props,n=e.state,a=t.authorId;n.set("project.mouseOver."+a,!0)}],mouseOut:[function(e){var t=e.props,n=e.state,a=t.authorId;n.set("project.mouseOver."+a,!1)}],download:d.default.LoginRequired(function(e){var t=e.props,n=e.state,a=t.id,o=n.get("project.projectData.id");a&&o&&(0,u.default)("/api/p/"+o+"/attachments/"+a)}),getProjects:[function(e){var t=e.state,n=e.path,a=t.get("project.loadMoreStatus");return(0,i.isLoading)(a)?n.no():n.yes()},{yes:[(0,r.set)((0,s.state)(n),c.default.inProgress),[function(e){var t=e.state,n=e.props,a=e.http,o=e.path,r=t.get("project.projects")||[],s=n.userId,i=n.teamId,l={offset:r.length,userId:s,teamId:i};return a.get("/api/u/getProjects",l).then(o.success).catch(o.error)},{success:[(0,r.set)((0,s.state)(n),c.default.succeeded),function(e){var t=e.props,n=e.state,a=t.result;n.concat("project.projects",a.projects),n.set("project.projectsHasMore",a.projectsHasMore)}],error:[(0,r.set)((0,s.state)(n),c.default.failed)]}]],no:[]}],updateProjectPublicStatus:[function(e){var t=e.props,n=e.state,a=t.projectId,o=t.public,r=(n.get("projects")||[]).findIndex(function(e){return e.id===a});0<=r&&n.set(["projects",r,"public"],o)},(0,r.set)((0,s.state)(a),c.default.inProgress),[function(e){var t=e.props,n=e.http,a=e.path,o=t.projectId,r=t.public;return o?n.put("/api/p/"+o+"/public",{public:r}).then(a.success).catch(a.error):a.dummy()},{success:[(0,r.set)((0,s.state)(a),c.default.succeeded)],error:[(0,r.set)((0,s.state)(a),c.default.failed)],dummy:[]}]],updateThumbnail:[(0,r.set)((0,s.state)(o),c.default.inProgress),[function(e){var t=e.state,n=e.props,a=e.http,o=e.path,r=t.get("project.projectData.id"),s=n.result,i=(JSON.parse(s)||{}).id;return a.post("/api/p/"+r+"/thumbnail",{thumbnailId:i}).then(o.success).catch(o.error)},{success:[(0,r.set)((0,s.state)(o),c.default.succeeded),function(e){var t=e.state,n=e.props,a=n.result,o=n.uploadId;t.set("project.thumbnailURL",a),t.set(["project","uploads",o,"status"],c.default.succeeded)}],error:[(0,r.set)((0,s.state)(o),c.default.failed),function(e){var t=e.state,n=e.props.uploadId;t.set(["project","uploads",n,"status"],c.default.succeeded)}]}]]},getServices:function(){},getState:function(){return{replyShow:{},replysShow:{},moreListShow:{},followStatus:{},mouseOver:{},thumbnailURL:""}}}}).call(_,"views/v2/modules/projectV2/DetailStore.js")},function(e,n,a){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},d=t(a(23)),p=t(a(162)),f=t(a(163));function t(e){return e&&e.__esModule?e:{default:e}}var u=["project","textAreaAutocomplete"],h=new RegExp("@"),m=/(\t|\s)/;function _(e,t){return e.fullname<t.fullname?-1:e.fullname>t.fullname?1:0}function g(e,t){var n=function(o,r,e){var s=2<arguments.length&&void 0!==e?e:5;r=r&&r.toLowerCase()||"";var i=new RegExp("^"+p.default.escape(r),"i"),l=[],c=[],u=o.get(["project","mentionUsers"]);return(0,d.default)(u).values().takeWhile(function(e){var t=e.id,n=u[t];if(!n||t===o.get("loginUser").id)return!0;var a=n.fullname.toLowerCase();return i.test(a)?l.push({fullname:a,user:n}):(0,f.default)(r,a)&&c.push({fullname:a,user:n}),l.length<s}).value(),l.sort(_),c.sort(_),l.concat(c.slice(0,Math.max(0,s-l.length))).map(function(e){return e.user})}(e,t),a={},o=[];return n.forEach(function(e){e.fullname in a?o.push(e.fullname):a[e.fullname]=!0}),n.map(function(e){var t,n=e;return-1!==o.indexOf(e.fullname)&&((t=r({},e)).isDup=!0,t.fullnameWithTitle=e.fullname.concat("#",e.title),n=t),n})}n.default={name:e,depends:[],signals:{maybeShowAutocomplete:[function(e){for(var t=e.props,r=e.state,s=t.value,n=t.selectionStart,i=t.selectionEnd,l=r.get(u),c=n;0<=c&&!m.test(s[c]);c--)if(h.test(s[c])){var a=function(){var e=s.slice(c,i);if(l&&l.prefix===e)return{v:void 0};var t,n=new RegExp("^"+p.default.escape(e.slice(1)),"i"),a=void 0,o=void 0;switch(e[0]){case"@":a="mention",(o=g(r,e.slice(1))).length<10&&(t="everyone",n.test(t))&&o.push({content:"everyone"})}return a?(r.set(u,{type:a,query:"",prefix:e,results:o,loading:!1,selectedIndex:0,selectionStart:c,selectionEnd:i}),{v:void 0}):void 0}();if("object"===(void 0===a?"undefined":o(a)))return a.v}l&&r.unset(u)}],textAreaAutocompleteUnset:[function(e){var t=e.state;t.get(u)&&t.unset(u)}],textAreaAutocompleteSelectPrev:[function(e){var t,n,a,o=e.state,r=o.get(u);r&&(t=r.results,n=r.loading,t&&t.length&&!n&&(a=r.selectedIndex,--a<0&&(a=t.length-1),o.set([].concat(u,["selectedIndex"]),a)))}],textAreaAutocompleteSelectNext:[function(e){var t,n,a,o=e.state,r=o.get(u);r&&(t=r.results,n=r.loading,t&&t.length&&!n&&(a=r.selectedIndex,++a>=t.length&&(a=0),o.set([].concat(u,["selectedIndex"]),a)))}],textAreaAutocompleteSelectIndex:[function(e){var t,n,a=e.props,o=e.state,r=a.selectedIndex,s=o.get(u);s&&(t=s.results,n=s.loading,t&&t.length&&!n&&0<=r&&r<t.length&&o.set([].concat(u,["selectedIndex"]),r))}]},getState:function(){return{textAreaAutocomplete:{}}},getMentionUsers:function(e){return e.get(["project","mentionUsers"])}}}).call(n,"views/v2/modules/projectV2/TextAreaAutocompleteStore.js")},function(e,k,E){"use strict";(function(e){Object.defineProperty(k,"__esModule",{value:!0});var b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},t=m(["project.commentsLoaded"],["project.commentsLoaded"]),n=m(["project.loadMoreStatus"],["project.loadMoreStatus"]),a=m(["project.commentStatus"],["project.commentStatus"]),o=m(["project.deleteCommentStatus"],["project.deleteCommentStatus"]),r=m(["project.deleteCommentConfirmId"],["project.deleteCommentConfirmId"]),s=m(["deleteAsAdmin"],["deleteAsAdmin"]),i=m(["id"],["id"]),l=m(["project.deleteCommentAsSysAdmin"],["project.deleteCommentAsSysAdmin"]),c=E(9),u=E(0),y=h(E(79)),g=h(E(34)),d=h(E(7)),p=h(E(51)),f=h(E(31));function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function _(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){var t=e.props,n=e.state,a=e.http,o=e.path,r=t.content,s=t.emojiReaction,i=t.channelId,l=t.nonce,c=t.attachementContent,u=t.unParse;if(!r)return o.dummy();var d=n.get("loginUser"),p=n.get(["project","mentionUsers"]),f=b({},p);delete f[d.id];var h=n.get("project.replyId")||{},m=h.id,_=h.parentMessageId,g=y.default.parse(r,{users:f}).content,v={content:u?r:g,emojiReaction:s,nonce:l,attachementContent:c};return m&&(v.parentMessageId=m,_&&(v.parentMessageId=_,m&&(v.upperMessageId=m))),a.post("/api/channels/"+i+"/messages",v).then(o.success).catch(o.error)}function j(e){var t=e.controller,n=e.props,a=n.cb;t.getSignal("project.syncCommentResult")(n),t.getSignal("project.getSelfMessage")(n),a&&t.getSignal(a)()}k.default={name:e,depends:[],signals:{loadMore:[(0,c.set)((0,u.state)(t),!0),(0,c.set)((0,u.state)(n),d.default.inProgress),[function(e){var t=e.state,n=e.http,a=e.path,o=t.get(["project","comments"]),r=o.hasMore,s=o.currOldestMessageId,i=t.get(["project","channelId"]);return r?n.get("/api/channels/"+i+"/messages",{before:s,limit:5}).then(a.success).catch(a.error):a.dummy()},{success:[(0,c.set)((0,u.state)(n),d.default.succeeded),function(e){var t=e.controller,n=e.props;t.getSignal("project.syncLoadMoreResult")(n)}],error:[(0,c.set)((0,u.state)(n),d.default.failed)],dummy:[]}]],createComment:f.default.LoginRequired([(0,c.set)((0,u.state)(a),d.default.inProgress),function(e){var t,n,a,o,r,s,i,l,c,u,d,p,f=e.state;"webgl"!==f.get("project.projectData").type&&(a=(t=f.get("project.replyId")||{}).parentMessageId,(n=t.id)&&(r=(o=f.get("project.comments")).items,s=o.parents,i=o.uppers,l=f.get("project.hottestComments").items,a?i.findIndex(function(e){return e.id===n})<0&&(c=r.findIndex(function(e){return e.id===n}),u=l.findIndex(function(e){return e.id===n}),-1<c?f.set("project.comments.uppers",[].concat(_(i),[r[c]])):-1<u&&f.set("project.comments.uppers",[].concat(_(i),[l[u]]))):s.findIndex(function(e){return e.id===n})<0&&(d=r.findIndex(function(e){return e.id===n}),p=l.findIndex(function(e){return e.id===n}),-1<d?f.set("project.comments.parents",[].concat(_(s),[r[d]])):-1<p&&f.set("project.comments.parents",[].concat(_(s),[l[p]])))))},function(e){var t=e.props,n=e.state,a=g.default.createNonce(),o=t.content,r=t.channelId,s=t.id,i=!!t.attachementContent,l=n.get("loginUser"),c=n.get(["project","mentionUsers"]),u=n.get("project.replyId")||{},d=u.id,p=u.parentMessageId,f=n.get("project.edit"),h=b({},c);delete h[l.id];var m=y.default.parse(o,{users:h}).content,_={nonce:a,type:"normal",channelId:r,author:{id:l.id,fullname:l.name,title:l.title,jobRoleIds:l.jobRoleIds,isStaff:f,avatar:l.avatar,presenceStatus:l.presenceStatus},content:m,attachments:[],mentionEveryone:!1,mentions:[],state:"SENDING",skip:i};return d&&(_.parentMessageId=d,p&&(_.parentMessageId=p,d&&(_.upperMessageId=d))),n.unshift("project.comments.items",_),n.merge("project.inputValues",v({},s,"")),{nonce:a}},[w,{success:[(0,c.set)((0,u.state)(a),d.default.succeeded),j],error:[(0,c.set)((0,u.state)(a),d.default.failed)],dummy:[]}]]),createCommentInMultiProject:f.default.LoginRequired([(0,c.set)((0,u.state)(a),d.default.inProgress),function(e){var t=e.props,n=e.state,a=g.default.createNonce(),o=t.content,r=t.projectId,s=t.id,i=!!t.attachementContent,l=n.get("loginUser"),c=n.get(["project","mentionUsers"]),u=n.get("project.edit"),d=b({},c);delete d[l.id];var p=y.default.parse(o,{users:d}).content,f={id:l.id,fullname:l.name,title:l.title,jobRoleIds:l.jobRoleIds,isStaff:u,avatar:l.avatar,presenceStatus:l.presenceStatus},h=n.get(["profile","projectMap",r]).channelId,m={nonce:a,type:"normal",channelId:h,author:f,content:p,attachments:[],mentionEveryone:!1,mentions:[],state:"SENDING",skip:i};return n.unshift(["profile","projectCommentMap",r,"items"],m),n.merge("project.inputValues",v({},s,"")),{nonce:a,channelId:h}},[w,{success:[(0,c.set)((0,u.state)(a),d.default.succeeded),j],error:[(0,c.set)((0,u.state)(a),d.default.failed)],dummy:[]}]]),deleteComment:[(0,c.set)((0,u.state)(o),d.default.inProgress),[function(e){var t=e.state,n=e.http,a=e.path,o=t.get("project.deleteCommentConfirmId"),r=t.get("project.deleteCommentAsSysAdmin");return o?r?n.post("/api/messages/"+o+"/adminDelete").then(a.success).catch(a.error):n.post("/api/messages/"+o+"/delete").then(a.success).catch(a.error):a.error()},{success:[(0,c.set)((0,u.state)(o),d.default.succeeded),function(e){var t=e.controller,n=e.props;t.getSignal("project.syncDeleteCommentResult")(n)},(0,c.set)((0,u.state)(r),"")],error:[(0,c.set)((0,u.state)(o),d.default.failed)]}]],syncCommentResult:[function(e){var t,n,a,o,r,s,i,l,c=e.props,u=e.state,d=c.result,p=c.status,f=c.channelId,h=c.projectId;200===p&&d&&(t=u.get(["project","channelId"]),n=d.content,a=d.author.id,o=d.channelId,r=d.nonce,t===o?0<=(s=u.get(["project","comments"]).items.findIndex(function(e){return e.author.id===a&&e.content===n&&r===e.nonce}))&&(u.splice(["project","comments","items"],s,1,d),i=u.get(["project","projectData"]).commentCount,u.set(["project","projectData","commentCount"],i+1)):f!==o||""===h||0<=(l=u.get(["profile","projectCommentMap",h]).items.findIndex(function(e){return e.author.id===a&&r===e.nonce}))&&(u.splice(["profile","projectCommentMap",h,"items"],l,1,d),u.set(["profile","commentUpdated"],d.nonce)))}],createCommentWithEmoji:[function(e){var t,n,a=e.props,o=e.state,r=e.controller,s=a.content,i=a.emoji,l=a.channelId,c=a.nonce,u=a.attachementContent,d=a.unParse;r.getSignal("project.createComment")({content:s,emojiReaction:i,channelId:l,attachementContent:u,nonce:c,unParse:d}),i&&o.get("currentUserId")&&(t=o.get(["project","projectData"]).reactionCount,n=o.get(["project","projectData"]).reactionsUsed,o.set(["project","projectData","reactionCount"],(t||0)+1),(n=n||[])[i]=(n[i]||0)+1,o.set(["project","projectData","reactionsUsed"],n))}],syncDeleteCommentResult:[function(e){var t=e.props,s=e.state,i=t.result;i&&i.id&&s.get(["project","comments"]).items.forEach(function(e,t){var n,a,o,r;e.id===i.id&&(s.splice(["project","comments","items"],t,1),a=(n=s.get(["project","projectData"])).commentCount,o=n.reactionsUsed,r=n.reactionCount,s.set(["project","projectData","commentCount"],Math.max(a-1,0)),e.emojiReaction&&(--o[e.emojiReaction],o[e.emojiReaction]<=0&&delete o[e.emojiReaction],s.set(["project","projectData","reactionsUsed"],o),s.set(["project","projectData","reactionCount"],r-1)))})}],syncLoadMoreResult:[function(e){var t,n,a,o,r,s,i,l,c,u,d,p=e.props,f=e.state,h=p.result;200===p.status&&h&&(t=f.get(["project","comments"]),n=h.items,a=h.hasMore,o=h.parents,r=h.uppers,s=t.items.map(function(e){return e.id}),i=t.parents.map(function(e){return e.id}),l=t.uppers.map(function(e){return e.id}),c=n.filter(function(e){return s.lastIndexOf(e.id)<0}),u=o.filter(function(e){return i.lastIndexOf(e.id)<0}),d=r.filter(function(e){return l.lastIndexOf(e.id)<0}),f.set(["project","comments"],{items:[].concat(_(t.items),_(c)),hasMore:a,currOldestMessageId:c[c.length-1].id,parents:[].concat(_(t.parents),_(u)),uppers:[].concat(_(t.uppers),_(d))}))}],changeInputValue:[function(e){var t=e.props,n=e.state,a=t.id,o=t.value;n.merge("project.inputValues",v({},a,o))}],toggleChannelReadonly:[[function(e){var t=e.props,n=e.http,a=e.path,o=t.channelId,r=t.value?"/api/channels/"+o+"/makeReadonly":"/api/channels/"+o+"/cancelReadonly";return n.post(r).then(a.success).catch(a.error)},{success:[function(e){var t=e.state,n=e.props,a=n.result;200===n.status&&a&&t.set("project.isChannelReadonly",a.readonly)}],error:[]}]],openDeleteCommentConfirmDialog:[(0,c.when)((0,u.props)(s),function(e){return e}),{true:[p.default.TfaRequired([(0,c.set)((0,u.state)(o),d.default.initial),(0,c.set)((0,u.state)(r),(0,u.props)(i)),(0,c.set)((0,u.state)(l),!0)])],false:[(0,c.set)((0,u.state)(o),d.default.initial),(0,c.set)((0,u.state)(r),(0,u.props)(i)),(0,c.set)((0,u.state)(l),!1)]}],closeDeleteCommentConfirmDialog:[(0,c.set)((0,u.state)(r),"")]},getState:function(){return{commentsLoaded:!1,comments:{},inputValues:{},deleteCommentConfirmId:"",deleteCommentIsSysAdmin:!1}},getComments:function(e){return e.get(["project","comments"])}}}).call(k,"views/v2/modules/projectV2/CommentStore.js")},function(e,v,b){"use strict";(function(e){Object.defineProperty(v,"__esModule",{value:!0});var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},t=c(["project.commentsLoaded"],["project.commentsLoaded"]),n=c(["project.loadMoreStatus"],["project.loadMoreStatus"]),a=c(["project.reactionsLoaded"],["project.reactionsLoaded"]),o=c(["project.loadMoreReactionsStatus"],["project.loadMoreReactionsStatus"]),r=b(9),s=b(0),f=l(b(79)),i=l(b(7));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function h(e){var t=e.state,n=e.http,a=e.path,o=t.get("project.projectData").type,r=t.get("pageType")||{};if("webgl"!==o||"detail"===r.pageType)return a.dummy();var s=t.get(["project","channelId"]);return n.get("/api/channels/"+s+"/messagesV2/self").then(a.success).catch(a.dummy)}function m(e){var t,n,a,o,r,s=e.props,i=e.state,l=s.result,c=s.status,u=s.loading;200===c&&l&&(t=i.get(["project","comments"]),n=l.items,a=l.hasMore,o=t.items.map(function(e){return e.id}),r=n.filter(function(e){return o.lastIndexOf(e.id)<0}),u?i.set(["project","comments"],{items:[].concat(d(t.items),d(r)),hasMore:a,currOldestMessageId:r[r.length-1].id}):i.set(["project","comments"],{items:[].concat(d(r),d(t.items)),hasMore:t.hasMore,currOldestMessageId:t.currOldestMessageId}))}function _(e){var t,n,a,o,r,s=e.props,i=e.state,l=s.result;200!==s.status||!l||(t=l.items)&&(n=i.get(["project","comments"]),a=n.items.map(function(e){return e.id}),o=n.items.map(function(e){return e.id===t[0].id?t[0]:e}),r=t.filter(function(e){return a.lastIndexOf(e.id)<0}),i.set(["project","selfComments"],{items:t}),i.set("project.comments.items",[].concat(d(r),d(o))))}function g(e){var t=e.state,n=e.props,a=n.id,o=n.value;t.merge("project.commentEditing",u({},a,o))}v.default={name:e,depends:[],signals:{INITIAL_DATA:[h,{success:[_],dummy:[]}],webglLoadMore:[(0,r.set)((0,s.state)(t),!0),(0,r.set)((0,s.state)(n),i.default.inProgress),[function(e){var t=e.state,n=e.http,a=e.path,o=t.get(["project","comments"]),r=o.hasMore,s=o.currOldestMessageId,i=t.get(["project","channelId"]);return r?n.get("/api/channels/"+i+"/messagesV2",{before:s,limit:5,includeReply:!1}).then(a.success).catch(a.error):a.dummy()},{success:[(0,r.set)((0,s.state)(n),i.default.succeeded),m],error:[(0,r.set)((0,s.state)(n),i.default.failed)],dummy:[]}]],webglLoadMoreReactions:[(0,r.set)((0,s.state)(a),!0),(0,r.set)((0,s.state)(o),i.default.inProgress),[function(e){var t=e.state,n=e.http,a=e.path,o=t.get(["project","reactions"])||{},r=o.hasMore,s=o.currOldestMessageId,i=t.get(["project","channelId"]);return!1!==r?n.get("/api/channels/"+i+"/messages/reactions",{before:s,limit:20}).then(a.success).catch(a.error):a.dummy()},{success:[(0,r.set)((0,s.state)(o),i.default.succeeded),function(e){var t,n,a,o,r,s=e.props,i=e.state,l=s.result,c=s.status,u=s.loading;200===c&&l&&(t=i.get(["project","reactions"]),n=t&&t.items||[],a=l.items,o=l.hasMore,r=[],r=a.filter(function(e){return n.map(function(e){return e.id}).lastIndexOf(e.id)<0}),u?i.set(["project","reactions"],{items:[].concat(d(n),d(r)),hasMore:o,currOldestMessageId:r[r.length-1].id}):i.set(["project","reactions"],{items:[].concat(d(r),d(n)),hasMore:t.hasMore||!0,currOldestMessageId:t.currOldestMessageId}))}],error:[(0,r.set)((0,s.state)(o),i.default.failed)],dummy:[(0,r.set)((0,s.state)(o),i.default.succeeded)]}]],getSelfMessage:[h,{success:[_],dummy:[]}],loadMoreChild:[(0,r.set)((0,s.state)(n),i.default.inProgress),[function(e){var t=e.state,n=e.http,a=e.path,o=e.props.messageIds,r=t.get(["project","channelId"]);return n.get("/api/channels/"+r+"/messagesV2/child",{messageIds:o}).then(a.success).catch(a.error)},{success:[(0,r.set)((0,s.state)(n),i.default.succeeded),m],error:[(0,r.set)((0,s.state)(n),i.default.failed)]}]],updateEditing:[g],sendEditComment:[function(e){var t=e.props,n=e.state,a=e.http,o=e.path,r=t.message,s=t.id,i=t.newContent,l=n.get(["project","mentionUsers"]),c=n.get("loginUser"),u=p({},l);delete u[c.id];var d=f.default.parse(i,{users:u});return r.content=d.content,a.post("/api/messages/"+s,r).then(o.success).catch(o.error)},{success:[g,function(e){var t=e.props,n=e.state,a=t.message,o=t.id,r=n.get("project.comments").items,s=r.findIndex(function(e){return e.id===o});r[s]=a,n.set("project.comments.items",r)}],error:[]}],changeCommentValue:[function(e){var t=e.props,n=e.state,a=t.id,o=t.value;n.merge("project.commentValue",u({},a,o))}]},getState:function(){return{commentEditing:{},commentValue:{}}}}}).call(v,"views/v2/modules/projectV2/WebglCommentStore.js")},function(e,C,S){"use strict";(function(e){Object.defineProperty(C,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},t=b(["project.activeId"],["project.activeId"]),n=b(["projectId"],["projectId"]),a=b(["project.getProjectStatus"],["project.getProjectStatus"]),o=b(["project.projectIds"],["project.projectIds"]),r=b(["projectIds"],["projectIds"]),s=b(["project.activeContentId"],["project.activeContentId"]),i=S(9),l=S(0),u=v(S(169)),d=v(S(170)),p=v(S(171)),f=v(S(7)),h=v(S(19)),m=S(26),_=v(S(31)),g=v(S(43));function v(e){return e&&e.__esModule?e:{default:e}}function b(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var y=!1,w=[];function j(e){var t,n,a=e.props,o=e.project,r=a.projectId,s=a.options;(void 0===s?{}:s).isPOP||(t=window.location,n=c({},t),r&&(w.push(n),n={pathname:"p/"+r}),o.syncToHistory(n))}function k(e){var t=e.props,n=e.http,a=e.path,o=t.projectId;return n.get("/api/p/"+o,{view:"true"}).then(a.success).catch(a.error)}function E(e){var t=e.props;e.controller.getSignal("project.setActiveProject")(t)}C.default={name:e,depends:[],signals:{openProject:[function(e){var t=e.props,n=e.path,a=t.onlyDraft;return void 0!==a&&a?n.yes():n.no()},{yes:[function(e){var t,n=e.props;(0,m.isTouch)()||(t=n.projectId,(0,h.default)("/p/"+t+"/edit"))}],no:[function(e){var t=e.props,n=e.path;return"webgl"===t.type?n.yes():n.no()},{yes:[function(e){var t=e.props,n=t.projectId,a=t.from;a?(0,h.default)("/p/"+n+"?from="+a):(0,h.default)("/p/"+n)}],no:[(0,i.set)((0,l.state)(t),(0,l.props)(n)),(0,i.set)((0,l.state)(a),f.default.inProgress),j,[k,{success:[(0,i.set)((0,l.state)(a),f.default.succeeded),E],error:[(0,i.set)((0,l.state)(a),f.default.failed)]}]]}]}],closeProject:[(0,i.unset)((0,l.state)(t)),function(e){e.project.backToHistory()}],setProjectIds:[(0,i.set)((0,l.state)(o),(0,l.props)(r))],moveToProject:[function(e){var t=e.props,n=e.state,a=e.path,o=t.step,r=n.get("project"),s=r.activeId,i=r.projectIds,l=i.findIndex(function(e){return e===s})+o;return 0<=l&&l<i.length?a.open({projectId:i[l]}):a.dummy()},{open:[(0,i.set)((0,l.state)(t),(0,l.props)(n)),(0,i.set)((0,l.state)(a),f.default.inProgress),function(e){var t,n=e.props,a=e.project,o=n.projectId;o&&(t="p/"+o,a.replaceToHistory({pathname:t}))},[k,{success:[(0,i.set)((0,l.state)(a),f.default.succeeded),E],error:[(0,i.set)((0,l.state)(a),f.default.failed)]}]],dummy:[]}],syncToLocation:[j],syncFromLocation:[function(e){var t,n,a=e.props,o=e.state,r=e.controller,s=a.pathname,i=s&&s.trim().split("/");i&&0<i.length?(t=i[0],n=i[1],"p"===t&&n?r.getSignal("project.openProject")({projectId:n,options:{isPOP:!0}}):window.location.reload()):o.unset(["project","activeId"])}],setActiveProject:[function(e){var t=e.props,n=e.state,a=e.controller,o=e.path,r=t.result;if(200===t.status&&r){var s=r.project,i=r.relationship,l=(s||{}).projectData;if(i&&n.set("connection.relationship",i),l)return n.merge("project",c({},s,{currentIndex:0})),o.success();return a.getSignal("header.showMessage")({message:"project_hidden_or_removed"}),o.error()}return o.dummy()},{success:[],error:[(0,i.set)((0,l.state)(a),f.default.failed)],dummy:[]}],openContent:[function(e){var t=e.state,n=e.props,a=n.contentId,o=n.url,r=void 0===o?"":o;r?(0,g.default)(r,"_blank"):t.set("project.activeContentId",a)}],closeContent:[(0,i.unset)((0,l.state)(s))],setContentIds:[function(e){var t=e.props,n=e.state,a=t.contentIds,o=n.get("project").contentMap,r=a&&a.filter(function(e){return o&&o[e]&&"img"===o[e].type});r&&0<r.length&&n.set(["project","contentIds"],r)}],moveToContent:[function(e){var t=e.props,n=e.state,a=t.step,o=n.get("project"),r=o.activeContentId,s=o.contentIds,i=s.findIndex(function(e){return e===r})+a;0<=i&&i<s.length&&n.set(["project","activeContentId"],s[i])}],openWebGL:[function(e){var t,n,a,o=e.props,r=e.state,s=o.id;r.merge("project.openWebGL",(a=!0,(n=s)in(t={})?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t))}],closeWebGL:[function(e){var t=e.props,n=e.state,a=t.id;n.set("project.openWebGL."+a,!1)}],addLike:_.default.LoginRequired([function(e){var t=e.props,n=e.state,a=e.http,o=e.path,r=n.get("loginUser"),s=t.like,i=t.userId,l=t.itemId,c=r.id;return!0!==s&&c!==i?a.post("/api/like",{type:"project",itemId:l}).then(o.success).catch(o.error):o.success()},{success:[function(e){var t=e.props,n=e.controller,a=t.slug;n.getSignal("project.openProject")({projectId:a})}],error:[]}])},getServices:function(a){var t=(0,d.default)((0,p.default)(u.default))({basename:"/"});function n(e){t.replace(e)}return t.listen(function(e){var t=e.action,n=e.pathname;y&&"POP"===t&&a.getSignal("project.syncFromLocation")({pathname:n})}),y=!0,{syncToHistory:function(e){t.push(e)},replaceToHistory:n,backToHistory:function(){var e=w.pop();e&&n({pathname:e.pathname,search:e.search})}}},getState:function(){return{activeId:"",projectIds:[],activeContentId:"",contentIds:[],openWebGL:{},projectData:{}}}}}).call(C,"views/v2/modules/projectV2/BrowseStore.js")},function(e,a,t){"use strict";(function(e){function t(e){var t=e.state,n=e.http,a=e.path,o=t.get("project.projectData"),r=o.id;return"webgl"===o.type?n.get("/api/webgl/pkg",{projectID:r}).then(a.success).catch(a.error):a.dummy()}function n(e){var t=e.state,n=e.props.result;t.set("project.webglPKG",n)}Object.defineProperty(a,"__esModule",{value:!0}),a.default={name:e,depends:[],signals:{INITIAL_DATA:[t,{success:[n],error:[],dummy:[]}],getWebglPKG:[t,{success:[n],error:[],dummy:[]}]},getState:function(){return{webglPKG:{}}}}}).call(a,"views/v2/modules/projectV2/WebglPKGStore.js")},function(e,c,u){"use strict";(function(e){Object.defineProperty(c,"__esModule",{value:!0});var t,n=l(["project.submitWebglDialog.show"],["project.submitWebglDialog.show"]),a=l(["project.submitWebglDialog.updateStatus"],["project.submitWebglDialog.updateStatus"]),o=u(9),r=u(0),s=u(7),i=(t=s)&&t.__esModule?t:{default:t};function l(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}c.default={name:e,depends:[],signals:{openSubmitWebglDialog:[(0,o.set)((0,r.state)(n),!0),(0,o.set)((0,r.state)(a),i.default.initial)],closeSubmitWebglDialog:[(0,o.set)((0,r.state)(n),!1)],submitProjectToChallenge:[(0,o.set)((0,r.state)(a),i.default.inProgress),[function(e){var t=e.state,n=e.http,a=e.path,o=(t.get("project.projectData")||{}).id,r=(t.get("project.globalChallenge")||{}).id;return n.post("/api/p/"+o+"/submitToChallenge",{challengeId:r}).then(a.success).catch(a.error)},{success:[(0,o.set)((0,r.state)(a),i.default.succeeded),function(e){var t=e.state,n=e.controller,a=(t.get("project.globalChallenge")||{}).id;t.set("project.projectData.challengeId",a),n.getSignal("project.getUnlockedAssets")()},(0,o.set)((0,r.state)(n),!1)],error:[(0,o.set)((0,r.state)(n),!1),(0,o.set)((0,r.state)(a),i.default.failed),function(e){var t=e.state,n=e.props.result,a=n.errorCode,o=n.message,r=n.target;"ReSubmitChallengeError"===a?(t.set("project.submitDuplicated.projectId",r),t.set("project.submitDuplicated.show",!0)):alert(o)}]}]]},getState:function(){return{submitWebglDialog:{show:!1}}}}}).call(c,"views/v2/modules/projectV2/SubmitWebglStore.js")},function(e,o,r){"use strict";(function(e){Object.defineProperty(o,"__esModule",{value:!0});var t=Object.freeze(Object.defineProperties(["project.submitDuplicated.show"],{raw:{value:Object.freeze(["project.submitDuplicated.show"])}})),n=r(9),a=r(0);o.default={name:e,depends:[],signals:{closeSubmitDuplicated:[(0,n.set)((0,a.state)(t),!1)]},getState:function(){return{submitDuplicated:{show:!1,projectId:""}}}}}).call(o,"views/v2/modules/projectV2/SubmitDuplicatedStore.js")},function(e,a,o){"use strict";(function(e){Object.defineProperty(a,"__esModule",{value:!0});var t,n=o(493);var r=new((t=n)&&t.__esModule?t:{default:t}).default,s="close_popup_learn";a.default={name:e,depends:[],signals:{hidePopupLearn:[function(e){var t=e.state,n=t.get("currentUserId"),a=s+"_"+n;t.set("project.popupLearnShow",!1),r.setItem(a,!0)}],initData:[function(e){var t,n,a=e.state,o=a.get("currentUserId");a.get("project.edit")?(t=s+"_"+o,n=r.getItem(t),a.set("project.popupLearnShow",void 0===n)):a.set("project.popupLearnShow",!1)}]},getServices:function(){},getState:function(){return{popupLearnShow:!1}}}}).call(a,"views/v2/modules/projectV2/PopupLearnStore.js")},function(e,s,i){"use strict";(function(e){Object.defineProperty(s,"__esModule",{value:!0});var t,n=i(15),o=(t=n)&&t.__esModule?t:{default:t};function a(e){var t,n=e.state,a=e.http,o=e.path,r=n.get("currentUserId"),s=n.get("project.projectData"),i=s.id,l=s.type,c=s.userId;return!i&&n.get("challenge.userProject")&&(i=(t=n.get("challenge.userProject")).id,l=t.type,c=t.userId),"webgl"===l&&i&&c===r?a.get("/api/p/"+i+"/unlockedAssets").then(o.success).catch(o.error):o.dummy()}function r(e){var t,a=e.state,n=e.props.result||[];n&&0!==n.length&&(a.set("project.unlockedAsset.all",n),t=n[0].assetType,a.set("project.unlockedAsset.type",t),n.forEach(function(n){(function(e){switch(e){case"FPS":return[{id:o.default.ASSET_UNLOCK_FPS_FIRST},{id:o.default.ASSET_UNLOCK_FPS_SECOND},{id:o.default.ASSET_UNLOCK_FPS_THIRD}];case"Karting":return[{id:o.default.ASSET_UNLOCK_KARTING_FIRST},{id:o.default.ASSET_UNLOCK_KARTING_SECOND},{id:o.default.ASSET_UNLOCK_KARTING_THIRD}];case"LEGO":return[{id:o.default.ASSET_UNLOCK_LEGO_FIRST},{id:o.default.ASSET_UNLOCK_LEGO_SECOND},{id:o.default.ASSET_UNLOCK_LEGO_THIRD}];default:return[]}})(t).forEach(function(e,t){return e.id===n.assetId&&(a.set("project.unlockedAsset.asset.unlocked."+e.id,!0),!1===n.confirmed&&(a.set("project.unlockedAsset.modalIsOpen",!0),a.set("project.unlockedAsset.asset.index",t),a.set("project.unlockedAsset.asset.textIndex",t))),e})}))}s.default={name:e,depends:[],signals:{INITIAL_DATA:[a,{success:[r],dummy:[]}],closeModal:[function(e){e.state.set("project.unlockedAsset.modalIsOpen",!1)}],getUnlockedAssets:[a,{success:[r],dummy:[]}]},getState:function(){return{unlockedAsset:{all:[],type:null,modalIsOpen:!1,asset:{index:null,textIndex:null,unlocked:!1}}}}}}).call(s,"views/v2/modules/projectV2/UnlockedAssetsStore.js")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(262);var r=[((a=o)&&a.__esModule?a:{default:a}).default];t.default={report:r}},function(e,m,_){"use strict";(function(e){Object.defineProperty(m,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},t=u(["report.processStatus"],["report.processStatus"]),n=u(["report.status"],["report.status"]),a=_(9),o=_(0),c=_(21),r=l(_(7)),s=l(_(31));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function d(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var p=["report","reportForm"];function f(n){return[function(e){var t=e.props;return{field:[].concat(p,[n]),value:t.value,touched:!0}}].concat(d(c.chains.fieldChanged),[(0,a.set)((0,o.state)(t),r.default.initial)])}function h(){return[function(){return{fieldPath:[].concat(p,["inputReasons"]),fieldDetails:{value:""}}},c.chains.addField]}m.default={name:e,depends:[],signals:{changeType:[].concat(d(f("type")),[function(e){var t=e.state,n=e.path;return"other"!==t.get([].concat(p,["type","value"]))?(t.set("report.reportForm.inputReasons.value",""),n.no()):n.yes()},{yes:[function(){return{fieldPath:[].concat(p,["inputReasons"]),fieldDetails:{value:"",validations:["isValue","minLength:10","maxLength:80"],errorMessages:["error_isRequired","error_minLength10","error_maxLength80"],isRequired:!0}}},c.chains.addField],no:h()}]),changeInputReasons:f("inputReasons"),submitReport:[].concat(d(c.chains.formValidated),[function(e){var t=e.state,n=e.path,a=t.get(p);return(0,c.isValidForm)(a)?n.yes():n.no()},{yes:[(0,a.set)((0,o.state)(t),r.default.inProgress),[function(e){var t=e.state,n=e.http,a=e.path,o=t.get(p),r=t.get("report"),s=r.itemId,i=r.itemType;if((0,c.isValidForm)(o)){var l={itemId:s,itemType:i,reasons:["other"!==o.type.value?o.type.value:"other:"+o.inputReasons.value]};return n.post("/api/report",l).then(a.success).catch(a.error)}return a.dummy()},{success:[(0,a.set)((0,o.state)(t),r.default.succeeded),(0,a.set)((0,o.state)(n),!1)],error:[(0,a.set)((0,o.state)(t),r.default.failed)],dummy:[]}]],no:[(0,a.set)((0,o.state)(t),r.default.failed)]}]),open:s.default.LoginRequired(function(e){var t=e.props,n=e.state,a=t.itemId,o=t.itemType,r=t.reportTitle,s=n.get("report");n.set("report",i({},s,{status:!0,itemId:a,reportTitle:r,itemType:o}))}),close:[function(e){e.state.set("report.status",!1)}].concat(d(c.chains.reset),d(h()))},getServices:function(){return{}},getState:function(){return{itemId:null,itemType:null,status:!1,reportForm:(0,c.Form)({type:{value:"spam"},inputReasons:{value:""}})}}}}).call(m,"views/v2/modules/report/ReportStore.js")},,,,,,,function(e,t){e.exports={container:"container_1jacuxI3"}},function(e,t){e.exports={label_name:"label_name_1z_z",admin:"admin_2r83",moderator:"moderator_moeW",staff:"staff_-63S"}},function(e,t){e.exports={statusBar:"statusBar_284yD1_g",searchInProgress:"searchInProgress_glYpjHcR",more:"more_2AyTuBWo",loading:"loading_P46rnZ1H",livehelp:"livehelp_2Ug3Q1nu","loading-text":"loading-text_1BybrYfj",post:"post_rvDOd4-O",flex:"flex_25UUnuqF"}},function(e,t){e.exports={more:"more_3Uxl",view_more:"view_more_1Qkl",loading_text:"loading_text_2i6A"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o,d=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,o=!1,r=void 0;try{for(var s,i=e[Symbol.iterator]();!(a=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);a=!0);}catch(e){o=!0,r=e}finally{try{!a&&i.return&&i.return()}finally{if(o)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e};function s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var i=C(["header.popoutsTicks"],["header.popoutsTicks"]),l=C(["header.popouts"],["header.popouts"]),c=w(n(2)),u=w(n(1)),p=w(n(3)),f=n(18),h=n(5),m=n(0),_=n(24),g=w(n(23)),v=w(n(150)),b=w(n(4)),y=w(n(274));function w(e){return e&&e.__esModule?e:{default:e}}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function C(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var S=_.presets.noWobble,O=["top","right","bottom","left"],N=["0","-1","1"],P=(0,h.decorator)({popoutsTicks:(0,m.state)(i)})(a=(0,b.default)(y.default)((E(T,p.default),r(T,[{key:"componentWillMount",value:function(){var e=v.default.get(this.props.popout.popoutElementId);"function"==typeof e&&(e=e(this.props.popout.id)),this.setState({popoutElement:e,popoutStyle:{}})}},{key:"componentDidMount",value:function(){var t=this;this._handleClick=function(e){return t.handleClick(e)},window.addEventListener("click",this._handleClick,!0),this.updatePosition()}},{key:"componentWillReceiveProps",value:function(){var e=v.default.get(this.props.popout.popoutElementId);"function"==typeof e&&(e=e(this.props.popout.id)),this.setState({popoutElement:e})}},{key:"componentDidUpdate",value:function(e){this.props!==e&&this.updatePosition()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this._handleClick,!0)}},{key:"getPosParam",value:function(e){var t=e.width,n=e.height,a=[[t/2,0,-50,-100,0,-1],[t,0,-100,-100,0,-1],[0,0,0,-100,0,-1],[t,n/2,0,-50,1,0],[t,n,0,-100,1,0],[t,0,0,0,1,0],[t/2,n,-50,0,0,1],[0,n,0,0,0,1],[t,n,-100,0,0,1],[0,n/2,-100,-50,-1,0],[0,0,-100,0,-1,0],[0,n,-100,-100,-1,0]],o=this.props.popout,r=O.findIndex(function(e){return e===o.pos}),s=N.findIndex(function(e){return e===o.align});return a[r*N.length+s]}},{key:"updatePosition",value:function(){var e=this.props,t=e.popout,n=e.progress,a=this.getPosParam({width:t.targetWidth,height:t.targetHeight}),o=d(a,4),r=o[0],s=o[1],i=o[2],l=o[3],c=a[4],u=a[5];r+=t.left,s+=t.top,i+=n/100*5*c,l+=n/100*5*u,this.setState({popoutStyle:{left:r,top:s,transform:"translate3d("+i+"%, "+l+"%, 0)"}})}},{key:"handleClick",value:function(e){var t=this;(0,f.ClickOutside)(e,this.refs.popout,function(){t.popoutClose()})}},{key:"popoutClose",value:function(){var e=this.props,t=e.popout;e.signals.header.popoutClose({id:t.id})}},{key:"render",value:function(){var e=this.props.popout,t=this.state,n=t.popoutElement,a=t.popoutStyle;return n?u.default.createElement("div",{ref:"popout",className:this.ss("popout"),style:a},u.default.cloneElement(n,{popoutId:e.id})):null}}]),T.propTypes={popout:c.default.object.isRequired,progress:c.default.number.isRequired,signals:c.default.object.isRequired},a=T))||a)||a;function T(){return j(this,T),k(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}var M=(0,h.decorator)({popouts:(0,m.state)(l)})(o=(0,b.default)(y.default)((E(x,p.default),r(x,[{key:"willEnter",value:function(){return{progress:100}}},{key:"render",value:function(){var t=this,e=this.props.popouts,n=g.default.map(e,function(e){return{key:e.id,style:{progress:(0,_.spring)(0,S)},data:e}});return u.default.createElement(_.TransitionMotion,{styles:n,willEnter:this.willEnter},function(e){return u.default.createElement("div",{className:t.ss("popouts")},e.map(function(e){var t=e.style,n=e.data;return u.default.createElement(P,{key:n.id,popout:n,progress:t.progress})}))})}}]),x.propTypes={popouts:c.default.object.isRequired},o=x))||o)||o;function x(){return j(this,x),k(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}t.default=M},function(e,t){e.exports={popouts:"popouts_13qiuyRV",popout:"popout_3pgNn4Cr"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=T(["notification.status"],["notification.status"]),i=T(["notification.firstLoad"],["notification.firstLoad"]),l=T(["notification.page"],["notification.page"]),u=T(["notification.pageTotal"],["notification.pageTotal"]),d=T(["notification.results"],["notification.results"]),p=T(["notification.processStatus"],["notification.processStatus"]),f=T(["currentHost"],["currentHost"]),h=T(["notification.setRead"],["notification.setRead"]),m=P(n(2)),_=P(n(1)),g=n(5),v=n(0),b=n(24),y=P(n(3)),w=n(7),j=P(n(4)),k=P(n(276)),E=n(6),C=P(E),S=P(n(277)),O=P(n(120)),N=P(n(121));function P(e){return e&&e.__esModule?e:{default:e}}function T(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var M=b.presets.noWobble,x=(0,g.decorator)({status:(0,v.state)(s),firstLoad:(0,v.state)(i),page:(0,v.state)(l),pageTotal:(0,v.state)(u),results:(0,v.state)(d),processStatus:(0,v.state)(p),currentHost:(0,v.state)(f),setRead:(0,v.signal)(h)})(a=(0,j.default)(k.default)(a=(0,C.default)(S.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(R,y.default),o(R,[{key:"onNotificationItemClick",value:function(e,t,n,a){if(""===n)return this.props.setRead({id:t}),void e.stopPropagation();n+=(-1<n.indexOf("?")?"&":"?")+"_nid="+t,"proposal_approved"!==a&&"invitation_accepted"!==a||(n+="#messages"),window.location.href=n}},{key:"isEnd",value:function(){var e=this.props,t=e.page;return e.pageTotal<=t}},{key:"notificationsTranslate",value:function(e){var i=this,l=[];return this.props.currentHost,!e||e.length<=0||e.forEach(function(e){var t=e.type,n=c({},e.data),a=n.role,o=n.isAdmin,r=(0,N.default)(t,a,n);n&&n.questionType&&(n.questionType=(0,E.i18n)(i.context,O.default,n.questionType));var s=(0,E.i18n)(i.context,O.default,t+"_"+a+(o?"_admin":"")+"_text",n);l.push({id:e.id,read:e.read,type:e.type,href:r,text:s,createdTime:e.createdTime})}),l}},{key:"prepareList",value:function(e){var a=this,o=[{index:0,exp:function(e){var t=a.moment(e).hours(0).minutes(0).seconds(0);return a.moment().hours(0).minutes(0).seconds(0).diff(t,"days")<=0},text:"",items:[]},{index:1,exp:function(e){var t=a.moment(e).hours(0).minutes(0).seconds(0);return 1===a.moment().hours(0).minutes(0).seconds(0).diff(t,"days")},text:"time_yesterday",items:[]},{index:2,exp:function(){return!0},text:"time_more",items:[]}];this.notificationsTranslate(e).forEach(function(e){for(var t=0;t<o.length;t++){var n=o[t];if(n.exp(e.createdTime)){n.items.push(a.renderItem(e,0===n.items.length&&0!==t?n.text:void 0));break}}});var n=[];return o.forEach(function(e,t){0<e.items.length?n=n.concat(e.items):0===t&&n.push(a.renderEmptyItem())}),n}},{key:"renderList",value:function(){var e=this.props,t=e.results,n=void 0===t?[]:t,a=e.firstLoad,o=[];return 0<n.length&&(o=this.prepareList(n)),o.push(this.renderStatus()),a||0!==n.length||(o=_.default.createElement("div",{key:"noData",className:this.ss("footer")},this.__("no_data"))),_.default.createElement("div",{className:this.ss("list")},o)}},{key:"renderItem",value:function(t,e){var n=this,a=e&&_.default.createElement("div",{className:this.ss("item-date")},_.default.createElement("span",{className:this.ss("item-date-c")},_.default.createElement("div",{className:this.ss("item-date-txt")},this.__(e))));return _.default.createElement("a",{key:t.id,className:this.ss("item",t.read&&"read"),onClick:function(e){return n.onNotificationItemClick(e,t.id,t.href,t.type)}},_.default.createElement("div",{className:this.ss("item-icon")}),_.default.createElement("div",{className:this.ss("item-context")},_.default.createElement("div",{className:this.ss("item-context-txt")},t.text),_.default.createElement("div",{className:this.ss("item-context-time")},this.__("created_time",{time:t.createdTime}))),a)}},{key:"renderEmptyItem",value:function(){return _.default.createElement("div",{key:"emptyItem",className:this.ss("item")},_.default.createElement("div",{className:this.ss("item-empty")},this.__("time_today_no")))}},{key:"renderStatus",value:function(){var n=this,e=this.props,t=e.firstLoad,a=e.processStatus;if(!t&&this.isEnd())return null;var o=(0,w.isLoading)(a);return _.default.createElement("div",{key:"status",className:this.ss("footer")},_.default.createElement(b.Motion,{defaultStyle:{opacity:0},style:{opacity:(0,b.spring)(o?1:0,M)}},function(e){var t=e.opacity;return t<.01?null:_.default.createElement("span",{className:n.ss("loading"),style:{opacity:t}})}))}},{key:"render",value:function(){return this.renderList()}}]),R.propTypes={status:m.default.bool,firstLoad:m.default.bool,page:m.default.number,pageTotal:m.default.number,results:m.default.array,processStatus:m.default.string,currentHost:m.default.string,setRead:m.default.func},a=R))||a)||a)||a;function R(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,R),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}t.default=x},function(e,t){e.exports={list:"list_1yIQJCam",item:"item_1dIrve2T",read:"read_2N4_CpeK","item-icon":"item-icon_3A445R0s","item-context":"item-context_1dk8R68r","item-context-txt":"item-context-txt_2iMi8wJy","item-context-time":"item-context-time_2afeiy45","item-empty":"item-empty_1ujn7Jo8","item-date":"item-date_2EL98Uoq","item-date-c":"item-date-c_3B2wEJR6","item-date-txt":"item-date-txt_1yYMhsA-",footer:"footer_2TOpPjmG",loading:"loading_1TN53ZFk","animation-loading":"animation-loading_Y6x4PnF9"}},function(e,t){e.exports={no_data:"no_data_3fC_",created_time:"created_time_3rPJ",time_today_no:"time_today_no_1es6",time_yesterday:"time_yesterday_1T-G",time_more:"time_more_G5SY"}},function(e,t){e.exports={"notifications-wrap":"notifications-wrap_3lVlA8zK",open:"open_zhGWBB1Q",notifications:"notifications_2KFSgZqj",header:"header_2Y0cmdbC",title:"title_eifgW-1U","title-txt":"title-txt_3prGJdAM",count:"count_zWPbNn2B","make-all":"make-all_1UI_Wxv4","icon-button":"icon-button_1lVMKQfH","make-all-btn":"make-all-btn_2lA6Lh0C"}},function(e,t){e.exports={title:"title_32Mz",tooltip_make_all:"tooltip_make_all_3-HP"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o,r=function(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e};function s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var i=Object.freeze(Object.defineProperties(["header.inPageNotification"],{raw:{value:Object.freeze(["header.inPageNotification"])}})),l=_(n(2)),c=_(n(1)),u=_(n(3)),d=_(n(281)),p=(_(n(283)),_(n(286)),n(5)),f=n(0),h=_(n(4)),m=_(n(289));function _(e){return e&&e.__esModule?e:{default:e}}var g=(0,p.decorator)({inPageNotification:(0,f.state)(i)})(a=(0,h.default)(m.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(v,u.default),r(v,[{key:"renderItems",value:function(){var e=this.props.inPageNotification,t=d.default;return e[0]?c.default.createElement(t,{key:e[0].id,bind:e[0]}):c.default.createElement("noscript",null)}},{key:"render",value:function(){return c.default.createElement("div",{className:this.ss("anchor")},this.renderItems())}}]),(o=v).propTypes={inPageNotification:l.default.arrayOf(l.default.shape({id:l.default.string.isRequired}))},a=o))||a)||a;function v(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o,r=function(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e};function s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var i=b(["header.requestInPageNotificationShow"],["header.requestInPageNotificationShow"]),l=b(["header.requestInPageNotificationHide"],["header.requestInPageNotificationHide"]),c=b(["header.requestInPageNotificationToRemove"],["header.requestInPageNotificationToRemove"]),u=b(["header.requestInPageNotificationRemove"],["header.requestInPageNotificationRemove"]),d=v(n(2)),p=v(n(1)),f=v(n(3)),h=n(5),m=n(0),_=v(n(4)),g=v(n(282));function v(e){return e&&e.__esModule?e:{default:e}}function b(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var y=(0,h.decorator)({requestInPageNotificationShow:(0,m.signal)(i),requestInPageNotificationHide:(0,m.signal)(l),requestInPageNotificationToRemove:(0,m.signal)(c),requestInPageNotificationRemove:(0,m.signal)(u)})(a=(0,_.default)(g.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(w,f.default),r(w,[{key:"componentDidMount",value:function(){var e=this,t=this.props.bind.id;setTimeout(function(){e._mounted&&(e.props.requestInPageNotificationShow({id:t}),e.hideTimeoutId=setTimeout(function(){e._mounted&&e.props.requestInPageNotificationHide({id:t})},1e4))}),this._mounted=!0}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"onTransitionEnd",value:function(){var e=this,t=this.props.bind,n=t.show,a=t.toRemove,o=t.id;n||a?!n&&a&&setTimeout(function(){e._mounted&&e.props.requestInPageNotificationRemove({id:o})}):setTimeout(function(){e._mounted&&e.props.requestInPageNotificationToRemove({id:o})})}},{key:"onMouseEnter",value:function(){window.clearTimeout(this.hideTimeoutId)}},{key:"onMouseLeave",value:function(){var e,t=this;this.clickToClose||(e=this.props.bind.id,this.hideTimeoutId=setTimeout(function(){t._mounted&&t.props.requestInPageNotificationHide({id:e})},1e4))}},{key:"onCloseBtnClick",value:function(e){var t=this;e.stopPropagation();var n=this.props.bind.id;this.clickToClose=!0,setTimeout(function(){t._mounted&&t.props.requestInPageNotificationHide({id:n})})}},{key:"render",value:function(){var t=this,e=this.props.bind,n=e.icon,a=e.body,o=e.options,r=e.show,s=e.toRemove,i=o.onClick,l=void 0,l=r?this.ss("item-animation","show"):s?this.ss("item-animation","crush"):this.ss("item-animation");return p.default.createElement("div",{className:l,onClick:function(){return i()},onTransitionEnd:function(){return t.onTransitionEnd()},onMouseEnter:function(){return t.onMouseEnter()},onMouseLeave:function(){return t.onMouseLeave()}},p.default.createElement("div",{className:this.ss("item")},p.default.createElement("div",{className:this.ss("ifont","ifont-icon-close","close-btn"),onClick:function(e){return t.onCloseBtnClick(e)}}),p.default.createElement("img",{src:n,role:"presentation",className:this.ss("image")}),p.default.createElement("div",{className:this.ss("text")},a)))}}]),(o=w).propTypes={bind:d.default.shape({id:d.default.string,icon:d.default.string,body:d.default.string,options:d.default.shape({onClick:d.default.func}),show:d.default.bool,toRemove:d.default.bool}).isRequired,requestInPageNotificationShow:d.default.func.isRequired,requestInPageNotificationHide:d.default.func.isRequired,requestInPageNotificationToRemove:d.default.func.isRequired,requestInPageNotificationRemove:d.default.func.isRequired},a=o))||a)||a;function w(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,w),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}t.default=y},function(e,t){e.exports={"item-animation":"item-animation_2CsgFSF-",item:"item_2l65CHva","close-btn":"close-btn_2tCn3dVr",show:"show_342o-JpK",crush:"crush_1q4VdRJO",image:"image_3Qf5yY3v",text:"text_XVlAfWCp"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o,r=function(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e};function s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var i=P(["header.acceptRequestStatus"],["header.acceptRequestStatus"]),l=P(["header.declineRequestStatus"],["header.declineRequestStatus"]),c=P(["header.requestInPageNotificationShow"],["header.requestInPageNotificationShow"]),u=P(["header.requestInPageNotificationHide"],["header.requestInPageNotificationHide"]),d=P(["header.requestInPageNotificationToRemove"],["header.requestInPageNotificationToRemove"]),p=P(["header.requestInPageNotificationRemove"],["header.requestInPageNotificationRemove"]),f=P(["header.acceptRequest"],["header.acceptRequest"]),h=P(["header.declineRequest"],["header.declineRequest"]),m=N(n(2)),v=N(n(1)),_=N(n(3)),g=n(5),b=n(0),y=N(n(16)),w=N(n(13)),j=n(7),k=N(n(53)),E=N(n(4)),C=N(n(284)),S=N(n(6)),O=N(n(285));function N(e){return e&&e.__esModule?e:{default:e}}function P(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var T=(0,g.decorator)({acceptRequestStatus:(0,b.state)(i),declineRequestStatus:(0,b.state)(l),requestInPageNotificationShow:(0,b.signal)(c),requestInPageNotificationHide:(0,b.signal)(u),requestInPageNotificationToRemove:(0,b.signal)(d),requestInPageNotificationRemove:(0,b.signal)(p),acceptRequest:(0,b.signal)(f),declineRequest:(0,b.signal)(h)})(a=(0,E.default)(C.default)(a=(0,S.default)(O.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(M,_.default),r(M,[{key:"componentDidMount",value:function(){var e=this,t=this.props.bind.id;setTimeout(function(){e._mounted&&(e.props.requestInPageNotificationShow({id:t}),e.hideTimeoutId=setTimeout(function(){e._mounted&&e.props.requestInPageNotificationHide({id:t})},1e4))}),this._mounted=!0}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"onTransitionEnd",value:function(){var e=this,t=this.props.bind,n=t.show,a=t.toRemove,o=t.id;n||a?!n&&a&&setTimeout(function(){e._mounted&&e.props.requestInPageNotificationRemove({id:o})}):setTimeout(function(){e._mounted&&e.props.requestInPageNotificationToRemove({id:o})})}},{key:"onMouseEnter",value:function(){window.clearTimeout(this.hideTimeoutId)}},{key:"onMouseLeave",value:function(){var e,t=this;this.clickToClose||(e=this.props.bind.id,this.hideTimeoutId=setTimeout(function(){t._mounted&&t.props.requestInPageNotificationHide({id:e})},1e4))}},{key:"onCloseBtnClick",value:function(e){var t=this;e.stopPropagation();var n=this.props.bind.id;this.clickToClose=!0,setTimeout(function(){t._mounted&&t.props.requestInPageNotificationHide({id:n})})}},{key:"renderButtons",value:function(e,t,n,a){var o=this.props,r=o.bind.id,s=o.acceptRequestStatus,i=o.declineRequestStatus,l=o.acceptRequest,c=o.declineRequest,u=(0,j.isLoadingOrSucceeded)(i[e]),d=(0,j.isLoadingOrSucceeded)(s[e]);return"fixed_later"===a?v.default.createElement("div",{className:this.ss("buttons")},v.default.createElement(w.default,{label:this.__("view"),theme:"blue",size:"xsmall",loading:d,onClick:function(){return(0,k.default)("/guru?status=accepted")}})):v.default.createElement("div",{className:this.ss("buttons")},v.default.createElement(w.default,{label:this.__("decline"),size:"xsmall",loading:u,onClick:function(){return c({id:e,questionId:t,popupId:r})}}),v.default.createElement(w.default,{label:this.__("accept"),theme:"blue",size:"xsmall",loading:d,onClick:function(){return l({id:e,questionId:t,popupId:r,questionType:n,payMode:a})}}))}},{key:"render",value:function(){var t=this,e=this.props.bind,n=e.show,a=e.data,o=e.toRemove,r=void 0,r=n?this.ss("item-animation","show"):o?this.ss("item-animation","crush"):this.ss("item-animation"),s=a.budget,i=a.fullName,l=a.avatar,c=a.skillIds,u=a.skillMap,d=a.title,p=a.questionType,f=a.requestId,h=a.questionId,m=a.payMode,_=c.map(function(e){return v.default.createElement("div",{key:e,className:t.ss("tag")},u[e].name)}),g="fixed_later"===m?this.__("total_budget",{budget:s}):this.__("budget",{budget:s});return v.default.createElement("div",{className:r,onTransitionEnd:function(){return t.onTransitionEnd()},onMouseEnter:function(){return t.onMouseEnter()},onMouseLeave:function(){return t.onMouseLeave()}},v.default.createElement("div",{className:this.ss("item")},v.default.createElement("div",{className:this.ss("ifont","ifont-icon-close2","close-btn"),onClick:function(e){return t.onCloseBtnClick(e)}}),v.default.createElement("div",{className:this.ss("head-wrapper")},v.default.createElement(y.default,{user:{fullName:i,avatar:l},size:"xxxsmall"}),v.default.createElement("div",{className:this.ss("title")},this.__("live_help_request_from",{fullName:i})),v.default.createElement("div",{className:this.ss("type",p)},this.__(p))),v.default.createElement("div",{className:this.ss("description")},d),v.default.createElement("div",{className:this.ss("tags")},_),v.default.createElement("div",{className:this.ss("bottom")},v.default.createElement("div",{className:this.ss("budget")},g),this.renderButtons(f,h,p,m))))}}]),(o=M).propTypes={bind:m.default.shape({id:m.default.string,data:m.default.object,show:m.default.bool,toRemove:m.default.bool}).isRequired,acceptRequestStatus:m.default.object,declineRequestStatus:m.default.object,requestInPageNotificationShow:m.default.func.isRequired,requestInPageNotificationHide:m.default.func.isRequired,requestInPageNotificationToRemove:m.default.func.isRequired,requestInPageNotificationRemove:m.default.func.isRequired,acceptRequest:m.default.func.isRequired,declineRequest:m.default.func.isRequired},a=o))||a)||a)||a;function M(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,M),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(M.__proto__||Object.getPrototypeOf(M)).apply(this,arguments))}t.default=T},function(e,t){e.exports={"item-animation":"item-animation_1grrVr6e",item:"item_FbNl2u2p","close-btn":"close-btn_3BRPLDQu",show:"show_290L9IJn",crush:"crush_3gsgE987","head-wrapper":"head-wrapper_1F7HcwUp",title:"title_vn8Crnsf",type:"type_2iZBNUP-",realtime:"realtime_1Nn60e7b",schedule:"schedule_2UIKW_L2",description:"description_1HoxuI6F",tags:"tags_1geBwEza",tag:"tag_p4-B0pSn",bottom:"bottom_sUVp2SWR",budget:"budget_bLNigxCw",buttons:"buttons_1rHeG738"}},function(e,t){e.exports={live_help_request_from:"live_help_request_from_36hk",realtime:"realtime_aAEm",schedule:"schedule_2R9g",budget:"budget_1rpj",decline:"decline_21VW",accept:"accept_3Yvj",view:"view_WORU",total_budget:"total_budget_1c1E"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o,r=function(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e};function s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var i=k(["header.requestInPageNotificationShow"],["header.requestInPageNotificationShow"]),l=k(["header.requestInPageNotificationHide"],["header.requestInPageNotificationHide"]),c=k(["header.requestInPageNotificationToRemove"],["header.requestInPageNotificationToRemove"]),u=k(["header.requestInPageNotificationRemove"],["header.requestInPageNotificationRemove"]),d=j(n(2)),p=j(n(1)),f=j(n(3)),h=n(5),m=n(0),_=j(n(13)),g=j(n(53)),v=j(n(4)),b=j(n(287)),y=j(n(6)),w=j(n(288));function j(e){return e&&e.__esModule?e:{default:e}}function k(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var E=(0,h.decorator)({requestInPageNotificationShow:(0,m.signal)(i),requestInPageNotificationHide:(0,m.signal)(l),requestInPageNotificationToRemove:(0,m.signal)(c),requestInPageNotificationRemove:(0,m.signal)(u)})(a=(0,v.default)(b.default)(a=(0,y.default)(w.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(C,f.default),r(C,[{key:"componentDidMount",value:function(){var e=this,t=this.props.bind.id;setTimeout(function(){e._mounted&&(e.props.requestInPageNotificationShow({id:t}),e.hideTimeoutId=setTimeout(function(){e._mounted&&e.props.requestInPageNotificationHide({id:t})},1e4))}),this._mounted=!0}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"onTransitionEnd",value:function(){var e=this,t=this.props.bind,n=t.show,a=t.toRemove,o=t.id;n||a?!n&&a&&setTimeout(function(){e._mounted&&e.props.requestInPageNotificationRemove({id:o})}):setTimeout(function(){e._mounted&&e.props.requestInPageNotificationToRemove({id:o})})}},{key:"onMouseEnter",value:function(){window.clearTimeout(this.hideTimeoutId)}},{key:"onMouseLeave",value:function(){var e,t=this;this.clickToClose||(e=this.props.bind.id,this.hideTimeoutId=setTimeout(function(){t._mounted&&t.props.requestInPageNotificationHide({id:e})},1e4))}},{key:"onCloseBtnClick",value:function(e){var t=this;e.stopPropagation();var n=this.props.bind.id;this.clickToClose=!0,setTimeout(function(){t._mounted&&t.props.requestInPageNotificationHide({id:n})})}},{key:"renderButtons",value:function(){var e=this.props.bind.data,t=e.questionId,n="client"===e.role?"/client/requests?status=ongoing":"/guru",a="/workspace/"+t;return p.default.createElement("div",{className:this.ss("buttons")},p.default.createElement(_.default,{label:this.__("view_detail"),size:"xsmall",loading:!1,onClick:function(){return(0,g.default)(n)}}),p.default.createElement(_.default,{label:this.__("enter_workspace"),theme:"blue",size:"xsmall",loading:!1,onClick:function(){return(0,g.default)(a)}}))}},{key:"renderBottom",value:function(){var e=this.props.bind.data.sessionTime;return p.default.createElement("div",{className:this.ss("bottom")},p.default.createElement("div",{className:this.ss("icon-calender","ifont","ifont-filled-calendar")}),p.default.createElement("div",{className:this.ss("session-time")},this.__("session_time",{time:e})),this.renderButtons())}},{key:"render",value:function(){var t=this,e=this.props.bind,n=e.show,a=e.data,o=e.toRemove,r=void 0,r=n?this.ss("item-animation","show"):o?this.ss("item-animation","crush"):this.ss("item-animation"),s=a.role;return p.default.createElement("div",{className:r,onTransitionEnd:function(){return t.onTransitionEnd()},onMouseEnter:function(){return t.onMouseEnter()},onMouseLeave:function(){return t.onMouseLeave()}},p.default.createElement("div",{className:this.ss("item")},p.default.createElement("div",{className:this.ss("ifont","ifont-icon-close2","close-btn"),onClick:function(e){return t.onCloseBtnClick(e)}}),p.default.createElement("div",{className:this.ss("head-wrapper")},p.default.createElement("div",{className:this.ss("icon-reminder","ifont","ifont-filled-alarm")}),p.default.createElement("div",{className:this.ss("title")},this.__("session_start_reminder"))),p.default.createElement("div",{className:this.ss("description")},this.__("join_tips_"+s,a)),this.renderBottom()))}}]),(o=C).propTypes={bind:d.default.shape({id:d.default.string,data:d.default.object,show:d.default.bool,toRemove:d.default.bool}).isRequired,requestInPageNotificationShow:d.default.func.isRequired,requestInPageNotificationHide:d.default.func.isRequired,requestInPageNotificationToRemove:d.default.func.isRequired,requestInPageNotificationRemove:d.default.func.isRequired},a=o))||a)||a)||a;function C(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,C),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}t.default=E},function(e,t){e.exports={"item-animation":"item-animation_1_OylgIk",item:"item_29xVf28v","close-btn":"close-btn_1KuG7o-i",show:"show_25va-NWz",crush:"crush_ahTGEcXj","head-wrapper":"head-wrapper_yrfhBPVS","icon-reminder":"icon-reminder_kzy5ggVZ",title:"title_3FQlTzX8",description:"description_2TOSGGhg",bottom:"bottom_BcDVQtID","icon-calender":"icon-calender_1Gy0r0So","session-time":"session-time_3_YtZQyD",buttons:"buttons_2ZncTaau"}},function(e,t){e.exports={session_start_reminder:"session_start_reminder_1ySa",join_tips_client:"join_tips_client_oRVH",join_tips_guru:"join_tips_guru_3ZEs",session_time:"session_time_3_XH",view_detail:"view_detail_pTzv",enter_workspace:"enter_workspace_1gJB"}},function(e,t){e.exports={anchor:"anchor_2mfSIdDx"}},function(e,t){e.exports={login:"login_3i6Ldx-n","title-wrap":"title-wrap_1Bg6sImN",logo:"logo_3bjLoAX9","logo-image":"logo-image_13IqSCGm","button-close":"button-close_3a65ZuYL","content-wrap":"content-wrap_L1s83tSJ","loading-wrap":"loading-wrap_2HiMXoKE",loading:"loading_28nWbdZ_"}},function(e,t){e.exports={title:"title_1UoH"}},function(e,t,n){e.exports=n(8)(1010)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=x(["suggest.candidate.followMap"],["suggest.candidate.followMap"]),i=x(["header.recentSearch"],["header.recentSearch"]),l=x(["header.popularSearch"],["header.popularSearch"]),c=x(["header.getRecentSearchStatus"],["header.getRecentSearchStatus"]),u=x(["header.getPopularSearchStatus"],["header.getPopularSearchStatus"]),d=x(["suggest.candidate"],["suggest.candidate"]),p=x(["header.deleteSearchLog"],["header.deleteSearchLog"]),f=x(["header.initSearchData"],["header.initSearchData"]),h=T(n(2)),m=T(n(1)),_=T(n(3)),g=n(5),v=n(0),b=T(n(19)),y=T(n(57)),w=T(n(16)),j=T(n(14)),k=n(18),E=T(n(122)),C=n(7),S=T(n(4)),O=T(n(294)),N=T(n(6)),P=T(n(67));function T(e){return e&&e.__esModule?e:{default:e}}function M(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function x(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var R=n(50),I=(0,g.decorator)({followMap:(0,v.state)(s),recentSearch:(0,v.state)(i),popularSearch:(0,v.state)(l),recentSearchStatus:(0,v.state)(c),popularSearchStatus:(0,v.state)(u),candidate:(0,v.state)(d),deleteSearchLog:(0,v.signal)(p),initSearchData:(0,v.signal)(f)})(a=(0,S.default)(O.default)(a=(0,N.default)(P.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(D,_.default),o(D,[{key:"componentDidMount",value:function(){var e=this,t=this.refs.input,n=this.refs.defaultSearch;this.removeClickOutside=(0,k.addClickOutside)([t,n],function(){e.setState({showDefaultSearch:!1})})}},{key:"componentWillUnmount",value:function(){this.removeClickOutside()}},{key:"onSelected",value:function(e){var t=e.type,n=e.text,a=e.value,o=e.id;this.setState({showDefaultSearch:!1});var r="";switch(t){case"u":r="/u/"+o;break;case"t":r="/t/"+o;break;case"fullTime":case"partTime":case"internship":case"freelance":r="/jobs/"+o;break;case"q":r="/search?k="+encodeURIComponent('["q:'+n+'"]');break;case"game":case"showcase":case"article":r="/p/"+o;break;case"g":r="/g/"+(a||o);break;case"s":r="/s/"+o;break;case"c":r="/messages/c/"+o;break;case"autocomplete":case"autocomplete_header":r="/search?k="+encodeURIComponent('["q:'+a+'"]');break;default:return}(0,b.default)(r)}},{key:"onKeyDown",value:function(e){var t=e.keyCode,n=(this.props.candidate||{}).header;13!==t||n&&0!==n.length||(0,b.default)("/search")}},{key:"onSearchBoxClick",value:function(){var e=this.state.haveInitSearchData;this.setState({showDefaultSearch:!0}),e||(this.props.initSearchData(),this.setState({haveInitSearchData:!0}))}},{key:"renderUser",value:function(e){var t=e||{},n=t.id,a=t.name,o=t.text,r=this.props.followMap;return m.default.createElement("div",{className:this.ss("candidate")},m.default.createElement(w.default,{user:e,size:"xxxsmall",shape:"circle",isFollowed:!(!r||!r[n])}),m.default.createElement("div",{className:this.ss("candidate-info")},m.default.createElement("div",{className:this.ss("name")},a),o&&m.default.createElement("div",{className:this.ss("split")}),o&&m.default.createElement("div",{className:this.ss("description")},o)))}},{key:"renderItem",value:function(e){var t=e||{},n=t.type,a=t.name;return m.default.createElement("div",{className:this.ss("candidate")},m.default.createElement(w.default,{user:e,size:"xxxsmall",shape:"square"}),m.default.createElement("div",{className:this.ss("candidate-info")},m.default.createElement("div",{className:this.ss("name")},a),m.default.createElement("div",{className:this.ss("split")}),m.default.createElement("div",{className:this.ss("description")},this.__("candidate_type_"+n))))}},{key:"renderJob",value:function(e){var t=e||{},n=t.type,a=t.value;return m.default.createElement("div",{className:this.ss("candidate")},m.default.createElement(w.default,{user:e,size:"xxxsmall",shape:"square"}),m.default.createElement("div",{className:this.ss("candidate-info")},m.default.createElement("div",{className:this.ss("name")},a),m.default.createElement("div",{className:this.ss("split")}),m.default.createElement("div",{className:this.ss("description")},this.__("candidate_type_"+n))))}},{key:"renderProject",value:function(e){var t=e||{},n=t.type,a=t.name,o=t.avatar;return m.default.createElement("div",{className:this.ss("candidate")},m.default.createElement("div",{className:this.ss("image-wrapper")},m.default.createElement(j.default,{src:o||R,alt:a,sizes:"24px",width:24,height:24})),m.default.createElement("div",{className:this.ss("candidate-info")},m.default.createElement("div",{className:this.ss("name")},a),m.default.createElement("div",{className:this.ss("split")}),m.default.createElement("div",{className:this.ss("description")},this.__("candidate_type_"+n))))}},{key:"renderGroup",value:function(e){var t=e||{},n=t.type,a=t.name,o=t.avatar;return m.default.createElement("div",{className:this.ss("candidate")},m.default.createElement("div",{className:this.ss("image-wrapper")},m.default.createElement(j.default,{src:o||R,alt:a,sizes:"24px",width:24,height:24})),m.default.createElement("div",{className:this.ss("candidate-info")},m.default.createElement("div",{className:this.ss("name")},a),m.default.createElement("div",{className:this.ss("split")}),m.default.createElement("div",{className:this.ss("description")},this.__("candidate_type_"+n))))}},{key:"renderChannelAvatar",value:function(e){return e.avatar?m.default.createElement(w.default,{user:e,size:"xxxsmall",shape:"square"}):m.default.createElement("div",{className:this.ss("lobby-avatar")},m.default.createElement("span",{className:this.ss("icon","ifont","ifont-icons-open-eye")}))}},{key:"renderChannel",value:function(e){var t=e||{},n=t.type,a=t.name,o=a.startsWith("lobby_default")?this.__(a):a;return m.default.createElement("div",{className:this.ss("candidate")},this.renderChannelAvatar(e),m.default.createElement("div",{className:this.ss("candidate-info")},m.default.createElement("div",{className:this.ss("name")},o),m.default.createElement("div",{className:this.ss("split")}),m.default.createElement("div",{className:this.ss("description")},this.__("candidate_type_"+n))))}},{key:"renderSuggest",value:function(e){var t=(e||{}).name;return m.default.createElement("div",{className:this.ss("candidate")},m.default.createElement("div",{className:this.ss("candidate-info","suggest")},m.default.createElement("div",{className:this.ss("name")},(0,E.default)(t))))}},{key:"renderRecentSearch",value:function(){var a=this,e=this.props,t=e.recentSearch,n=void 0===t?[]:t,o=e.deleteSearchLog;if(0===n.length)return null;var r=n.map(function(e){var t=e.id,n=e.keyword;return m.default.createElement("div",{key:t,className:a.ss("item")},m.default.createElement("a",{className:a.ss("link"),href:"/search?k="+encodeURIComponent('["q:'+n+'"]')},m.default.createElement("div",{className:a.ss("icon","search","ifont","ifont-material-baseline-search")}),n),m.default.createElement("a",{className:a.ss("icon","close","ifont","ifont-icon-close"),onClick:function(){return o({keyword:n})}}))});return m.default.createElement("div",{className:this.ss("group")},m.default.createElement("div",{className:this.ss("group-title")},this.__("recent_searches"),m.default.createElement("a",{className:this.ss("clear"),onClick:function(){return o({deleteAll:!0})}},this.__("clear_all"))),r)}},{key:"renderPopularSearch",value:function(){var a=this,e=this.props.popularSearch,t=void 0===e?[]:e;if(0===t.length)return null;var n=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t));4<n.length&&(n=n.slice(0,4));var o=n.map(function(e){var t=e.id,n=e.keyword;return m.default.createElement("a",{key:t,className:a.ss("item","popular"),href:"/search?k="+encodeURIComponent('["q:'+n+'"]')},n)});return m.default.createElement("div",{className:this.ss("group")},m.default.createElement("div",{className:this.ss("group-title")},this.__("popular_searches")),o)}},{key:"renderDefaultSearch",value:function(){var e=this.props,t=e.popularSearch,n=void 0===t?[]:t,a=e.recentSearch,o=void 0===a?[]:a,r=e.recentSearchStatus,s=e.popularSearchStatus;return this.state.showDefaultSearch?(0,C.isLoading)(r)||(0,C.isLoading)(s)?m.default.createElement("div",{ref:"defaultSearch",className:this.ss("default-search")},m.default.createElement("div",{className:this.ss("loading-wrapper")},m.default.createElement("div",{className:this.ss("loading")}))):0===n.length&&0===o.length?null:m.default.createElement("div",{ref:"defaultSearch",className:this.ss("default-search")},m.default.createElement("div",{className:this.ss("scroller")},this.renderRecentSearch(),this.renderPopularSearch())):null}},{key:"render",value:function(){var t=this,e=this.props,n=e.hideMobileSearch,a=e.autoFocus,o=(e.candidate||{}).header,r=(void 0===o?[]:o).length-1;return m.default.createElement("div",{className:this.ss("search-wrap")},m.default.createElement("a",{className:this.ss("search-icon","ifont","ifont-material-baseline-search"),href:"/search"}),m.default.createElement(y.default,{st:"header",hintText:this.__("search_placeholder"),inputType:"single",ref:"input",addInputValue:!0,defaultIndex:0<=r?r:0,autoFocus:!!a,className:this.ss("search-box"),inputClassName:this.ss("search-input"),borderClassName:this.ss("search-border"),closeIconClassName:this.ss("close"),candidateClassName:this.ss("candidates-wrap"),activeClassName:this.ss("candidate-active"),onFocus:function(){return t.onSearchBoxClick()},onChange:function(){return t.setState({showDefaultSearch:!1})},onKeyDown:function(e){return t.onKeyDown(e)},onRenderCandidate:this.renderCandidate,onSelected:function(e){return t.onSelected(e)}}),m.default.createElement("button",{className:this.ss("mobile-button"),onClick:function(){return n&&n()}},this.__("cancel")),this.renderDefaultSearch())}}]),D.propTypes={followMap:h.default.object,recentSearch:h.default.array,recentSearchStatus:h.default.string,popularSearch:h.default.array,popularSearchStatus:h.default.string,candidate:h.default.object,autoFocus:h.default.bool,deleteSearchLog:h.default.func,hideMobileSearch:h.default.func,initSearchData:h.default.func},a=D))||a)||a)||a;function D(){var e,t,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,D);for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=a=M(this,(e=D.__proto__||Object.getPrototypeOf(D)).call.apply(e,[this].concat(o)))).state={haveInitSearchData:!1},a.renderCandidate=function(e){var t=e||{},n=t.name;switch(t.type){case"q":return m.default.createElement("li",null,m.default.createElement("div",{className:a.ss("query")},a.__("view_results_for",{name:n})));case"u":return m.default.createElement("li",null,a.renderUser(e));case"t":case"s":return m.default.createElement("li",null,a.renderItem(e));case"fullTime":case"partTime":case"internship":case"freelance":return m.default.createElement("li",null,a.renderJob(e));case"game":case"showcase":case"article":return m.default.createElement("li",null,a.renderProject(e));case"g":return m.default.createElement("li",null,a.renderGroup(e));case"c":return m.default.createElement("li",null,a.renderChannel(e));case"autocomplete":return m.default.createElement("li",null,a.renderSuggest(e));case"autocomplete_header":return m.default.createElement("li",null,m.default.createElement("div",{className:a.ss("header")},a.__("search")),a.renderSuggest(e));default:return null}},M(a,t)}t.default=I},function(e,t){e.exports={"search-wrap":"search-wrap_D0fqU9nj","search-icon":"search-icon_L61rVVxd","search-box":"search-box_1vJf_gD9","search-border":"search-border_11vujxSW","search-input":"search-input_3nLoPTQo","candidates-wrap":"candidates-wrap_nG21aKsl",active:"active_3D32M6oe",close:"close_2O9nnLYy",header:"header_3lRuFfXA",candidate:"candidate_3dAL5ENV","image-wrapper":"image-wrapper_1_CDUvLi","lobby-avatar":"lobby-avatar_2bsIZ_m9",icon:"icon_3GuJymyP","candidate-info":"candidate-info_1ujcRrbs",suggest:"suggest_2WE1JH62",name:"name_2allSzZq",split:"split_eoHfxN2A",description:"description_mE0PKcmm",query:"query_12KDLPvw","default-search":"default-search_1WePwEnL",scroller:"scroller_1kJWz2RA",group:"group__6pGhXLM","group-title":"group-title_2xNS6m9L",clear:"clear_2cObBaFs",item:"item_11u3AyI1",link:"link_1BIOcGCd",search:"search_1qTRJ4SP",popular:"popular_3DvA6Z4u","loading-wrapper":"loading-wrapper_7PK2qPso",loading:"loading_1C0VceFA",hide:"hide_2o9uDsUm","mobile-button":"mobile-button_3h5v46Lh"}},function(e,t){e.exports={drawer:"drawer_3t3udqtQ",children:"children_UyaEgFF9",right:"right_ZNamn0lh","right-hidden":"right-hidden_3unyuOup","right-hidden-inner":"right-hidden-inner_1CQU6meH"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=x(["loginUser"],["loginUser"]),i=x(["messages.workspaces"],["messages.workspaces"]),l=x(["messages.channels"],["messages.channels"]),c=x(["messages.users"],["messages.users"]),u=x(["messages.lastMessages"],["messages.lastMessages"]),d=x(["messages.channelMembers"],["messages.channelMembers"]),p=x(["messages.readState"],["messages.readState"]),f=x(["messages.channelJobs"],["messages.channelJobs"]),h=x(["messages.channelTeams"],["messages.channelTeams"]),m=x(["messages.relationships"],["messages.relationships"]),_=x(["messages.connected"],["messages.connected"]),g=x(["header.messagesClose"],["header.messagesClose"]),v=M(n(2)),b=M(n(1)),y=M(n(3)),w=n(5),j=n(0),k=M(n(297)),E=n(18),C=n(501),S=M(n(15)),O=M(n(4)),N=M(n(302)),P=M(n(6)),T=M(n(67));function M(e){return e&&e.__esModule?e:{default:e}}function x(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var R=(0,w.decorator)({loginUser:(0,j.state)(s),workspaces:(0,j.state)(i),channels:(0,j.state)(l),users:(0,j.state)(c),lastMessages:(0,j.state)(u),channelMembers:(0,j.state)(d),readState:(0,j.state)(p),channelJobs:(0,j.state)(f),channelTeams:(0,j.state)(h),relationships:(0,j.state)(m),connected:(0,j.state)(_),messagesClose:(0,j.signal)(g)})(a=(0,O.default)(N.default)(a=(0,P.default)(T.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(I,y.default),o(I,[{key:"componentDidMount",value:function(){var e=this;this.removeClickOutside=(0,E.addClickOutside)([this,"messages-action"],function(){e.props.messagesClose()})}},{key:"componentWillUnmount",value:function(){this.removeClickOutside()}},{key:"getDefaultChannelList",value:function(){var e=this.props,t=e.channels,n=e.readState,a=e.channelJobs,o=e.relationships,r=e.loginUser;return(0,C.getDefaultChannelList)({channels:t,readState:n,channelJobs:a,relationships:o,loginUser:r})}},{key:"renderNormalContent",value:function(){var r=this,e=this.props,s=e.channelJobs,i=e.channelTeams,l=e.lastMessages,c=e.users,u=e.channelMembers,d=e.readState,t=this.getDefaultChannelList().sort(function(e,t){var n=d[e.id],a=d[t.id],o=n.lastMessageId,r=a.lastMessageId;return o<r?1:r<o?-1:0}).filter(function(e,t){return t<5}).map(function(e){var t=e.id,n=e.type,a=e.liveChannelId,o=a?l[a]:l[t];return!e.recipientId&&e.recipient&&(e.recipientId=e.recipient.id),b.default.createElement(k.default,{type:"header",channel:e,key:t||n,active:!1,usersMap:c,lastMessage:o,members:u[t],channelJob:s[t],channelTeam:i[t],channelName:r.renderChannelName(e)})});return 0===t.length?b.default.createElement("div",{className:this.ss("no-messages")},this.__("no_messages")):t}},{key:"renderChannelName",value:function(e){var t=this.props,n=t.users,a=t.channelMembers,o=t.channelJobs,r=t.loginUser;return(0,C.getChannelName)({context:this.context,users:n,channelMembers:a,channelJobs:o,loginUser:r,channel:e})}},{key:"render",value:function(){var e=void 0,e=this.props.connected?this.renderNormalContent():b.default.createElement("div",{className:this.ss("loading")},b.default.createElement("div",{className:this.ss("loading-circle")},b.default.createElement("div",{className:this.ss("loading-circle-inner")})));return b.default.createElement("div",{className:this.ss("messages-preview")},b.default.createElement("div",{className:this.ss("pointer")}),b.default.createElement("div",{className:this.ss("cards-container")},e,b.default.createElement("a",{className:this.ss("all-messages"),target:"_blank",href:S.default.DEFAULT_URL+"/messages"},this.__("all_messages"))))}}]),I.propTypes={loginUser:v.default.object,channels:v.default.object,users:v.default.object,lastMessages:v.default.object,channelMembers:v.default.object,readState:v.default.object,channelJobs:v.default.object,channelTeams:v.default.object,relationships:v.default.object,connected:v.default.bool,workspaces:v.default.object,messagesClose:v.default.func},a=I))||a)||a)||a;function I(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,I),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}t.default=R},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e};function s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var l=H(["loginUser"],["loginUser"]),c=H(["messages.relationships"],["messages.relationships"]),u=H(["messages.inProgressText"],["messages.inProgressText"]),d=H(["messages.selectedChannelIds.",""],["messages.selectedChannelIds.",""]),p=H(["messages.selectedWorkspaceId"],["messages.selectedWorkspaceId"]),f=H(["messages.exploreInfo.",""],["messages.exploreInfo.",""]),h=H(["messages.showCardOptionKey"],["messages.showCardOptionKey"]),m=H(["messages.workspaces"],["messages.workspaces"]),_=H(["messages.stickChannel"],["messages.stickChannel"]),g=H(["messages.unStickChannel"],["messages.unStickChannel"]),v=H(["messages.muteChannel"],["messages.muteChannel"]),b=H(["messages.unMuteChannel"],["messages.unMuteChannel"]),y=H(["messages.leaveChannel"],["messages.leaveChannel"]),w=H(["messages.setShowCardOptionKey"],["messages.setShowCardOptionKey"]),j=H(["message_btn"],["message_btn"]),k=W(n(2)),E=W(n(1)),C=n(5),S=n(0),O=W(n(3)),N=W(n(16)),P=n(18),T=W(n(15)),M=W(n(14)),x=W(n(4)),R=W(n(298)),I=n(6),D=W(I),A=W(n(299)),L=W(n(300)),U=W(n(80));function W(e){return e&&e.__esModule?e:{default:e}}function z(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function H(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var q=/image\/(jpeg|pjpeg|gif|png)$/i,F=(0,C.decorator)({loginUser:(0,S.state)(l),relationships:(0,S.state)(c),inProgressText:(0,S.state)(u),selectedChannelId:(0,S.state)(d,(0,S.state)(p)),selectedWorkspaceId:(0,S.state)(p),exploreInfo:(0,S.state)(f,(0,S.state)(p)),showCardOptionKey:(0,S.state)(h),workspaces:(0,S.state)(m),stickChannel:(0,S.signal)(_),unStickChannel:(0,S.signal)(g),muteChannel:(0,S.signal)(v),unMuteChannel:(0,S.signal)(b),leaveChannel:(0,S.signal)(y),setShowCardOptionKey:(0,S.signal)(w)})(a=(0,x.default)(R.default)(a=(0,D.default)(A.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(B,O.default),r(B,[{key:"componentDidMount",value:function(){window.addEventListener("click",this.handleClick)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.handleClick)}},{key:"onGearClick",value:function(e,t){e.stopPropagation(),(0,this.props.setShowCardOptionKey)({channelId:t})}},{key:"onCardMouseOver",value:function(){this.setState({cardHover:!0})}},{key:"onCardMouseLeave",value:function(){this.setState({cardHover:!1})}},{key:"onMsgBtnClick",value:function(e,t){e.stopPropagation(),window.sendSignalToHost&&window.sendSignalToHost("channel_selected",{channelId:t})}},{key:"getLastDayMillis",value:function(e){var t=new Date(e);return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.getTime()}},{key:"clearShowCardOptionKey",value:function(){var e=this.props,t=e.showCardOptionKey,n=e.setShowCardOptionKey;t&&n({channelId:""})}},{key:"handleStick",value:function(e){e.stopPropagation();var t=this.props,n=t.channel,a=t.stickChannel,o=t.unStickChannel;this.setState({cardHover:!1}),this.clearShowCardOptionKey(),(n.stickTimestamp?o:a)({channelId:n.id})}},{key:"handleMute",value:function(e){e.stopPropagation();var t=this.props,n=t.channel,a=t.muteChannel,o=t.unMuteChannel;this.setState({cardHover:!1}),this.clearShowCardOptionKey(),(n.isMute?o:a)({channelId:n.id})}},{key:"handleLeave",value:function(e){e.stopPropagation();var t=this.props,n=t.channel,a=t.leaveChannel;this.clearShowCardOptionKey(),a({channelId:n.id})}},{key:"renderThumbnail",value:function(e){var t=this.props,n=t.channel,a=t.channelJob,o=t.channelTeam,r=t.usersMap,s=t.loginUser,i=t.members,l=n.type,c=n.recipientId,u=n.thumbnail;if("direct"===l)return E.default.createElement(N.default,{user:r[c],size:"small"});if("private"===l){if(n.proposalId&&a.freelancerId===s.id)return E.default.createElement(N.default,{user:o,size:"small"});if(n.proposalId&&a.freelancerId!==s.id){var d=a.freelancerId;return E.default.createElement(N.default,{user:r[d]})}var p=Object.values(i).sort(function(e,t){return e.id<t.id?-1:e.id>t.id?1:0}).map(function(e){return r[e.userId]}),f=this.state.cardHover;return E.default.createElement(L.default,{highlight:f,active:e,users:p,type:this.props.type})}if("public"===l)return E.default.createElement("div",{className:this.ss("public-thumbnail")},E.default.createElement(M.default,{src:u,sizes:"100px"}));if("public-list"===l)return E.default.createElement("div",{className:this.ss("highlight-icon","projects-icon")},E.default.createElement("span",{className:this.ss("ifont","ifont-icons-project")}));if("applied-list"===l||"recruit-list"===l)return E.default.createElement("div",{className:this.ss("highlight-icon","job-icon")},E.default.createElement("span",{className:this.ss("ifont","ifont-icons-job")}));if("lobby"!==l)return null;var h=E.default.createElement("div",{className:this.ss("default-lobby-icon")},E.default.createElement("span",{className:this.ss("ifont","ifont-icons-open-eye")}));return u&&(h=E.default.createElement("div",{className:this.ss("lobby-thumbnail")},E.default.createElement(M.default,{src:u,sizes:"100px"}))),h}},{key:"renderName",value:function(){var e=this.props,t=e.channelName,n=e.channel.type,a=e.active,o="";return"public-list"===n?o="highlight-public":"recruit-list"===n||"applied-list"===n?o="highlight-job":"lobby"===n&&(o="highlight-lobby"),E.default.createElement("div",{className:this.ss("name",o,a&&"active")},t)}},{key:"renderTimestamp",value:function(){var e,t,n=this.props,a=n.lastMessage,o=n.active,r=n.type,s=void 0;return T.default.DISPLAY_TIME_IN_MESSENGER&&a?"header"===r||"hub-entry"===r?s=this.moment().isSame(a.timestamp,"day")?this.moment(a.timestamp).locale("en").format("hh:mm A"):(e=Math.floor((new Date-this.getLastDayMillis(a.timestamp))/864e5),this.__("header_time_span",{time:e})):"home"===r&&(s=this.moment().isSame(a.timestamp,"day")?this.moment(a.timestamp).locale("en").format("hh:mm A"):(t=Math.floor((new Date-this.getLastDayMillis(a.timestamp))/864e5),this.__("last_message_date",{days:t}))):s="",s?E.default.createElement("div",{className:this.ss("timestamp",o&&"active",r)},s):null}},{key:"renderLastMsg",value:function(){var e,t,n=this.props,a=n.lastMessage,o=n.channel,r=o.type,s=o.id,i=o.meetUpEventId,l=n.usersMap,c=n.active,u=n.members,d=n.loginUser,p=n.inProgressText,f=n.selectedChannelId,h=void 0,m=null;if("lobby"!==r||!u||u[d.id]&&u[d.id].guideFinished&&a){if(p&&p[s]&&f!==s)return E.default.createElement("div",{className:this.ss("desc-last-message","desc",c&&"active")},E.default.createElement("div",{className:this.ss("draft-hint")},this.__("draft_hint")),E.default.createElement("div",{className:this.ss("last-message-content")},p[s]));if(!a)return E.default.createElement("div",{className:this.ss("desc-last-message","desc",c&&"active")});h=a.deletedTime?this.__("deleted_message"):!a.contentParsedPlainText&&a.attachments.length?(e=a.attachments[0],q.test(e.contentType)?this.__("image_message"):this.__("file_message")):a.contentParsedPlainText,"direct"!==r&&(m=(t=l[a.authorId])?E.default.createElement("div",{className:this.ss("author-name")},this.__("author_name",{author:t.fullname})):null)}else m=null,h=i?this.__("meetup_welcome"):this.__("lobby_welcome");return E.default.createElement("div",{className:this.ss("desc-last-message","desc",c&&"active")},m,E.default.createElement("div",{className:this.ss("last-message-content")},h))}},{key:"renderCandidateCount",value:function(){var e=this.props,t=e.channel.candidateCount,n=e.active;return E.default.createElement("div",{className:this.ss("desc-candidate-count","desc",n&&"active")},this.__("candidate_count",{candidateCount:t}))}},{key:"renderDesc",value:function(){return"recruit-list"===this.props.channel.type?this.renderCandidateCount():this.renderLastMsg()}},{key:"renderOption",value:function(){var t=this,e=this.props,n=e.channel,a=e.members,o=e.loginUser,r=e.showCardOptionKey;if("direct"!==n.type&&"private"!==n.type&&"public"!==n.type&&"lobby"!==n.type)return null;var s=(n||{}).groupId,i=!!n.stickTimestamp,l=i?"unStick_option":"stick_option",c=n.isMute?"unMute_option":"mute_option",u=null;i?u=E.default.createElement("div",{className:this.ss("pin-or-mute-wrapper","pin-wrapper")},E.default.createElement("span",{className:this.ss("ifont","ifont-icons-pin","pin-icon")})):n.isMute&&(u=E.default.createElement("div",{className:this.ss("pin-or-mute-wrapper","mute-wrapper")},E.default.createElement("span",{className:this.ss("ifont","ifont-icons-mute","mute-icon")})));var d=E.default.createElement("span",{className:this.ss("ifont","ifont-icons-settings","gear-icon"),onClick:function(e){return t.onGearClick(e,n.id)}}),p=!1;("lobby"===n.type&&!s||"private"===n.type&&!n.proposalId)&&(a&&a[o.id]&&"owner"===a[o.id].role||(p=!0));var f=E.default.createElement("div",{className:this.ss("option-menu",r!==n.id&&"hidden")},E.default.createElement("div",{className:this.ss("stick-option","option-item"),onClick:function(e){return t.handleStick(e)}},this.__(l)),E.default.createElement("div",{className:this.ss("mute-option","option-item"),onClick:function(e){return t.handleMute(e)}},this.__(c)),p?E.default.createElement("div",{className:this.ss("leave-option","option-item"),onClick:function(e){return t.handleLeave(e)}},this.__("leave_btn")):null);return E.default.createElement("div",{className:this.ss("option",(i||n.isMute)&&"isStickOrMute",n.isMute&&"isMute")},u,d,f)}},{key:"renderStatus",value:function(e){var t=this.props,n=t.channel,a=n.type,o=n.recipientId,r=t.relationships,s=t.usersMap;if("direct"===a&&r[o]&&"accepted"===r[o].status){var i=s[o].presenceStatus;return E.default.createElement("div",{className:this.ss("status","status-"+i,e&&"active")})}return null}},{key:"renderUnread",value:function(e){var t=this.props.channel,n=t.hasUnread,a=t.mentionCount,o=t.type;return 0!==a?E.default.createElement("div",{className:this.ss("unread-count",e&&"active")},a<=99?a:"99+"):n?E.default.createElement("div",{className:this.ss("unread-hint",e&&"active",("public"===o||"lobby"===o)&&"public")}):null}},{key:"renderWorkspaceName",value:function(){var e=this.props,t=e.channel,n=e.workspaces,a=n&&t.workspaceId&&n[t.workspaceId];return E.default.createElement("div",{className:this.ss("workspace-name")},a&&a.organizationId?a.name:(0,I.i18n)(this.context,U.default,"workspace_connect",{}))}},{key:"render",value:function(){var t=this,e=this.props,n=e.active,a=e.onSelected,o=e.type,r=e.channel.id,s={};return"home"===o&&(s.onClick=function(){return a()}),"header"===o&&(s.target="_blank",s.href=r?T.default.DEFAULT_URL+"/messages/c/"+r:T.default.DEFAULT_URL+"/messages"),E.default.createElement("a",i({className:this.ss("card",o,n&&"active",this.state.cardHover&&"highlight")},s,{onMouseOver:function(){return t.onCardMouseOver()},onMouseLeave:function(){return t.onCardMouseLeave()}}),E.default.createElement("div",{className:this.ss("thumbnail")},this.renderThumbnail(n),this.renderUnread(n)),E.default.createElement("div",{className:this.ss("text")},E.default.createElement("div",{className:this.ss("card-top-wrapper",o)},E.default.createElement("div",{className:this.ss("card-top-left",o)},this.renderName(),this.renderStatus(n)),this.renderTimestamp()),E.default.createElement("div",{className:this.ss("card-bottom-wrapper")},this.renderDesc(),"header"===o?this.renderWorkspaceName():this.renderOption())),E.default.createElement("div",{className:this.ss("msg-btn",o),onClick:function(e){return t.onMsgBtnClick(e,r)}},this.__(j)))}}]),(o=B).propTypes={channel:k.default.object.isRequired,active:k.default.bool.isRequired,relationships:k.default.object,inProgressText:k.default.object,selectedChannelId:k.default.string,selectedWorkspaceId:k.default.string,exploreInfo:k.default.object,usersMap:k.default.object,members:k.default.object,lastMessage:k.default.object,channelJob:k.default.object,channelTeam:k.default.object,loginUser:k.default.object,channelName:k.default.string,type:k.default.oneOf(["header","home","hub-entry"]).isRequired,showCardOptionKey:k.default.string,workspaces:k.default.object,onSelected:k.default.func,stickChannel:k.default.func,unStickChannel:k.default.func,muteChannel:k.default.func,unMuteChannel:k.default.func,leaveChannel:k.default.func,setShowCardOptionKey:k.default.func},a=o))||a)||a)||a;function B(){var e,t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,B);for(var a=arguments.length,o=Array(a),r=0;r<a;r++)o[r]=arguments[r];return(t=n=z(this,(e=B.__proto__||Object.getPrototypeOf(B)).call.apply(e,[this].concat(o)))).state={cardHover:!1},n.handleClick=function(e){(0,P.ClickOutside)(e,n,function(){n.clearShowCardOptionKey()})},z(n,t)}t.default=F},function(e,t){e.exports={card:"card_2G4pcnJT",header:"header_1cz55Y2o",active:"active_ishkVvem",status:"status_U5ku7dKT","unread-count":"unread-count_27XmPPdL","unread-hint":"unread-hint_XehkRdfh",name:"name_184TA-fE","card-top-wrapper":"card-top-wrapper_3C0vXDQ9",option:"option_2FK7Xufq",isStickOrMute:"isStickOrMute_vXs-E8Jo","gear-icon":"gear-icon_421_JT6B","option-menu":"option-menu_i7LI8BZU","pin-or-mute-wrapper":"pin-or-mute-wrapper_y7y5M-T_","pin-wrapper":"pin-wrapper_TAjp81Oa","mute-wrapper":"mute-wrapper_1HQA9Glw",text:"text_3kC_Oaop",home:"home_3ZTxyIMe",highlight:"highlight_2TAS4LAi",hidden:"hidden_1XS12JsR","option-item":"option-item_OZWzJerP","hub-entry":"hub-entry_2jXXuYmJ",desc:"desc_FCLgbQVj",thumbnail:"thumbnail_2x0OtVLV","public-thumbnail":"public-thumbnail_2tzGDoUs","lobby-thumbnail":"lobby-thumbnail_2i182iOJ","highlight-icon":"highlight-icon_pdedcrRh","projects-icon":"projects-icon_33gx3pbS","job-icon":"job-icon_27ZNa_J2","lobby-list-icon":"lobby-list-icon_Z5yEQ5lh","default-lobby-icon":"default-lobby-icon_2h5Qa0vV","status-online":"status-online_3Of5N2wU","status-offline":"status-offline_-Yc3Qw0k","status-idle":"status-idle_YrGTT4Yx","card-top-left":"card-top-left_zo5jRvmB","highlight-public":"highlight-public_3-xh2-Kd","highlight-job":"highlight-job_I3W3r6ar","highlight-lobby":"highlight-lobby_1og23ZY6",timestamp:"timestamp_2yPLkKkq","card-bottom-wrapper":"card-bottom-wrapper_3HnWFD3D","desc-last-message":"desc-last-message_2_86B9zC","author-name":"author-name_2PnUkJd6","last-message-content":"last-message-content_18ohi8d4",public:"public_2c5Njt0J","draft-hint":"draft-hint_3fK94MAb","msg-btn":"msg-btn_37EALoOz","workspace-name":"workspace-name_1ou7pmrP"}},function(e,t){e.exports={projects:"projects_22py",my_job:"my_job_296R",candidate_count:"candidate_count_34Sc",image_message:"image_message_2fxR",file_message:"file_message_kYEs",mute_option:"mute_option_nPpA",unMute_option:"unMute_option_3a4i",stick_option:"stick_option_2Lmz",unStick_option:"unStick_option_2f8Z",last_message_time:"last_message_time_3nCP",last_message_date:"last_message_date_1qan",author_name:"author_name_1sQ1",header_time_span:"header_time_span_1RFh",welcome_to_lobby:"welcome_to_lobby_1eyv",lobby_welcome:"lobby_welcome_2zpq",meetup_welcome:"meetup_welcome_1we6",draft_hint:"draft_hint_2cUa",lobby_list_desc:"lobby_list_desc_1qlA",deleted_message:"deleted_message_3389",leave_btn:"leave_btn_1cst",message_btn:"message_btn_1pb0"}},function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a,o=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=m(l(2)),c=m(l(1)),i=m(l(3)),u=l(5),d=m(l(14)),p=l(11),f=m(l(4)),h=m(l(301));function m(e){return e&&e.__esModule?e:{default:e}}var _=(0,u.decorator)({})(n=(0,f.default)(h.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(g,i.default),o(g,[{key:"render",value:function(){var a=this,e=this.props,t=e.users,o=e.active,n=e.type,r=e.highlight,s=[],i=0;return t.forEach(function(e){var t,n;i++<3&&(n=t=void 0,e.isBot?t=c.default.createElement(d.default,{src:l(187),sizes:"60px"}):(t=e.avatar&&c.default.createElement(d.default,{src:e.avatar,sizes:"60px"}),n=!e.avatar&&(0,p.extractName)(e.name||e.fullName||e.fullname)),s.push(c.default.createElement("div",{key:"user_"+e.id,className:a.ss("user-avatar",!e.avatar&&"default-avatar",{1:"first",2:"second",3:"third"}[i],o&&"active",r&&"highlight")},t,n)))}),c.default.createElement("div",{className:this.ss("avatar-container",n)},s)}}]),(a=g).propTypes={active:s.default.bool,highlight:s.default.bool,users:s.default.arrayOf(s.default.object),type:s.default.oneOf(["header","home","search","hub-entry"]).isRequired},n=a))||n)||n;function g(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}t.default=_},function(e,t){e.exports={"avatar-container":"avatar-container_1aVivL1e",header:"header_mZU1hl7o","user-avatar":"user-avatar_3ou09lEO",active:"active_gDQI4Num",highlight:"highlight_3ueUQhZr","hub-entry":"hub-entry_3J64H7OA",first:"first_3cgVLDTq",second:"second_11a5RFzl",third:"third_37umiXfA","avatar-placeholder":"avatar-placeholder_2d0ho-8z","default-avatar":"default-avatar_BMT9uRPt",search:"search_3VJ3noBz"}},function(e,t){e.exports={"messages-preview":"messages-preview_3GVMRpM3",pointer:"pointer_GNdvpY-F","cards-container":"cards-container_3ossuHjJ","all-messages":"all-messages_2hyCuqZU","no-messages":"no-messages_1KYpFJVE",loading:"loading_3CEQoEwG","loading-circle":"loading-circle_BMuLrZcq","circle-rotate":"circle-rotate_3Id5q70I","loading-circle-inner":"loading-circle-inner_2cwhLUg0"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=v(["loginUser"],["loginUser"]),i=v(["currentUrl"],["currentUrl"]),l=g(n(2)),c=g(n(1)),u=g(n(3)),d=n(5),p=n(0),f=g(n(4)),h=g(n(304)),m=g(n(6)),_=g(n(305));function g(e){return e&&e.__esModule?e:{default:e}}function v(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var b=(0,d.decorator)({loginUser:(0,p.state)(s),currentUrl:(0,p.state)(i)})(a=(0,f.default)(h.default)(a=(0,m.default)(_.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(y,u.default),o(y,[{key:"render",value:function(){var e=this.props,t=e.loginUser,n=e.currentUrl;if(!t)return null;if(!0!==t.emailRequired)return null;var a="/auth/email?redirect_to="+encodeURIComponent(n);return c.default.createElement("div",{className:this.ss("info-bar")},c.default.createElement("div",{className:this.ss("text")},this.__("text_prefix")),c.default.createElement("a",{className:this.ss("link"),href:a},this.__("link_fill")),c.default.createElement("div",{className:this.ss("text")},this.__("text_suffix")))}}]),y.propTypes={loginUser:l.default.object,currentUrl:l.default.string},a=y))||a)||a)||a;function y(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}t.default=b},function(e,t){e.exports={"info-bar":"info-bar_PzV5rWik",hide:"hide_1abUTxoy",link:"link_2ytBLggM",text:"text_3DKifsFk"}},function(e,t){e.exports={text_prefix:"text_prefix_2pHd",text_suffix:"text_suffix_21D6",link_fill:"link_fill_G2Db"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o,r,s=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var l=O(["currentUrl"],["currentUrl"]),c=O(["header.emailRequiredDialog.open"],["header.emailRequiredDialog.open"]),u=O(["header.doAddEmailStatus"],["header.doAddEmailStatus"]),d=O(["header.doAddEmail"],["header.doAddEmail"]),p=O(["header.closeEmailRequiredDialog"],["header.closeEmailRequiredDialog"]),f=C(n(2)),h=C(n(1)),m=C(n(3)),_=n(5),g=n(0),v=C(n(20)),b=C(n(13)),y=n(7),w=C(n(4)),j=C(n(307)),k=C(n(6)),E=C(n(308));function C(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function O(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var N=(0,_.decorator)({currentUrl:(0,g.state)(l),open:(0,g.state)(c),updateStatus:(0,g.state)(u),doAddEmail:(0,g.signal)(d),closeEmailRequiredDialog:(0,g.signal)(p)})(a=(0,w.default)(j.default)(a=(0,k.default)(E.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(P,m.default),s(P,[{key:"renderHead",value:function(){var e=this.props.currentUrl,t="/auth/email?redirect_to="+encodeURIComponent(e);return h.default.createElement("div",{className:this.ss("head")},h.default.createElement("div",{className:this.ss("text")},this.__("text_prefix")),h.default.createElement("a",{className:this.ss("link"),href:t},this.__("link_fill")),h.default.createElement("div",{className:this.ss("text")},this.__("text_suffix")))}},{key:"renderBody",value:function(){var n=this,e=[this.__("item_post_job"),this.__("item_post_article"),this.__("item_post_showcase"),this.__("item_post_game"),this.__("item_create_company"),this.__("item_create_school"),this.__("item_create_chat"),this.__("item_other")].map(function(e,t){return h.default.createElement("div",{key:"item"+t,className:n.ss("item")},e)});return h.default.createElement("div",{className:this.ss("body")},h.default.createElement("div",{className:this.ss("description")},this.__("description")),h.default.createElement("div",{className:this.ss("items")},e))}},{key:"renderFoot",value:function(){var e=this.props.updateStatus,t=(0,y.isLoadingOrSucceeded)(e),n=[];return n.push(h.default.createElement("div",{key:"ok",className:this.ss("button-ok")},h.default.createElement(b.default,{loading:t,theme:"blue",size:"xlarge",widthType:"full",label:this.__("button_ok"),onClick:this.onConfirm}))),h.default.createElement("div",{className:this.ss("foot")},n)}},{key:"render",value:function(){var e=this.props.open;return h.default.createElement(v.default,{open:e,position:"center",onCloseModal:this.onClose},h.default.createElement("div",{className:this.ss("content")},this.renderHead(),this.renderBody(),this.renderFoot(),h.default.createElement("button",{className:this.ss("button-close"),onClick:this.onClose},h.default.createElement("div",{className:this.ss("close","ifont","ifont-icon-close2")}))))}}]),r=o=P,o.propTypes={currentUrl:f.default.string,open:f.default.bool,updateStatus:f.default.string,doAddEmail:f.default.func,closeEmailRequiredDialog:f.default.func},o.defaultProps={},a=r))||a)||a)||a;function P(){var e,t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,P);for(var a=arguments.length,o=Array(a),r=0;r<a;r++)o[r]=arguments[r];return(t=n=S(this,(e=P.__proto__||Object.getPrototypeOf(P)).call.apply(e,[this].concat(o)))).state={},n.onConfirm=function(){n.props.doAddEmail&&n.props.doAddEmail()},n.onClose=function(){n.props.closeEmailRequiredDialog&&n.props.closeEmailRequiredDialog()},S(n,t)}t.default=N},function(e,t){e.exports={content:"content_2hX3k17u","button-close":"button-close_2CXdjA3t",head:"head_2CWAHYJP",link:"link_1ngpa4Lx",body:"body_3qEmSGQN",description:"description_1TLO8mzS",items:"items_3j9YBaDI",item:"item_BB8lpUWX",foot:"foot_33gBn0GV","button-ok":"button-ok_2HEPGnWz"}},function(e,t){e.exports={text_prefix:"text_prefix_2PeQ",text_suffix:"text_suffix_xT36",link_fill:"link_fill_Yj9F",description:"description_1hDP",item_post_job:"item_post_job_2_NU",item_post_article:"item_post_article_1ANi",item_post_showcase:"item_post_showcase_TEju",item_post_game:"item_post_game_1-HS",item_create_company:"item_create_company_1QNo",item_create_school:"item_create_school_2CYU",item_create_chat:"item_create_chat_2_tZ",item_other:"item_other_2LjZ",button_ok:"button_ok_35US"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=C(["messages.users"],["messages.users"]),i=C(["messages.bubbleMessages.messagesQueue"],["messages.bubbleMessages.messagesQueue"]),l=C(["messages.bubbleMessages.messageToReply"],["messages.bubbleMessages.messageToReply"]),c=C(["messages.bubbleMessages.messageToReplyStatus"],["messages.bubbleMessages.messageToReplyStatus"]),u=C(["messages.bubbleTryToReplyMessage"],["messages.bubbleTryToReplyMessage"]),d=C(["messages.bubbleReplyMessage"],["messages.bubbleReplyMessage"]),p=C(["messages.bubbleCloseMessage"],["messages.bubbleCloseMessage"]),f=E(n(2)),b=E(n(1)),h=E(n(3)),m=n(5),_=n(0),y=E(n(16)),w=n(7),g=E(n(4)),v=E(n(310)),j=E(n(6)),k=E(n(311));function E(e){return e&&e.__esModule?e:{default:e}}function C(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var S=(0,m.decorator)({users:(0,_.state)(s),messagesQueue:(0,_.state)(i),messageToReply:(0,_.state)(l),messageToReplyStatus:(0,_.state)(c),bubbleTryToReplyMessage:(0,_.signal)(u),bubbleReplyMessage:(0,_.signal)(d),bubbleCloseMessage:(0,_.signal)(p)})(a=(0,g.default)(v.default)(a=(0,j.default)(k.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(O,h.default),o(O,[{key:"componentDidUpdate",value:function(e){var t,n,a=e.messagesQueue,o=e.messageToReply,r=e.messageToReplyStatus,s=this.props,i=s.messagesQueue,l=s.messageToReply,c=s.messageToReplyStatus,u=s.bubbleCloseMessage,d=!1;l!==o?(this._messageToReplyTimeout&&(clearTimeout(this._messageToReplyTimeout),this._messageToReplyTimeout=null),d=!0):c!==r&&(d=!0),d&&null!==l&&["succeeded","failed"].includes(c)&&(this._messageToReplyTimeout&&(clearTimeout(this._messageToReplyTimeout),this._messageToReplyTimeout=null),t=l.id,this._messageToReplyTimeout=setTimeout(function(){return u({messageIds:[t]})},(0,w.isSucceeded)(c)?2e3:1e4)),i!==a&&(this._messagesQueueTimeout&&(clearTimeout(this._messagesQueueTimeout),this._messagesQueueTimeout=null),i.length&&(n=i.map(function(e){return e.id}),this._messagesQueueTimeout=setTimeout(function(){return u({messageIds:n})},1e4)))}},{key:"onKeyDown",value:function(e){e.stopPropagation();var t,n,a=e.keyCode,o=e.target;13===a&&(t=this.props.messageToReply,n=this.props.bubbleReplyMessage,t&&""!==o.value&&n({messageId:t.id,content:o.value}))}},{key:"render",value:function(){var n=this,e=this.props,t=e.messagesQueue,a=e.messageToReply,o=e.messageToReplyStatus,r=e.users,s=this.props,i=s.bubbleTryToReplyMessage,l=s.bubbleCloseMessage;if(!t.length&&!a)return null;var c,u,d,p,f,h,m,_,g,v=[];return a&&((0,w.isSucceeded)(o)?v.push(b.default.createElement("div",{key:"replySucceeded",className:this.ss("reply-succeeded")},b.default.createElement("div",{className:this.ss("success-logo","ifont","ifont-selected")}),b.default.createElement("div",{className:this.ss("success-hint")},this.__("success_hint")),b.default.createElement("a",{href:"/messages/c/"+a.channelId,target:"_blank",className:this.ss("to-messenger")},this.__("to_messenger")),b.default.createElement("div",{className:this.ss("close-btn","ifont","ifont-icon-close"),onClick:function(){return l({messageIds:[a.id]})}}))):(c=r[a.authorId],u=a.contentParsedPlainText,a.attachments.forEach(function(e){""!==u&&(u+="\n"),u+=e.contentType.startsWith("image/")?n.__("image"):n.__("attachment")}),v.push(b.default.createElement("div",{key:"messageToReply",className:this.ss("message-to-reply")},b.default.createElement("div",{className:this.ss("close-btn","ifont","ifont-icon-close"),onClick:function(){return l({messageIds:[a.id]})}}),b.default.createElement("div",{className:this.ss("bubble-header"),onClick:function(){return window.open("/messages/c/"+a.channelId,"_blank")}},b.default.createElement("div",{className:this.ss("avatar-wrapper")},b.default.createElement(y.default,{user:c,size:"xsmall"})),b.default.createElement("div",{className:this.ss("desc-wrapper")},b.default.createElement("a",{className:this.ss("user-name")},c.fullname),b.default.createElement("div",{className:this.ss("timestamp")},this.__("message_time",{time:a.timestamp})))),b.default.createElement("div",{className:this.ss("message-content")},u),""===o&&b.default.createElement("div",{className:this.ss("input-wrapper")},b.default.createElement("input",{className:this.ss("message-input"),onKeyDown:function(e){return n.onKeyDown(e)},placeholder:this.__("message_hint",{name:c.fullname})})),(0,w.isLoading)(o)&&b.default.createElement("div",{className:this.ss("sending")},b.default.createElement("span",{className:this.ss("sending-inner")})),"failed"===o&&b.default.createElement("a",{href:"/messages/c/"+a.channelId,target:"_blank",className:this.ss("to-messenger")},this.__("to_messenger")))))),a||1!==t.length?t.length&&(d={},p=[],t.forEach(function(e){d[e.authorId]||(d[e.authorId]=1,p.push(r[e.authorId].fullname))}),3<p.length&&(p=p.slice(0,2).concat([this.__("other_people",{count:p.length-2})])),f="",p.forEach(function(e,t){0<t&&t===p.length-1?f+=n.__("and"):0<t&&(f+=", "),f+=e}),h=this.__("message_summary",{messagesCount:t.length,usersStr:f}),v.push(b.default.createElement("div",{key:"messagesSummary",className:this.ss("messages-summary")},b.default.createElement("div",{className:this.ss("bubble-header")},b.default.createElement("span",{className:this.ss("close-btn","ifont","ifont-icon-close"),onClick:function(){return l({messageIds:t.map(function(e){return e.id})})}})),b.default.createElement("div",{className:this.ss("message-content")},h),b.default.createElement("a",{href:"/messages/c/"+t[t.length-1].channelId,target:"_blank",className:this.ss("to-messenger")},this.__("to_messenger"))))):(m=t[0],_=r[m.authorId],g=m.contentParsedPlainText,m.attachments.forEach(function(e){""!==g&&(g+="\n"),g+=e.contentType.startsWith("image/")?n.__("image"):n.__("attachment")}),v.push(b.default.createElement("div",{key:"messageToReply",className:this.ss("message-to-reply")},b.default.createElement("div",{className:this.ss("close-btn","ifont","ifont-icon-close"),onClick:function(){return l({messageIds:[m.id]})}}),b.default.createElement("div",{className:this.ss("bubble-header"),onClick:function(){return window.open("/messages/c/"+m.channelId,"_blank")}},b.default.createElement("div",{className:this.ss("avatar-wrapper")},b.default.createElement(y.default,{user:_,size:"xsmall"})),b.default.createElement("div",{className:this.ss("desc-wrapper")},b.default.createElement("div",{className:this.ss("user-name")},_.fullname),b.default.createElement("div",{className:this.ss("timestamp")},this.__("message_time",{time:m.timestamp})))),b.default.createElement("div",{className:this.ss("message-content")},g),b.default.createElement("div",{className:this.ss("input-wrapper")},b.default.createElement("input",{className:this.ss("message-input"),onFocus:function(){return i({messageId:m.id})},placeholder:this.__("message_hint",{name:_.fullname})}))))),b.default.createElement("div",{className:this.ss("bubble-wrapper")},v)}}]),O.propTypes={users:f.default.object,messagesQueue:f.default.array,messageToReply:f.default.object,messageToReplyStatus:f.default.string,bubbleTryToReplyMessage:f.default.func,bubbleReplyMessage:f.default.func,bubbleCloseMessage:f.default.func},a=O))||a)||a)||a;function O(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,O),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}t.default=S},function(e,t){e.exports={"bubble-wrapper":"bubble-wrapper_1ljdZiWC","messages-summary":"messages-summary_r3i0_hZv","message-to-reply":"message-to-reply_2QwgigXQ","reply-succeeded":"reply-succeeded_VSJ_OUxi","bubble-header":"bubble-header_37GysP6F","desc-wrapper":"desc-wrapper_2rDkUVWU","user-name":"user-name_KZ-pmf8n",timestamp:"timestamp_22lOm9xw","close-btn":"close-btn_1zBa3TNi","message-content":"message-content_22M9kLb8","input-wrapper":"input-wrapper_26EcdLy8","message-input":"message-input_1Q2DUdHR","to-messenger":"to-messenger_h1dI_7cb","success-logo":"success-logo_3-a8chgy","success-hint":"success-hint_2ERFlWxi",sending:"sending_3HcaI_dO",spinner:"spinner_3EKJua4G","sending-inner":"sending-inner_3kGmIJQ6","animation-loading":"animation-loading_2trKxt4o"}},function(e,t){e.exports={message_hint:"message_hint_3V1i",success_hint:"success_hint_2s22",message_time:"message_time_2TI1",to_messenger:"to_messenger_1vCn",and:"and_mXsJ",other_people:"other_people_qZhL",message_summary:"message_summary_3ZDY",image:"image_3Z_0",attachment:"attachment_1ZYm"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=k(["loginUser"],["loginUser"]),i=k(["loginUser.expiredJobs"],["loginUser.expiredJobs"]),l=w(n(2)),c=w(n(1)),u=w(n(3)),d=n(5),p=n(0),f=w(n(49)),h=w(n(17)),m=w(n(20)),_=w(n(13)),g=w(n(4)),v=w(n(313)),b=w(n(6)),y=w(n(314));function w(e){return e&&e.__esModule?e:{default:e}}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function k(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var E=(0,d.decorator)({loginUser:(0,p.state)(s),expiredJobs:(0,p.state)(i)})(a=(0,g.default)(v.default)(a=(0,b.default)(y.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(C,u.default),o(C,[{key:"onRemind",value:function(){this.close()}},{key:"onManage",value:function(){this.close(),location.href="/my/jobs?type=closed"}},{key:"onOpenJob",value:function(e){f.default.set("EJ",this.props.loginUser.id+"=skip"),window.open("/jobs/"+e)}},{key:"close",value:function(){f.default.set("EJ",this.props.loginUser.id+"=skip"),this.setState({show:!1})}},{key:"renderItem",value:function(e,t){var n=this,a=null;return"freelance"===t.jobType&&(a=c.default.createElement("span",{className:this.ss("tag-task")},this.__("tag_task"))),c.default.createElement("div",{key:e,className:this.ss("item")},c.default.createElement("div",{className:this.ss("item-title")},c.default.createElement("a",{onClick:function(){return n.onOpenJob(t.id)}},t.title),a),c.default.createElement("div",{className:this.ss("company-name")},t.teamName))}},{key:"render",value:function(){var n=this,e=this.props.expiredJobs;if(!e||0===e.length)return null;var t=(e||[]).map(function(e,t){return n.renderItem(t,e)});return c.default.createElement(m.default,{open:this.state.show,className:this.ss("dialog"),position:"center",title:this.__("title")},c.default.createElement("div",{className:this.ss("content-wrap")},c.default.createElement("div",{className:this.ss("header")},c.default.createElement("div",{className:this.ss("title")},this.__("title")),c.default.createElement("div",{className:this.ss("close","ifont","ifont-icons_close","icon-close"),onClick:function(){return n.onRemind()}})),c.default.createElement(h.default,null,c.default.createElement("div",{className:this.ss("content")},c.default.createElement("div",{className:this.ss("note")},this.__("note",{count:e.length})),c.default.createElement("div",{className:this.ss("list")},t))),c.default.createElement("div",{className:this.ss("button-wrap")},c.default.createElement(_.default,{className:this.ss("btn","btn--remind"),label:this.__("btn_remind"),onClick:function(){return n.onRemind()}}),c.default.createElement(_.default,{theme:"thirdly",className:this.ss("btn","btn--manage"),label:this.__("btn_manage"),onClick:function(){return n.onManage()}}))))}}]),C.propTypes={loginUser:l.default.object,expiredJobs:l.default.array},a=C))||a)||a)||a;function C(){var e,t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,C);for(var a=arguments.length,o=Array(a),r=0;r<a;r++)o[r]=arguments[r];return(t=n=j(this,(e=C.__proto__||Object.getPrototypeOf(C)).call.apply(e,[this].concat(o)))).state={show:n.props.expiredJobs&&0<n.props.expiredJobs.length},j(n,t)}t.default=E},function(e,t){e.exports={btn:"btn_uzkPBq-V","btn--remind":"btn--remind_1YJzNH7U",dialog:"dialog_1hD8_PnF","content-wrap":"content-wrap_H_jGcy5r",header:"header_xq_gZ-Xe",title:"title_2u_X5r_F","icon-close":"icon-close_2A7S_1D4",content:"content_1MksersL",note:"note_32izEHqr",list:"list_1a2dP0YD",item:"item_1YWUBQQM","item-title":"item-title_3kmzZr20","company-name":"company-name_2leXbCl-","tag-task":"tag-task_3_UKP4ad","button-wrap":"button-wrap_2HNYMzWc"}},function(e,t){e.exports={title:"title_2imo",note:"note_Rl6s",btn_remind:"btn_remind_1m1q",btn_manage:"btn_manage_2x23",tag_task:"tag_task_fA30"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=M(["currentPath"],["currentPath"]),i=M(["loginUser"],["loginUser"]),l=M(["messages.channels"],["messages.channels"]),c=M(["messages.call.ringing"],["messages.call.ringing"]),u=M(["messages.call.callInfo"],["messages.call.callInfo"]),d=M(["messages.users"],["messages.users"]),p=M(["messages.sessionId"],["messages.sessionId"]),f=M(["messages.window.isMaster"],["messages.window.isMaster"]),h=M(["messages.createCall"],["messages.createCall"]),m=M(["messages.declineCall"],["messages.declineCall"]),_=M(["messages.channelSelect"],["messages.channelSelect"]),g=T(n(2)),v=T(n(1)),b=T(n(3)),y=n(5),w=n(0),j=T(n(19)),k=T(n(16)),E=T(n(4)),C=T(n(316)),S=T(n(6)),O=T(n(317)),N=T(n(159)),P=T(n(160));function T(e){return e&&e.__esModule?e:{default:e}}function M(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var x=(0,y.decorator)({currentPath:(0,w.state)(s),loginUser:(0,w.state)(i),channels:(0,w.state)(l),ringing:(0,w.state)(c),callInfo:(0,w.state)(u),users:(0,w.state)(d),sessionId:(0,w.state)(p),windowIsMaster:(0,w.state)(f),createCall:(0,w.signal)(h),declineCall:(0,w.signal)(m),channelSelect:(0,w.signal)(_)})(a=(0,E.default)(C.default)(a=(0,S.default)(O.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(R,b.default),o(R,[{key:"needsIncomingRing",value:function(){var e=this.props,t=e.ringing,n=e.windowIsMaster;return!!t.length&&!!n}},{key:"needsOutgoingRing",value:function(){var e=this.props,t=e.callInfo,a=e.sessionId,o=e.loginUser;return!!Object.values(t).find(function(t){if(t[o.id]&&1<Object.values(t).length&&t[o.id].sessionId===a&&t[o.id].isFirst){var n=0;return Object.keys(t).forEach(function(e){e!==o.id&&"RINGING"!==t[e].status||(n+=1)}),n===Object.values(t).length}return!1})}},{key:"acceptCall",value:function(e,t){var n=this.props,a=n.currentPath,o=n.createCall,r=n.channelSelect;a.startsWith("/messages")?(o({channelId:e}),r({channelId:e,workspaceId:t})):(0,j.default)("/messages/c/"+e)}},{key:"render",value:function(){var r=this,e=this.props,s=e.users,t=e.ringing,i=e.declineCall,l=e.channels;return v.default.createElement("div",{className:this.ss("container")},t.map(function(e){var t=e.channelId,n=e.fromUserId,a=s[n],o=l[t];return v.default.createElement("div",{key:t,className:r.ss("call-inform","show")},v.default.createElement("div",{className:r.ss("title")},r.__("title")),a&&v.default.createElement("div",{className:r.ss("avatar-wrapper")},v.default.createElement(k.default,{user:a,size:"large"}),v.default.createElement("div",{className:r.ss("circle")},v.default.createElement("div",{className:r.ss("point")}))),a&&v.default.createElement("div",{className:r.ss("status")},r.__("making_call",{fullname:a.fullname})),v.default.createElement("div",{className:r.ss("buttons")},v.default.createElement("div",{className:r.ss("accept-btn"),onClick:function(){return r.acceptCall(t,o.workspaceId)}},r.__("accept_btn_label")),v.default.createElement("div",{className:r.ss("decline-btn"),onClick:function(){return i({channelId:t})}},r.__("decline_btn_label"))))}),this.needsIncomingRing()&&v.default.createElement("audio",{src:N.default,autoPlay:!0,loop:!0}),this.needsOutgoingRing()&&v.default.createElement("audio",{src:P.default,autoPlay:!0,loop:!0}))}}]),R.propTypes={currentPath:g.default.string,loginUser:g.default.object,channels:g.default.object,ringing:g.default.array,callInfo:g.default.object,users:g.default.object,sessionId:g.default.string,windowIsMaster:g.default.bool,createCall:g.default.func,declineCall:g.default.func,channelSelect:g.default.func},a=R))||a)||a)||a;function R(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,R),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}t.default=x},function(e,t){e.exports={container:"container_315YV4jY","call-inform":"call-inform_1quSUqmO",show:"show_1TOrhKUJ",buttons:"buttons_ZZB2pd5w","accept-btn":"accept-btn_2bfyCr0R","decline-btn":"decline-btn_LTgY0ZrQ",title:"title_1lxMcSqH",status:"status_1G3xaugZ","avatar-wrapper":"avatar-wrapper_2B1EeYaS",circle:"circle_2oTzXmUM","call-rotate":"call-rotate_vEZm0UQm",point:"point_1m6f5jan"}},function(e,t){e.exports={title:"title_PAN6",making_call:"making_call_1ANy",accept_btn_label:"accept_btn_label_1ani",decline_btn_label:"decline_btn_label_cgGc"}},function(e,t){e.exports={"content-wrap":"content-wrap_2BVvXVFj",content:"content_1t0tE2rR",title:"title_1TLkYxHM","description-top":"description-top_1jjQRxCK","description-bottom":"description-bottom_1F2ScTJr","post-later":"post-later_3MZQ5in-","type-cards":"type-cards_2_LGOyRy",card:"card_1dBBoTqX",game:"game_11cXBfbg","card-icon":"card-icon_3fW2lqKE",article:"article_sLKK9hOz",showcase:"showcase_1tABhI1E","card-title":"card-title_3GfeVIY-","card-description":"card-description_1eAKFUq8","card-button":"card-button_2b7HYOjw","webgl-cards":"webgl-cards_21HUOqFt",icon:"icon_2tJ8uuhA",webgl:"webgl_3oBVHPg2",hide:"hide_PWWSLJUC",notice:"notice_2usEkPgI","notice-info":"notice-info_nl_AR3Ta","notice-title":"notice-title_1xeXA-tu","notice-description":"notice-description_3m9bllep","notice-button":"notice-button_1iu4SOc2",button:"button_3nnMOXQl"}},function(e,t){e.exports={title:"title_d0Lr",title_game_select:"title_game_select_1VDV",description_top:"description_top_Alsm",description_bottom:"description_bottom_2MVi",description_game_select:"description_game_select_4n-D",return_to_main:"return_to_main_b570",article_title:"article_title_3fFx",article_description:"article_description_3jl5",article_create_button:"article_create_button_3tzm",game_title:"game_title_26v0",game_description:"game_description_1A4B",game_create_button:"game_create_button_1uay",showcase_title:"showcase_title_2hti",showcase_description:"showcase_description_3r7v",showcase_create_button:"showcase_create_button_28WK",notice_title:"notice_title_24c8",notice_description:"notice_description_2LzL",button_ok:"button_ok_O190",select_webgl_title:"select_webgl_title_1h63",select_webgl_description:"select_webgl_description_3bEe",select_webgl_post:"select_webgl_post_2dT_",select_game_title:"select_game_title_3NZC",select_game_description:"select_game_description_3ONl",select_game_post:"select_game_post_2Tb6"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=v(["currentPath"],["currentPath"]),i=v(["homeType"],["homeType"]),l=g(n(2)),c=g(n(1)),u=g(n(3)),d=n(5),p=n(0),f=g(n(4)),h=g(n(321)),m=g(n(6)),_=g(n(322));function g(e){return e&&e.__esModule?e:{default:e}}function v(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var b=(0,d.decorator)({currentPath:(0,p.state)(s),homeType:(0,p.state)(i)})(a=(0,f.default)(h.default)(a=(0,m.default)(_.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(y,u.default),o(y,[{key:"isActive",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:"/",a=this.props,o=a.currentPath,r=void 0===o?"/":o,s=a.homeType;if(n===r)return!0;var i=n.split("?");return 1<i.length&&i[0]===r&&"/"===i[0]&&e===s}},{key:"renderNew",value:function(){return c.default.createElement("div",{className:this.ss("new")},this.__("new"))}},{key:"render",value:function(){var r=this,e=this.props.onClose,t=[{id:"groups",icon:"icons-group",link:"/groups/discover"},{id:"hottest",icon:"hot",link:"/?path=hottest"},{id:"feed",icon:"icons-feed",link:"/?path=feed"},{id:"connections",icon:"icons-connection",link:"/connections"},{id:"projects",icon:"icons-project",link:"/p"},{id:"jobs",icon:"icons-job",link:"/jobs"},{id:"recruit",icon:"icons-recruit",link:"/my/jobs"},{id:"talents",icon:"icons-talent",link:"/search?t=user"},{id:"companies",icon:"icons-company-v2",link:"/search?t=team"},{id:"schools",icon:"icons-school",link:"/search?t=school"},{id:"channels",icon:"icons-channel",link:"/search?t=channel"},{id:"contests",icon:"icons-contest",link:"/showcases"},{id:"events",icon:"icons_calendar",link:"/events"}].map(function(e){var t=e.id,n=e.icon,a=e.link,o=e.renderChild;return c.default.createElement("a",{key:"menu_"+t,className:r.ss("menu",r.isActive(t,a)&&"active"),href:a},c.default.createElement("div",{className:r.ss("icons-wrapper",t)},c.default.createElement("div",{className:r.ss("icons","ifont","ifont-"+n)})),c.default.createElement("div",{className:r.ss("text")},r.__(t)),o&&o())});return c.default.createElement("div",{className:this.ss("mobile-menu")},c.default.createElement("div",{className:this.ss("close-wrapper")},c.default.createElement("div",{className:this.ss("icon-close","ifont","ifont-icon-close2"),onClick:function(){return e&&e()}})),c.default.createElement("div",{className:this.ss("scroller-wrapper")},c.default.createElement("div",{className:this.ss("scroller")},t)))}}]),y.propTypes={currentPath:l.default.string,homeType:l.default.string,onClose:l.default.func},a=y))||a)||a)||a;function y(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}t.default=b},function(e,t){e.exports={"mobile-menu":"mobile-menu_1dgGzNED","scroller-wrapper":"scroller-wrapper_2CGwELGx",scroller:"scroller_MizhnjwE","close-wrapper":"close-wrapper_2lLZPl57","icon-close":"icon-close_1Im3ux6C",menu:"menu_2T9H78zH",active:"active_13E7sSc2","icons-wrapper":"icons-wrapper_1AZKmhWm",hottest:"hottest_3KOVWtcA",icons:"icons_2NSk762E",feed:"feed_P__CBzPI",connections:"connections_3wWt19w6",projects:"projects_1wg-qij8",jobs:"jobs_xOVhZD9C",recruit:"recruit_385HuvCO",talents:"talents_1eRxbcLQ",companies:"companies_h_G2yeyM",schools:"schools_1Ug8zj56",channels:"channels_3ABmr6nf",contests:"contests_3XNnJRG1",events:"events_3YdEfqAL",groups:"groups_2na6kppb",text:"text_30T1BGhi","icons-arrow":"icons-arrow_3ZaR5_dq",new:"new_1FiF0PTY"}},function(e,t){e.exports={hottest:"hottest_33cV",feed:"feed_2wgt",connections:"connections_1KT8",projects:"projects_nqMW",jobs:"jobs_9HtD",recruit:"recruit_1rqf",discover:"discover_XiC_",talents:"talents_2NZg",companies:"companies_1V3V",schools:"schools_3Rll",channels:"channels_3433",contests:"contests_2DWo",events:"events_HkZ-",new:"new_381A"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=k(["liveHelpEnabled"],["liveHelpEnabled"]),i=k(["header.loginTo"],["header.loginTo"]),l=k(["loginUser"],["loginUser"]),c=k(["currentPath"],["currentPath"]),u=k(["header.sendCDPRequest"],["header.sendCDPRequest"]),d=j(n(2)),p=j(n(1)),f=j(n(3)),h=n(5),m=n(0),_=j(n(68)),g=j(n(69)),v=j(n(4)),b=j(n(325)),y=j(n(6)),w=j(n(326));function j(e){return e&&e.__esModule?e:{default:e}}function k(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var E=(0,h.decorator)({liveHelpEnabled:(0,m.state)(s),loginTo:(0,m.signal)(i),loginUser:(0,m.state)(l),currentPath:(0,m.state)(c),sendCDPRequest:(0,m.signal)(u)})(a=(0,v.default)(b.default)(a=(0,y.default)(w.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(C,f.default),o(C,[{key:"onMenuClick",value:function(e,t,n){var a=2<arguments.length&&void 0!==n&&n,o={menuType:"discover",subtype:e};this.props.sendCDPRequest({type:"menu",data:o,redirectUrl:t,loginRequired:a})}},{key:"getItems",value:function(){var e=this,t=this.props,n=t.liveHelpEnabled,a=(t.loginUser||{}).myGroups,o=a&&0<a.length?"/groups":"/groups/discover";return[{key:"groups",text:this.__("menu_groups"),menuPath:o,onClick:function(){return e.onMenuClick("groups",o)}},{key:"talents",text:this.__("menu_talents"),menuPath:"/search?t=user",onClick:function(){return e.onMenuClick("talents","/search?t=user")}},{key:"live_help",text:this.__("menu_live_help"),menuPath:"livehelp",onClick:function(){return e.onMenuClick("live_help",(0,g.default)("/"))},disable:!n},{key:"companies",text:this.__("menu_companies"),menuPath:"/search?t=team",onClick:function(){return e.onMenuClick("companies","/search?t=team")}},{key:"schools",text:this.__("menu_schools"),menuPath:"/search?t=school",onClick:function(){return e.onMenuClick("schools","/search?t=school")}},{key:"channels",text:this.__("menu_channels"),menuPath:"/search?t=channel",onClick:function(){return e.onMenuClick("channels","/search?t=channel")}},{key:"showcases",text:this.__("menu_challenges"),menuPath:"/showcases",onClick:function(){return e.onMenuClick("showcases","/showcases")}},{key:"events",text:this.__("menu_events"),menuPath:"/events",onClick:function(){return e.onMenuClick("events","/events")}},{key:"connections",text:this.__("menu_connections"),menuPath:"/connections",onClick:function(){return e.onMenuClick("connections","/connections",!0)}}]}},{key:"render",value:function(){var e=this.props,t=e.liveHelpEnabled,n=e.currentPath,a=t,o=this.getItems(),r=!1;return-1<o.findIndex(function(e){return(e.menuPath||"").startsWith(n)})&&"/"!==n&&(r=!0),p.default.createElement("div",{className:this.ss("first-menu")},p.default.createElement("div",{className:this.ss("icon-wrapper",r&&"active")},this.__("menu_text"),a&&p.default.createElement("div",{className:this.ss("new")})),p.default.createElement("div",{className:this.ss("menu-wrap")},p.default.createElement(_.default,{items:o,parent:this,showNew:a})))}}]),C.propTypes={liveHelpEnabled:d.default.bool,loginTo:d.default.func,loginUser:d.default.object,currentPath:d.default.string,sendCDPRequest:d.default.func},a=C))||a)||a)||a;function C(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,C),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}t.default=E},function(e,t){e.exports={menu:"menu_3Un9Sv1K",items:"items_39qFc7hq",item:"item_1xCevqmY",new:"new_21i4obQF"}},function(e,t){e.exports={"first-menu":"first-menu_1dZys_oJ","menu-wrap":"menu-wrap_2w_GvYUd","icon-wrapper":"icon-wrapper_1pBRZHJ-",new:"new_3WCHE6sp",active:"active_1tql8CqI",icon:"icon_hUyv3gXn"}},function(e,t){e.exports={menu_text:"menu_text_wEJ_",menu_talents:"menu_talents_1Xiu",menu_companies:"menu_companies_3-5s",menu_schools:"menu_schools_2Pd6",menu_channels:"menu_channels_3aJ2",menu_challenges:"menu_challenges_3gxS",menu_events:"menu_events_10pt",menu_groups:"menu_groups_uHt2",menu_live_help:"menu_live_help_2YFt",menu_connections:"menu_connections_2THa",new:"new_2F_U"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=y(["currentPath"],["currentPath"]),i=y(["header.loginTo"],["header.loginTo"]),l=y(["header.sendCDPRequest"],["header.sendCDPRequest"]),c=b(n(2)),u=b(n(1)),d=b(n(3)),p=n(5),f=n(0),h=b(n(68)),m=b(n(4)),_=b(n(328)),g=b(n(6)),v=b(n(329));function b(e){return e&&e.__esModule?e:{default:e}}function y(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var w=(0,p.decorator)({currentPath:(0,f.state)(s),loginTo:(0,f.signal)(i),sendCDPRequest:(0,f.signal)(l)})(a=(0,m.default)(_.default)(a=(0,g.default)(v.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(j,d.default),o(j,[{key:"onMenuClick",value:function(e,t){var n={menuType:"projects",subtype:e};this.props.sendCDPRequest({type:"menu",data:n,redirectUrl:t})}},{key:"getItems",value:function(){var e=this;return[{key:"articles",text:this.__("menu_articles"),menuPath:"/p?orderBy=trending:w&projectType=article",onClick:function(){return e.onMenuClick("articles","/p?orderBy=trending:w&projectType=article")}},{key:"showcases",text:this.__("menu_showcases"),menuPath:"/p?orderBy=trending:w&projectType=showcase",onClick:function(){return e.onMenuClick("showcases","/p?orderBy=trending:w&projectType=showcase")}},{key:"games",text:this.__("menu_games"),menuPath:"/p?orderBy=trending:w&projectType=game",onClick:function(){return e.onMenuClick("games","/p?orderBy=trending:w&projectType=game")}}]}},{key:"render",value:function(){var t=this.props.currentPath,e=this.getItems(),n=!1;return-1<e.findIndex(function(e){return(e.menuPath||"").startsWith(t)})&&"/"!==t&&(n=!0),u.default.createElement("div",{className:this.ss("first-menu")},u.default.createElement("div",{className:this.ss("icon-wrapper",n&&"active")},this.__("menu_text"),!1),u.default.createElement("div",{className:this.ss("menu-wrap")},u.default.createElement(h.default,{items:e,parent:this})))}}]),j.propTypes={currentPath:c.default.string,loginTo:c.default.func,sendCDPRequest:c.default.func},a=j))||a)||a)||a;function j(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,j),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(j.__proto__||Object.getPrototypeOf(j)).apply(this,arguments))}t.default=w},function(e,t){e.exports={"first-menu":"first-menu_1xVg9hNy","menu-wrap":"menu-wrap_3QAHkrqg","icon-wrapper":"icon-wrapper_TPumiF4f",new:"new_1KzOOxW5",active:"active_1ovO-_rv",icon:"icon_khaSjY70"}},function(e,t){e.exports={menu_text:"menu_text_3UHi",menu_articles:"menu_articles_3_FH",menu_showcases:"menu_showcases_TFgY",menu_games:"menu_games_2gEq",new:"new_15kr"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=y(["currentPath"],["currentPath"]),i=y(["header.postJob"],["header.postJob"]),l=y(["header.sendCDPRequest"],["header.sendCDPRequest"]),c=b(n(2)),u=b(n(1)),d=b(n(3)),p=n(5),f=n(0),h=b(n(68)),m=b(n(4)),_=b(n(331)),g=b(n(6)),v=b(n(332));function b(e){return e&&e.__esModule?e:{default:e}}function y(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var w=(0,p.decorator)({currentPath:(0,f.state)(s),postJob:(0,f.signal)(i),sendCDPRequest:(0,f.signal)(l)})(a=(0,m.default)(_.default)(a=(0,g.default)(v.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(j,d.default),o(j,[{key:"onMenuClick",value:function(e,t){var n={menuType:"jobs",subtype:e};this.props.sendCDPRequest({type:"menu",data:n,redirectUrl:t})}},{key:"getItems",value:function(){var e=this,t=this.props.postJob;return[{key:"search_jobs",text:this.__("menu_search_jobs"),onClick:function(){return e.onMenuClick("search_jobs","/jobs")}},{key:"post_jobs",text:this.__("menu_post_jobs"),otherClassName:["GA_btn_header_postJob"],onClick:function(){return t({source:"header"})}},{key:"manage_jobs",text:this.__("menu_manage_jobs"),onClick:function(){return e.onMenuClick("manage_jobs","/my/jobs")}}]}},{key:"render",value:function(){var e=this.props.currentPath,t=this.getItems(),n="/jobs"===e||"/jobs/0/resume"===e||"/my/jobs"===e;return u.default.createElement("div",{className:this.ss("first-menu")},u.default.createElement("div",{className:this.ss("icon-wrapper",n&&"active")},this.__("menu_text"),!1),u.default.createElement("div",{className:this.ss("menu-wrap")},u.default.createElement(h.default,{items:t,parent:this})))}}]),j.propTypes={currentPath:c.default.string,postJob:c.default.func,sendCDPRequest:c.default.func},a=j))||a)||a)||a;function j(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,j),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(j.__proto__||Object.getPrototypeOf(j)).apply(this,arguments))}t.default=w},function(e,t){e.exports={"first-menu":"first-menu_1sbJSQP5","menu-wrap":"menu-wrap_3skhSRHM","icon-wrapper":"icon-wrapper_w3sd7Klr",new:"new_1eh48EQR",active:"active_GCZUtISb",icon:"icon_3GfX46ip"}},function(e,t){e.exports={menu_text:"menu_text_19ez",menu_search_jobs:"menu_search_jobs_3bh-",menu_post_jobs:"menu_post_jobs_Vv2L",menu_manage_jobs:"menu_manage_jobs_30Ob"}},function(e,t){e.exports={"first-menu":"first-menu_39LZCCai","menu-wrap":"menu-wrap_3ETLHqkJ","icon-wrapper":"icon-wrapper_1HFj8ixK",new:"new_1jqEHjm1",active:"active_fhEpatfC",icon:"icon_2CzHv9Vd"}},function(e,t){e.exports={menu_text:"menu_text_3Gg6",discover:"discover_3va7"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=Q(["header.createGroupDialog.show"],["header.createGroupDialog.show"]),i=Q(["header.createGroupDialog.form"],["header.createGroupDialog.form"]),l=Q(["header.createGroupDialog.updateStatus"],["header.createGroupDialog.updateStatus"]),c=Q(["header.groupCategory"],["header.groupCategory"]),u=Q(["header.languageOptions"],["header.languageOptions"]),d=Q(["header.createGroupDialog.isEdit"],["header.createGroupDialog.isEdit"]),p=Q(["header.createGroupDialog.skillMap"],["header.createGroupDialog.skillMap"]),f=Q(["loginUser"],["loginUser"]),h=Q(["header.recaptchaCode"],["header.recaptchaCode"]),m=Q(["header.groupBaseDataStatus"],["header.groupBaseDataStatus"]),_=Q(["header.closeCreateGroupDialog"],["header.closeCreateGroupDialog"]),g=Q(["header.changeGroupAvatar"],["header.changeGroupAvatar"]),v=Q(["header.changeGroupName"],["header.changeGroupName"]),b=Q(["header.changeGroupCategory"],["header.changeGroupCategory"]),y=Q(["header.changeDescription"],["header.changeDescription"]),w=Q(["header.changePrivacy"],["header.changePrivacy"]),j=Q(["header.changeLicense"],["header.changeLicense"]),k=Q(["header.createGroup"],["header.createGroup"]),E=Q(["header.showMessage"],["header.showMessage"]),C=Q(["header.changeLanguage"],["header.changeLanguage"]),S=Q(["header.addTag"],["header.addTag"]),O=Q(["header.deleteTag"],["header.deleteTag"]),N=Z(n(2)),P=Z(n(1)),T=Z(n(3)),M=n(5),x=n(0),R=Z(n(37)),I=Z(n(28)),D=Z(n(44)),A=Z(n(137)),L=n(7),U=Z(n(336)),W=Z(n(17)),z=Z(n(57)),H=Z(n(45)),q=n(11),F=Z(n(128)),B=Z(n(4)),G=Z(n(342)),K=n(6),V=Z(K),J=Z(n(343)),Y=Z(n(344));function Z(e){return e&&e.__esModule?e:{default:e}}function Q(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var X=(0,M.decorator)({show:(0,x.state)(s),form:(0,x.state)(i),updateStatus:(0,x.state)(l),categoryOptions:(0,x.state)(c),languageOptions:(0,x.state)(u),isEdit:(0,x.state)(d),skillMap:(0,x.state)(p),loginUser:(0,x.state)(f),recaptchaCode:(0,x.state)(h),getGroupOptionsStatus:(0,x.state)(m),onClose:(0,x.signal)(_),changeGroupAvatar:(0,x.signal)(g),changeGroupName:(0,x.signal)(v),changeGroupCategory:(0,x.signal)(b),changeDescription:(0,x.signal)(y),changePrivacy:(0,x.signal)(w),changeLicense:(0,x.signal)(j),createGroup:(0,x.signal)(k),showMessage:(0,x.signal)(E),changeLanguage:(0,x.signal)(C),addTag:(0,x.signal)(S),deleteTag:(0,x.signal)(O)})(a=(0,B.default)(G.default)(a=(0,V.default)(J.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}($,T.default),o($,[{key:"onClose",value:function(){var e=this.props.onClose;e&&e()}},{key:"updateAvatar",value:function(e){this.props.changeGroupAvatar({value:e})}},{key:"renderPrivacyItem",value:function(e){var t=e.value;return P.default.createElement("div",{className:this.ss("privacy-item")},P.default.createElement("div",{className:this.ss("icon","ifont","ifont-"+{public:"icons-public",closed:"icons-lockoff",secret:"icons-lockon"}[t])}),P.default.createElement("div",{className:this.ss("right")},P.default.createElement("div",{className:this.ss("name")},this.__("group_"+t)),P.default.createElement("div",{className:this.ss("hint")},this.__("group_"+t+"_hint"))))}},{key:"renderLanguage",value:function(){var e=this.props,t=e.isEdit,a=e.changeLanguage,n=e.form.language,o=e.languageOptions;if(!t)return null;var r=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(o));r.sort(function(e,t){var n=e.name.toUpperCase(),a=t.name.toUpperCase();return n<a?-1:a<n?1:0});var s=r.map(function(e){return{text:e.name,value:e.id}});return P.default.createElement("div",{className:this.ss("field")},P.default.createElement("div",{className:this.ss("title")},this.__("preferred_language")),P.default.createElement("div",{className:this.ss("input-wrapper")},P.default.createElement(D.default,{hintText:this.__("hint_language"),selects:s,value:n.value,onChange:function(e,t,n){return a({value:n})}})))}},{key:"renderTags",value:function(){var e=this.props,t=e.isEdit,n=e.skillMap,a=e.form.tags,o=e.addTag,r=e.deleteTag;return t?P.default.createElement("div",{className:this.ss("field")},P.default.createElement("div",{className:this.ss("title")},this.__("tags")),P.default.createElement("div",{className:this.ss("tags-wrapper")},P.default.createElement(z.default,{inputType:"multiple",st:"skill",hintText:this.__("add_tags"),valueTheme:"gray",skillType:"skill",addInputValue:!0,tagType:"tag",selectedIds:a.value,idToCandidateMap:n,onSelected:function(e){return o({value:e})},onRemove:function(e){var t=e.id;return r({value:t})}}))):null}},{key:"renderLicenseSelect",value:function(){var e=this.props,t=e.form,n=t.unityLicense,a=t.privacy,o=e.loginUser,r=e.isEdit,s=e.changeLicense,i={color:"#5a5a5b",fontWeight:"normal"},l=(o||{}).isStaff;return"closed"===a.value&&l?P.default.createElement("div",{className:this.ss("field")},P.default.createElement("div",{className:this.ss("title")},this.__("member_limitation")),P.default.createElement("div",{className:this.ss("limitation-selects")},P.default.createElement(H.default,{theme:"primary",label:this.__("limitation_pro_plus"),labelStyle:i,className:this.ss("radio"),disabled:r,value:q.groupLimitations.plus,isChecked:n.value===q.groupLimitations.plus,onCheck:function(e,t){return!r&&s({value:t})}}),P.default.createElement(H.default,{theme:"primary",label:this.__("limitation_pro_only"),labelStyle:i,className:this.ss("radio"),disabled:r,value:q.groupLimitations.pro,isChecked:n.value===q.groupLimitations.pro,onCheck:function(e,t){return!r&&s({value:t})}}),P.default.createElement(H.default,{theme:"primary",label:this.__("limitation_none"),labelStyle:i,className:this.ss("radio"),disabled:r,value:q.groupLimitations.none,isChecked:n.value===q.groupLimitations.none,onCheck:function(e,t){return!r&&s({value:t})}}))):null}},{key:"renderCaptcha",value:function(){return P.default.createElement("div",{className:this.ss("field")},P.default.createElement(F.default,null))}},{key:"renderCategoryOptions",value:function(){var t=this,e=this.props,n=e.form.category,a=e.categoryOptions,o=e.getGroupOptionsStatus,r=e.changeGroupCategory,s=a.map(function(e){return{text:(0,K.i18n)(t.context,Y.default,e.refId),value:e.id}});return(0,L.isLoading)(o)?P.default.createElement("div",{className:this.ss("input-wrapper","category-options")},P.default.createElement("div",{className:this.ss("loading-wrapper")},P.default.createElement("div",{className:this.ss("loading")}))):P.default.createElement("div",{className:this.ss("input-wrapper","category-options")},P.default.createElement(D.default,{hintText:this.__("hint_category"),textClassName:this.ss("option-text"),selects:s,value:n.value,onChange:function(e,t,n){return r({value:n})}}),P.default.createElement("div",{className:this.ss("error")},n.isTouched&&this.__(n.errorMessage)))}},{key:"renderFields",value:function(){var t=this,e=this.props,n=e.form,a=n.avatar,o=n.name,r=n.description,s=n.privacy,i=e.isEdit,l=e.changeGroupName,c=e.changeDescription,u=e.changePrivacy,d=["public","closed","secret"].map(function(e){return{text:e,value:e}}),p={},f=!1;return a.value&&(p.backgroundImage='url("'+a.value+'")',f=!0),P.default.createElement("div",{className:this.ss("fields")},P.default.createElement("div",{className:this.ss("top-wrapper")},P.default.createElement("div",{className:this.ss("left")},P.default.createElement("a",{className:this.ss("avatar"),style:p,onClick:function(){return t.refs.crop.onSelectFile()}},P.default.createElement("div",{className:this.ss("icon",f&&"hide","ifont","ifont-camera-icon")}),f&&P.default.createElement("div",{className:this.ss("hover-wrapper")},P.default.createElement("div",{className:this.ss("icon","ifont","ifont-camera-icon")}))),P.default.createElement("div",{className:this.ss("error")},a.isTouched&&this.__(a.errorMessage))),P.default.createElement("div",{className:this.ss("right")},P.default.createElement("div",{className:this.ss("field")},P.default.createElement("div",{className:this.ss("title")},this.__("name")),P.default.createElement("div",{className:this.ss("input-wrapper")},P.default.createElement(R.default,{value:o.value,disabled:i,placeholder:this.__("hint_name"),onChange:function(e,t){return l({value:t})}}),P.default.createElement("div",{className:this.ss("error")},o.isTouched&&this.__(o.errorMessage)))),P.default.createElement("div",{className:this.ss("field","category")},P.default.createElement("div",{className:this.ss("title")},this.__("category")),this.renderCategoryOptions()))),P.default.createElement("div",{className:this.ss("field")},P.default.createElement("div",{className:this.ss("title")},this.__("description")),P.default.createElement("div",{className:this.ss("text-area-wrapper")},P.default.createElement(A.default,{inputValue:r.value,rows:1,fontWidthEstimate:5,className:this.ss("text-area"),placeholder:this.__("hint_description"),onChange:function(e){return c({value:e})}}),P.default.createElement("div",{className:this.ss("error")},r.isTouched&&this.__(r.errorMessage)))),this.renderLanguage(),this.renderTags(),P.default.createElement("div",{className:this.ss("field")},P.default.createElement("div",{className:this.ss("title")},this.__("select_privacy"),P.default.createElement("div",{className:this.ss("tips","warning")},this.__("privacy_tips"))),P.default.createElement("div",{className:this.ss("input-wrapper","privacy")},P.default.createElement(D.default,{className:this.ss("select-container"),optGroupClassName:this.ss("select-items"),optClassName:this.ss("select-opt"),hintText:this.__("hint_category"),selects:d,value:s.value,disabled:i,renderItem:function(e){return t.renderPrivacyItem(e)},onChange:function(e,t,n){return u({value:n})}}),P.default.createElement("div",{className:this.ss("error")},s.isTouched&&this.__(s.errorMessage)))),this.renderLicenseSelect(),this.renderCaptcha())}},{key:"render",value:function(){var t=this,e=this.props,n=e.show,a=e.updateStatus,o=e.isEdit,r=e.createGroup,s=e.showMessage,i=e.recaptchaCode;return P.default.createElement(I.default,{open:n,title:o?this.__("edit_group"):this.__("create_new_group"),width:640,submitStyle:"ok/cancel",submitDisable:!i,submitInProgress:(0,L.isLoadingOrSucceeded)(a),onClose:function(){return t.onClose()},onSubmit:function(){return r({isEdit:o})}},P.default.createElement("div",{className:this.ss("content")},P.default.createElement(W.default,null,this.renderFields())),P.default.createElement(U.default,{ref:"crop",onSave:function(e){return t.updateAvatar(e)},onSetError:function(){return s({message:"image_type_error"})}}))}}]),$.propTypes={show:N.default.bool,form:N.default.object,updateStatus:N.default.string,categoryOptions:N.default.array,languageOptions:N.default.array,isEdit:N.default.bool,skillMap:N.default.object,loginUser:N.default.object,recaptchaCode:N.default.string,getGroupOptionsStatus:N.default.string,onClose:N.default.func,changeGroupAvatar:N.default.func,changeGroupName:N.default.func,changeGroupCategory:N.default.func,changeDescription:N.default.func,changePrivacy:N.default.func,changeLicense:N.default.func,createGroup:N.default.func,showMessage:N.default.func,changeLanguage:N.default.func,addTag:N.default.func,deleteTag:N.default.func},a=$))||a)||a)||a;function $(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,$),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,($.__proto__||Object.getPrototypeOf($)).apply(this,arguments))}t.default=X},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e};function s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var i=f(o(2)),l=f(o(1)),c=f(o(3)),u=f(o(337)),d=f(o(4)),p=f(o(340));function f(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m={cropWidth:128,cropHeight:128,maxCropWidth:400,maxCropHeight:400},_={open:!1,top:0,left:0,imageFile:"",imageWidth:0,imageHeight:0,originWidth:0,originHeight:0},g=(0,d.default)(p.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(v,c.default),r(v,[{key:"onSelectFile",value:function(){this.refs.fileSelect.click()}},{key:"onClose",value:function(){this.setState(_)}},{key:"setImageSize",value:function(e){var t=e||{},n=t.src,a=t.width,o=t.height,r=218*a/o;r<=480?this.setState({open:!0,imageFile:n,imageWidth:r,imageHeight:218,originWidth:a,originHeight:o}):this.normalizeImage(e)}},{key:"getPosition",value:function(){var e=this.state,t=e.imageWidth;return{top:(e.imageHeight-128)/2,left:(t-128)/2}}},{key:"normalizeImage",value:function(e){var r=this,t=o(341).resizeCanvas,n=document.createElement("canvas");n.width=e.width,n.height=e.height,n.getContext("2d").drawImage(e,0,0,n.width,n.height);var a=Math.min(e.width/480,e.height/218),s=document.createElement("canvas");s.width=e.width/a,s.height=e.height/a,t(n,s,{},function(e){e&&console.log(e);var t=document.createElement("canvas");t.width=480,t.height=218;var n=(s.width-t.width)/-2,a=(s.height-t.height)/-2;t.getContext("2d").drawImage(s,n,a,s.width,s.height);var o=t.toDataURL("image/jpeg");r.setState({open:!0,imageFile:o,imageWidth:480,imageHeight:218,originWidth:480,originHeight:218})})}},{key:"handleFile",value:function(e){var t=e.target.files[0];t&&(t.type.match(/image\/(png|jpeg)/)?this.handleFileChange(t):this.props.onSetError&&this.props.onSetError(),this.refs.fileSelect.value=null)}},{key:"handleFileChange",value:function(e){var a=this,t=new FileReader;t.onload=function(e){var t=e.target.result,n=new Image;n.src=t,n.onload=function(){a.setImageSize(n)}},t.readAsDataURL(e)}},{key:"render",value:function(){var t=this,e=this.getPosition(),n=a({},m,this.props,this.state,e);return l.default.createElement("div",null,l.default.createElement(u.default,a({},n,{width:480,onClose:function(){return t.onClose()}})),l.default.createElement("input",{type:"file",ref:"fileSelect",className:this.ss("hide"),accept:"image/*",onChange:function(e){return t.handleFile(e)}}))}}]),v.propTypes={onSave:i.default.func,onSetError:i.default.func},n=v))||n;function v(){var e,t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v);for(var a=arguments.length,o=Array(a),r=0;r<a;r++)o[r]=arguments[r];return(t=n=h(this,(e=v.__proto__||Object.getPrototypeOf(v)).call.apply(e,[this].concat(o)))).state=_,h(n,t)}t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=f(n(2)),v=f(n(1)),i=f(n(3)),b=f(n(72)),y=f(n(13)),l=n(11),c=f(n(4)),u=f(n(338)),d=f(n(6)),p=f(n(339));function f(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=(0,c.default)(u.default)(a=(0,d.default)(p.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(_,i.default),o(_,[{key:"componentDidMount",value:function(){var t=this;window.addEventListener("mouseup",function(){return t.onDragResizeEnd()}),window.addEventListener("mousemove",function(e){return t.onDrag(e)})}},{key:"componentWillUnmount",value:function(){var t=this;window.removeEventListener("mouseup",function(){return t.onDragResizeEnd()}),window.removeEventListener("mousemove",function(e){return t.onDrag(e)})}},{key:"onSave",value:function(){var u=this,e=this.props,d=e.imageHeight,t=e.imageFile,p=e.originWidth,f=e.originHeight,h=e.maxCropWidth,m=e.maxCropHeight,_=this.getNumber("top"),g=this.getNumber("left"),v=this.getNumber("cropWidth"),b=Math.round(v*this.getSizeRatio()),y=new Image;y.src=t,y.width=p,y.height=f,y.onload=function(){var e=(f/d).toFixed(2),t=Math.round(_*e),n=Math.round(g*e),a=Math.round(v*e),o=Math.round(b*e);p<a+n&&(a=p-n),f<o+t&&(o=f-t);var r=Math.min(h,a),s=Math.min(m,o),i=document.createElement("canvas"),l=i.getContext("2d");i.width=r,i.height=s,l.drawImage(y,n,t,a,o,0,0,r,s);var c=i.toDataURL("image/jpeg");u.props.onSave&&u.props.onSave(c),u.onClose()}}},{key:"onDragMoveStart",value:function(e){(0,l.pauseEvent)(e);var t=e.clientX,n=e.clientY,a=this.getNumber("top"),o=this.getNumber("left");this.setState({onMove:!0,clientX:t,clientY:n,top:a,left:o})}},{key:"onDragMove",value:function(e){var t,n,a,o,r,s,i,l,c,u,d,p,f=this.props,h=f.imageWidth,m=f.imageHeight,_=this.state,g=_.clientX,v=_.clientY;_.onMove&&(t=this.getNumber("top"),n=this.getNumber("left"),a=this.getNumber("cropWidth"),o=this.getSizeRatio(),r=Math.round(a*o),l=(s=e.clientX)-g,c=m-r,u=h-a,d=t+((i=e.clientY)-v),d=Math.max(d,0),d=Math.min(d,c),p=n+l,p=Math.max(p,0),p=Math.min(p,u),this.setState({clientX:s,clientY:i,top:d,left:p}))}},{key:"onDragResizeStart",value:function(e,t){(0,l.pauseEvent)(e);var n=e.clientX;this.setState({onResize:!0,clientX:n,direction:t})}},{key:"onDragResizeEnd",value:function(){var e=this.state,t=e.onResize,n=e.onMove;(t||n)&&this.setState({onResize:!1,onMove:!1})}},{key:"onDrag",value:function(e){var t=this.state,n=t.onResize,a=t.onMove;n?this.onDragResize(e):a&&this.onDragMove(e)}},{key:"onDragResize",value:function(e){switch(this.state.direction){case"nw":this.resizeNW(e);break;case"ne":this.resizeNE(e);break;case"sw":this.resizeSW(e);break;case"se":this.resizeSE(e);break;default:this.resizeNW(e)}}},{key:"getNumber",value:function(e){var t=this.props[e],n=this.state[e];return Number.isFinite(n)?n:t||0}},{key:"getSizeRatio",value:function(){var e=this.props,t=e.cropWidth;return(e.cropHeight/t).toFixed(2)}},{key:"resizeNW",value:function(e){var t,n,a,o,r,s,i,l,c,u=this.state,d=u.clientX;u.onResize&&(t=this.getNumber("top"),n=this.getNumber("left"),a=this.getNumber("cropWidth"),o=this.getSizeRatio(),(s=(r=e.clientX)-d)<0&&(s=-Math.min(Math.abs(s),Math.abs(t),Math.abs(n))),20<=(i=a-s)?(l=t+Math.round(s*o),c=n+s,this.setState({clientX:r,top:l,left:c,cropWidth:i})):this.setState({clientX:r}))}},{key:"resizeNE",value:function(e){var t,n,a,o,r,s,i,l,c=this.props.imageWidth,u=this.state,d=u.clientX;u.onResize&&(t=this.getNumber("top"),n=this.getNumber("left"),a=this.getNumber("cropWidth"),o=this.getSizeRatio(),(s=-((r=e.clientX)-d))<0&&(s=-Math.min(Math.abs(s),Math.abs(t),Math.abs(Math.max(0,c-a-n)))),20<=(i=a-s)?(l=t+Math.round(s*o),this.setState({clientX:r,top:l,cropWidth:i})):this.setState({clientX:r}))}},{key:"resizeSW",value:function(e){var t,n,a,o,r,s,i,l,c,u=this.props.imageHeight,d=this.state,p=d.clientX;d.onResize&&(t=this.getNumber("top"),n=this.getNumber("left"),a=this.getNumber("cropWidth"),o=this.getSizeRatio(),r=Math.round(a*o),(i=(s=e.clientX)-p)<0&&(i=-Math.min(Math.abs(i),Math.abs(Math.max(0,u-r-t)),Math.abs(n))),20<=(l=a-i)?(c=n+i,this.setState({clientX:s,left:c,cropWidth:l})):this.setState({clientX:s}))}},{key:"resizeSE",value:function(e){var t,n,a,o,r,s,i,l,c=this.props,u=c.imageHeight,d=c.imageWidth,p=this.state,f=p.clientX;p.onResize&&(t=this.getNumber("top"),n=this.getNumber("left"),a=this.getNumber("cropWidth"),o=this.getSizeRatio(),r=Math.round(a*o),(i=-((s=e.clientX)-f))<0&&(i=-Math.min(Math.abs(i),Math.abs(Math.max(0,u-r-t)),Math.abs(Math.max(0,d-a-n)))),20<=(l=a-i)?this.setState({clientX:s,cropWidth:l}):this.setState({clientX:s}))}},{key:"render",value:function(){var t=this,e=this.props,n=e.imageFile,a=e.imageWidth,o=e.imageHeight,r=function(e,t){var n={};for(var a in e)0<=t.indexOf(a)||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["imageFile","imageWidth","imageHeight"]),s=this.state,i=s.onResize,l=s.direction,c=this.getNumber("top"),u=this.getNumber("left"),d=this.getNumber("cropWidth"),p=this.getSizeRatio(),f={width:a,height:o},h={width:a,height:o,marginLeft:-u-1,marginTop:-c-1},m={top:c,left:u,width:d,height:Math.round(d*p)},_={};return i&&(_.cursor=l+"-resize",m.pointerEvents="none"),v.default.createElement(b.default,g({},r,{title:this.__("title"),disableBgClick:!0,onCloseModal:this.onClose}),v.default.createElement("div",{className:this.ss("content"),style:{height:o}},v.default.createElement("div",{className:this.ss("content-wrapper"),style:_},v.default.createElement("img",{src:n,style:f,alt:"",className:this.ss("image")}),v.default.createElement("div",{style:m,className:this.ss("crop-wrapper")},v.default.createElement("div",{className:this.ss("crop-inner-wrapper")},v.default.createElement("div",{className:this.ss("image-wrapper"),draggable:"true",onDragStart:function(e){return t.onDragMoveStart(e)}},v.default.createElement("img",{src:n,style:h,alt:""}))),v.default.createElement("div",{className:this.ss("top-left","drag-block"),onMouseDown:function(e){return t.onDragResizeStart(e,"nw")},onMouseUp:function(){return t.onDragResizeEnd()}}),v.default.createElement("div",{className:this.ss("top-right","drag-block"),onMouseDown:function(e){return t.onDragResizeStart(e,"ne")},onMouseUp:function(){return t.onDragResizeEnd()}}),v.default.createElement("div",{className:this.ss("bottom-left","drag-block"),onMouseDown:function(e){return t.onDragResizeStart(e,"sw")},onMouseUp:function(){return t.onDragResizeEnd()}}),v.default.createElement("div",{className:this.ss("bottom-right","drag-block"),onMouseDown:function(e){return t.onDragResizeStart(e,"se")},onMouseUp:function(){return t.onDragResizeEnd()}})))),v.default.createElement("div",{className:this.ss("buttons")},v.default.createElement(y.default,{className:this.ss("add"),theme:"primary",label:this.__("add"),onClick:function(){return t.onSave()}})))}}]),_.propTypes={open:s.default.bool,imageFile:s.default.string,left:s.default.number,top:s.default.number,cropWidth:s.default.number,cropHeight:s.default.number,maxCropWidth:s.default.number,maxCropHeight:s.default.number,imageWidth:s.default.number,imageHeight:s.default.number,originWidth:s.default.number,originHeight:s.default.number,onSave:s.default.func,onClose:s.default.func,onSetError:s.default.func},a=_))||a)||a;function _(){var e,t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_);for(var a=arguments.length,o=Array(a),r=0;r<a;r++)o[r]=arguments[r];return(t=n=h(this,(e=_.__proto__||Object.getPrototypeOf(_)).call.apply(e,[this].concat(o)))).state={onMove:!1,onResize:!1,clientX:0,clientY:0,top:NaN,left:NaN,cropWidth:NaN},n.onClose=function(){n.setState({onMove:!1,onResize:!1,clientX:0,clientY:0,top:NaN,left:NaN,cropWidth:NaN}),n.props.onClose&&n.props.onClose()},h(n,t)}t.default=m},function(e,t){e.exports={content:"content_2-Opc0gg","content-wrapper":"content-wrapper_1n68JqKz",image:"image_P4zbd4kA","crop-wrapper":"crop-wrapper_xFfVcLzJ","crop-inner-wrapper":"crop-inner-wrapper_3-Rzu2z_","image-wrapper":"image-wrapper_3MwA9Xb3","drag-block":"drag-block_2JV4w5K1","top-left":"top-left_1Iyu6Dpj","top-right":"top-right_3fkfAlDn","bottom-left":"bottom-left__xY0YyM_","bottom-right":"bottom-right_27x-c3SA",crop:"crop__IyZlPTI",buttons:"buttons_16lIDcK0",add:"add_1LW0yga-",hide:"hide_alBS4eRy"}},function(e,t){e.exports={title:"title_2l8l",add:"add_1ky6"}},function(e,t){e.exports={hide:"hide_3N_qgKYS"}},function(e,t,n){e.exports=n(8)(1100)},function(e,t){e.exports={content:"content_2vJyTSvp",fields:"fields_2auNdYNB","top-wrapper":"top-wrapper_2jHOk1UL",left:"left_28Vk8RsS",avatar:"avatar_2FX0FCbc","hover-wrapper":"hover-wrapper_3WoKE0HS",icon:"icon_2P68HjkM",hide:"hide_3q61DuUG",right:"right_2_s_Jd28",field:"field_3MfJ7F9t",category:"category_303N_-Dp",title:"title_3diTr2iC",tips:"tips_1y-DocRs",warning:"warning_2azMD45N","input-wrapper":"input-wrapper_2Hfu4jIv",privacy:"privacy_1MkKo3qe","select-container":"select-container_1eYYJlYk","select-items":"select-items_2QGni25b","select-opt":"select-opt_2__ikyZJ","category-options":"category-options_1cld70L4","loading-wrapper":"loading-wrapper_3YhRzl_z",loading:"loading_3NDCjrpv",input:"input_18A_cvLt","inner-border":"inner-border_le8jRI-q","option-text":"option-text_Exa0nka8","tags-wrapper":"tags-wrapper_zh14r1ZM","text-area-wrapper":"text-area-wrapper_1Hl-9-4K","text-area":"text-area_D5eJvNEk",error:"error_4uyy_fxI","privacy-item":"privacy-item_1Wnm-DVQ",name:"name_2U5tSH4W",hint:"hint_30yEe9i8","limitation-selects":"limitation-selects_3iYFva4X",radio:"radio_3OIn5BaA"}},function(e,t){e.exports={create_new_group:"create_new_group_1-h0",edit_group:"edit_group_2hZl",name:"name_3NUv",category:"category_zaHW",description:"description_12Bn",hint_name:"hint_name_1y39",hint_description:"hint_description_1Jxa",hint_category:"hint_category_-fG7",error_maxLength60:"error_maxLength60_2jhj",error_maxLength1000:"error_maxLength1000_LAXI",select_privacy:"select_privacy_1ZKD",group_public:"group_public_111a",group_closed:"group_closed_24VH",group_secret:"group_secret_3pNp",group_public_hint:"group_public_hint_3l1c",group_closed_hint:"group_closed_hint_1m63",group_secret_hint:"group_secret_hint_Iv5A",error_isRequired:"error_isRequired_2Dv0",preferred_language:"preferred_language_3hbz",hint_language:"hint_language_1oVB",tags:"tags_3N2F",add_tags:"add_tags_14d3",privacy_tips:"privacy_tips_yfyR",member_limitation:"member_limitation_2pDs",limitation_pro_plus:"limitation_pro_plus_3McO",limitation_pro_only:"limitation_pro_only_3RYq",limitation_none:"limitation_none_2ju2"}},function(e,t){e.exports={categories:"categories_PI7h",hottest:"hottest_1gK7",latest:"latest_f0Qh",filter:"filter_10tw",school_education:"school_education_1mOk",news:"news_3aAz",community:"community_GF7r",work:"work_2KFP",skill_interest:"skill_interest_2YNm",groups_from_unity:"groups_from_unity_fK0p",user_groups:"user_groups_bN5r"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=w(["header.ongoingSession.show"],["header.ongoingSession.show"]),i=w(["header.ongoingSession.question"],["header.ongoingSession.question"]),l=w(["header.ongoingSession.user"],["header.ongoingSession.user"]),c=w(["header.closeOngoingSessionWidget"],["header.closeOngoingSessionWidget"]),u=y(n(2)),d=y(n(1)),p=y(n(3)),f=n(0),h=n(5),m=y(n(53)),_=y(n(4)),g=y(n(346)),v=y(n(6)),b=y(n(347));function y(e){return e&&e.__esModule?e:{default:e}}function w(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var j=(0,h.decorator)({show:(0,f.state)(s),question:(0,f.state)(i),user:(0,f.state)(l),closeOngoingSessionWidget:(0,f.signal)(c)})(a=(0,_.default)(g.default)(a=(0,v.default)(b.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(k,p.default),o(k,[{key:"render",value:function(){var e=this.props,t=e.show,n=e.question,a=e.user,o=e.closeOngoingSessionWidget;if(!t)return null;var r=n.id,s=a.fullName,i="/workspace/"+r;return d.default.createElement("div",{className:this.ss("on-going-session")},this.__("tips",{fullName:s,link:i}),d.default.createElement("a",{className:this.ss("link"),onClick:function(){return(0,m.default)(i)}},this.__("enter_workspace")),".",d.default.createElement("div",{className:this.ss("icon-close","ifont","ifont-icon-close2"),onClick:function(){return o()}}))}}]),k.propTypes={show:u.default.bool,question:u.default.object,user:u.default.object,closeOngoingSessionWidget:u.default.func},a=k))||a)||a)||a;function k(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,k),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}t.default=j},function(e,t){e.exports={"on-going-session":"on-going-session_3mEFdOiK",link:"link_3PfyuNTO","icon-close":"icon-close_G5qFuSEt"}},function(e,t){e.exports={tips:"tips_2KKw",enter_workspace:"enter_workspace_LANO"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=w(["header.unpaidSession.show"],["header.unpaidSession.show"]),i=w(["header.unpaidSession.question"],["header.unpaidSession.question"]),l=w(["currentHost"],["currentHost"]),c=w(["header.closeUnpaidSessionWidget"],["header.closeUnpaidSessionWidget"]),u=y(n(2)),d=y(n(1)),p=y(n(3)),f=n(0),h=n(5),m=y(n(69)),_=y(n(4)),g=y(n(349)),v=y(n(6)),b=y(n(350));function y(e){return e&&e.__esModule?e:{default:e}}function w(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var j=(0,h.decorator)({show:(0,f.state)(s),question:(0,f.state)(i),currentHost:(0,f.state)(l),closeUnpaidSessionWidget:(0,f.signal)(c)})(a=(0,_.default)(g.default)(a=(0,v.default)(b.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(k,p.default),o(k,[{key:"render",value:function(){var e=this.props,t=e.show,n=e.closeUnpaidSessionWidget,a=e.question,o=e.currentHost;if(!t)return null;var r=(a||{}).id,s=(0,m.default)("/session_detail?id="+r,o);return d.default.createElement("div",{className:this.ss("unpaid-session")},this.__("tip_genesis_fail",{link:s}),d.default.createElement("div",{className:this.ss("icon-close","ifont","ifont-icon-close2"),onClick:function(){return n()}}))}}]),k.propTypes={show:u.default.bool,question:u.default.object,currentHost:u.default.string,closeUnpaidSessionWidget:u.default.func},a=k))||a)||a)||a;function k(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,k),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}t.default=j},function(e,t){e.exports={"unpaid-session":"unpaid-session_3CWGCjqI","icon-close":"icon-close_1sBseHQK"}},function(e,t){e.exports={tip_pending:"tip_pending_7RgX",tip_genesis_fail:"tip_genesis_fail_1VPN"}},function(e,t){e.exports={"header-wrap":"header-wrap_GEr2c682",header:"header_257pCc7M",logo:"logo_2qLo13oA","main-menu-wrapper":"main-menu-wrapper_2eWH5ERW","mobile-search":"mobile-search_1Z64zx8n","search-icon":"search-icon_1aNZfCuf","main-menu":"main-menu_1tN5E3Qk","menu-left":"menu-left_flKNOvnq","menu-right":"menu-right_3N8zyF91","user-actions":"user-actions_2nPAaNhU","beta-user":"beta-user_qYfiTnah","logout-btn":"logout-btn_1xXhzsUW",activity:"activity_2hsBDG1G",connections:"connections_3pKyu_1S",link:"link_1vCaVFnC",popout:"popout_INZi8Dlv",users:"users_3kyuoJZx",teams:"teams_w3QxeBEQ",blog:"blog_3Q2yx8Ad",active:"active_-jEgOzvA","login-action":"login-action_3l78Blzg",icon:"icon_1vkcqUWb","avatar-action":"avatar-action_3Hs5yanb",button:"button_TlVLGbNi","button-inner":"button-inner_EbWpvfpx","down-icon":"down-icon_2La7glGl",webgl:"webgl_3r0oc8_L",left:"left_1-ZhBma-",right:"right_3-9oUgPp",title:"title_1tNdREWD",list:"list_3uIUx6lR",item:"item_10ugXhqD","item--reference":"item--reference_dHDPmLb0",badge:"badge_3wOL_6zr","team-name":"team-name_1nJe3SSL","item-school":"item-school_2KuzAuT6",school:"school_2X80dDsQ",draft:"draft_WEej8aLz",reject:"reject_1PaU8oLA",hover:"hover_3_slvHfk","bars-action":"bars-action_IfoerojT","search-action":"search-action_1nBrxqFZ",divider:"divider_2TI-g4Gz","chat-action":"chat-action_1rsrH49i","chat-icon":"chat-icon_2HIU7Ta2",open:"open_2NV3yUwa","notifications-action":"notifications-action_6onoUfYJ","notifications-icon":"notifications-icon_2sOVPumh","app-switcher-action":"app-switcher-action_2o5Ba6sD","app-switcher-icon":"app-switcher-icon_biYRoW9m","messages-wrap":"messages-wrap_1tlb7AbE","messages-action":"messages-action_3dV74hna","messages-icon":"messages-icon_LvBNieoE","badge-hint":"badge-hint_3JsnXWcw","beta-logo":"beta-logo_CMtP53c_","messages-unread":"messages-unread_1axU4mVW","mobile-search-box":"mobile-search-box_2uhRfA1h","app-switcher":"app-switcher_30lhKb3b","switcher-wrap":"switcher-wrap_2AMtj4oL","app-item":"app-item__7ZrOmfi","app-icon":"app-icon_1Zb9VDQz","app-name":"app-name_ArqHW3kt","profile-wrap":"profile-wrap_1Yarzwu_","profile-avatar-wrap":"profile-avatar-wrap_2qyuXREQ",avatar:"avatar_o_aKnY8g","profile-account":"profile-account_16ouBH7U","profile-name":"profile-name_2Ltp-gZg","profile-email":"profile-email_S1nbHvTm","profile-link":"profile-link_2g1TJ3cw","anonymous-wrap":"anonymous-wrap_3uKdHweu","anonymous-avatar":"anonymous-avatar_olPh5ROn","anonymous-name":"anonymous-name_1nPcGJQ6","login-desc":"login-desc_36VP292p","profile-completeness-wrap":"profile-completeness-wrap_2ma2wuAk","profile-completeness":"profile-completeness_3RoN3UKt","completeness-text":"completeness-text_2DiiRRPi","edit-link":"edit-link_-P9Ql8In","progress-bar":"progress-bar_1UypRVDA","menu-item":"menu-item_3nU9LEYN","item-icon":"item-icon_3NQaz43Q","item-name":"item-name_26DsXl9a","account-switcher":"account-switcher_eSCn1fWL"}},function(e,t,n){e.exports=n.p+"../styles/i/connect-logo.927b13506030489ed4daf90f9c417423.png"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=C(["region"],["region"]),i=C(["autoLocated"],["autoLocated"]),l=C(["footer.regionChange"],["footer.regionChange"]),c=k(n(2)),u=k(n(1)),d=k(n(15)),p=n(5),f=n(0),h=k(n(3)),m=k(n(44)),_=k(n(13)),g=k(n(4)),v=k(n(354)),b=n(6),y=k(b),w=k(n(355)),j=k(n(108));function k(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function C(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var S=(0,p.decorator)({region:(0,f.state)(s),autoLocated:(0,f.state)(i),regionChange:(0,f.signal)(l)})(a=(0,g.default)(v.default)(a=(0,y.default)(w.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(O,h.default),o(O,[{key:"onChangeRegion",value:function(){this.props.regionChange({regionRefId:this.state.choiceRegion})}},{key:"render",value:function(){var a=this;if(!d.default.REGION_AUTO_LOCATED_NOTE_ENABLED)return null;var e=this.props,t=e.region,n=e.autoLocated,o=d.default.REGIONS.find(function(e){return e.refId===t}),r=(0,b.i18n)(this.context,j.default,o&&o.i18n_key||"region_06"),s=d.default.REGIONS.map(function(e){return{text:(0,b.i18n)(a.context,j.default,e.i18n_key),value:e.refId}}),i=u.default.createElement("div",{key:"regionNote",className:this.ss("region-note")},u.default.createElement("div",{className:this.ss("note")},this.__("note",{region:r})),u.default.createElement("div",{className:this.ss("region")},u.default.createElement(m.default,{className:this.ss("region-select"),buttonClassName:this.ss("region-select-btn"),optGroupClassName:this.ss("region-select-items"),selects:s,value:this.state.choiceRegion,onChange:function(e,t,n){return a.setState({choiceRegion:n})}}),u.default.createElement(_.default,{className:this.ss("btn-ok"),label:this.__("btn_ok"),theme:"black",onClick:function(){return a.onChangeRegion()}})));return n&&i||null}}]),O.propTypes={region:c.default.string,autoLocated:c.default.bool,regionChange:c.default.func},a=O))||a)||a)||a;function O(){var e,t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,O);for(var a=arguments.length,o=Array(a),r=0;r<a;r++)o[r]=arguments[r];return(t=n=E(this,(e=O.__proto__||Object.getPrototypeOf(O)).call.apply(e,[this].concat(o)))).state={choiceRegion:n.props.region},E(n,t)}t.default=S},function(e,t){e.exports={"region-note":"region-note_1wVsOoYY",note:"note_1nQZJaUS",region:"region_3rBOILjQ","region-select":"region-select_2G79_nwS","region-select-btn":"region-select-btn_6UKZX1gJ","region-select-items":"region-select-items_xYhvPcdN","btn-ok":"btn-ok_3dpC6IlF"}},function(e,t){e.exports={note:"note_34uM",btn_ok:"btn_ok_1oBX"}},function(e,t){e.exports={footer:"footer_gB2SQFq1",black:"black_1SNs96wa",context:"context_X0yLJLiH",copyright:"copyright_2xBra9b8",links:"links_2vDoJs1s",link:"link_158SuLFX","link-contact-us":"link-contact-us_2eOw5XY_",shares:"shares_17fK4Dop",share:"share_16pSoqCJ","choice-control":"choice-control_KNRpftRm",region:"region_1dI34jgL",label:"label_3ruKM066",select:"select_3cE0LJRA","select-text":"select-text_355G1-cl","select-flag":"select-flag_3zRYwBR6","select-btn":"select-btn_1u5bJ8Gj","select-items":"select-items_3_4IU_Nw","contact-us":"contact-us_1yMtbd9l","icon-arrow-down":"icon-arrow-down_3NMh2Fzg"}},function(e,t){e.exports={link_text_0:"link_text_0_ExQL",link_text_1:"link_text_1_3_qb",link_text_2:"link_text_2_1VEs",link_text_3:"link_text_3_z-ed",copyright:"copyright_2i1W",onetrust_settings:"onetrust_settings_1jSi",contact_us:"contact_us_15VB",mail_subject:"mail_subject_3xZ4",choice_lang:"choice_lang_3Aca",choice_region:"choice_region_2o0s"}},,function(e,t){e.exports={"image-popup-wrap":"image-popup-wrap_2mfd1uIw","image-popup-bg":"image-popup-bg_4rOUncNH","image-wrap":"image-wrap_2c_lroAL","image-inner":"image-inner_1oyTehEW",center:"center_243-nVyG",image:"image_1ZTsq_jh",video:"video_2e9gzh5B","arrow-wrap":"arrow-wrap_35Myb9WE",arrow:"arrow_2ayL-p-H",close:"close_PGfJas40",hide:"hide_3zu2v6fP","loading-wrap":"loading-wrap_1qxIOlge",loading:"loading_3gj0I0Kj"}},function(e,t){e.exports={"dialog-wrap":"dialog-wrap_2D2KBBXW","report-wrap":"report-wrap_2VN6nznH","report-title":"report-title_1tnENBT6","report-options":"report-options_2is75Ek7","report-option-item":"report-option-item_3oBzjn_Q","report-option-row":"report-option-row_u4ZqDBEz","button-wrap":"button-wrap_3-py6JZv",button:"button_3y8N7RUr","btn-submit":"btn-submit_Uhx-FEps"}},function(e,t){e.exports={title_report_user:"title_report_user_3CHc",title_report_project:"title_report_project_3w0N",title_report_webgl:"title_report_webgl_2cSW",title_report_job:"title_report_job_3i5b",title_report_company:"title_report_company_2DFa",title_report_comment:"title_report_comment__3OO",report_title:"report_title_19w2",report_option_spam:"report_option_spam_3qeX",report_option_copyright_violation:"report_option_copyright_violation_nJTn",report_option_abusive_contents:"report_option_abusive_contents_uJG-",report_option_adult_contents:"report_option_adult_contents_3GSh",input_placeholder:"input_placeholder_23wq",btn_submit:"btn_submit_3xUy",error_isRequired:"error_isRequired_2xlS",error_maxLength80:"error_maxLength80_51UC",error_minLength10:"error_minLength10_TnxO"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=Object.freeze(Object.defineProperties(["header.setWindowSize"],{raw:{value:Object.freeze(["header.setWindowSize"])}})),i=w(n(2)),l=w(n(1)),c=w(n(3)),u=n(5),d=n(0),p=w(n(138)),f=w(n(363)),h=w(n(139)),m=w(n(17)),_=w(n(143)),g=w(n(366)),v=w(n(77)),b=w(n(4)),y=w(n(372));function w(e){return e&&e.__esModule?e:{default:e}}var j=(0,u.decorator)({setWindowSize:(0,d.signal)(s)})(a=(0,b.default)(y.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(k,c.default),o(k,[{key:"componentDidMount",value:function(){this.props.setWindowSize()}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.contentClass,a=e.mediaData,o=e.mediaSignals,r=e.onScrollEnd;return l.default.createElement("div",{id:"pageContent",className:this.ss(n)},l.default.createElement(p.default,null),l.default.createElement(m.default,{onScrollEnd:r},l.default.createElement(f.default,null),l.default.createElement("div",{id:"pageBody",className:this.ss("default-layout")},t),l.default.createElement("div",{className:this.ss("footer-nonsticky")},l.default.createElement(h.default,{type:"non-sticky"}))),!!a&&l.default.createElement(_.default,{mediaSignals:o,mediaData:a}),l.default.createElement(g.default,null),l.default.createElement(v.default,null),l.default.createElement("div",{className:this.ss("footer-sticky")},l.default.createElement(h.default,{type:"sticky"})))}}]),k.propTypes={children:i.default.node,contentClass:i.default.string,setWindowSize:i.default.func,mediaData:i.default.object,mediaSignals:i.default.object,onScrollEnd:i.default.func},a=k))||a)||a;function k(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,k),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}t.default=j},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MoreAction=t.AvatarAction=void 0;var a,o,r,s,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=function(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e};function c(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var u=Z(["loginUser"],["loginUser"]),d=Z(["currentHost"],["currentHost"]),p=Z(["currentPath"],["currentPath"]),f=Z(["team.showBasicForm"],["team.showBasicForm"]),h=Z(["header.postSchool"],["header.postSchool"]),m=Z(["header.openCreateGroupDialog"],["header.openCreateGroupDialog"]),_=Z(["header.loginTo"],["header.loginTo"]),g=Z(["header.createProjectByTypeInternal"],["header.createProjectByTypeInternal"]),v=Z(["header.setting.headerTop"],["header.setting.headerTop"]),b=Z(["header.setting.scrollTop"],["header.setting.scrollTop"]),y=Z(["header.closeLoginWindow"],["header.closeLoginWindow"]),w=Z(["header.setCurrHeaderTop"],["header.setCurrHeaderTop"]),j=Z(["header.setHeaderPosition"],["header.setHeaderPosition"]),k=G(n(2)),E=G(n(1)),C=G(n(3)),S=n(5),O=n(0),N=n(18),P=G(n(15)),T=n(76),M=G(n(86)),x=G(n(22)),R=G(n(103)),I=G(n(104)),D=G(n(105)),A=G(n(106)),L=G(n(102)),U=n(38),W=n(76),z=G(n(4)),H=G(n(364)),q=G(n(6)),F=G(n(365)),B=G(n(107));function G(e){return e&&e.__esModule?e:{default:e}}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Z(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Q=!1,X=t.AvatarAction=(0,S.decorator)({loginUser:(0,O.state)(u),currentHost:(0,O.state)(d),currentPath:(0,O.state)(p),showForm:(0,O.signal)(f),postSchool:(0,O.signal)(h),postGroup:(0,O.signal)(m),loginTo:(0,O.signal)(_)})(a=(0,z.default)(H.default)(a=(0,q.default)(F.default)((Y($,C.default),l($,[{key:"componentDidMount",value:function(){Q||(Q=!0,window.addEventListener("uasMenuClicked",this.onMenuClicked))}},{key:"componentWillUnmount",value:function(){window.addEventListener("uasMenuClicked",this.onMenuClicked)}},{key:"render",value:function(){var e=this.props,t=e.loginUser,n=e.currentHost,a=e.currentPath,o="https://"+n+"/public/pages/auth/cbiframe.html?redirect_to="+encodeURIComponent(a)+"&source=account_switch",r="https://"+n+"/auth/account_switch/callback?noiframe=true&redirect_to="+encodeURIComponent(a),s="https://"+n+"/auth/logout/callback?redirectUri="+a,i=P.default.NAME,l={headerHeight:72,menuItems:[],env:"production"===i?"prod":"staging"===i?"staging":"int",loginRedirectURL:o,switchAccountRidirectURL:r,logoutRedirectURL:s,clientID:"marketplace"};return t&&(l.user={avatar:t.avatar,name:t.name},l.userProfileURL="https://"+n+"/u/"+t.id),E.default.createElement("div",{className:this.ss("account-switcher")},E.default.createElement("unity-account-switcher",{config:JSON.stringify(l)}))}}]),$.propTypes={loginUser:k.default.object,currentHost:k.default.string,currentPath:k.default.string,showForm:k.default.func,postSchool:k.default.func,postGroup:k.default.func,loginTo:k.default.func},a=$))||a)||a)||a;function $(){var e,t,i;V(this,$);for(var n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=i=J(this,(e=$.__proto__||Object.getPrototypeOf($)).call.apply(e,[this].concat(a)))).onMenuClicked=function(e){var t,n=i.props,a=n.showForm,o=n.postSchool,r=(K(t={},UAS_MENU_ITEMS.CREATE_COMPANY,a),K(t,UAS_MENU_ITEMS.CREATE_SCHOOL,o),K(t,UAS_MENU_ITEMS.MY_GROUPS,function(){return windowLocationHref("/groups")}),K(t,UAS_MENU_ITEMS.MY_REFERENCES,function(){return windowLocationHref("/ref")}),K(t,UAS_MENU_ITEMS.SETTINGS,function(){return windowLocationHref("/settings")}),t),s=e.detail;r[s]&&r[s](),U.amplitudeEvents.accountDropdownClick()},J(i,t)}var ee=t.MoreAction=(0,z.default)(H.default)(o=(0,q.default)(F.default)((Y(te,C.default),l(te,[{key:"componentDidMount",value:function(){var e=this;this.removeClickOutside=(0,N.addClickOutside)([this],function(){e.setState({hover:!1})})}},{key:"componentWillUnmount",value:function(){this.removeClickOutside()}},{key:"render",value:function(){var e=this,t=this.state.hover,n=this.props.currentPath,a="/discover/all-showcases";return E.default.createElement("div",{className:this.ss("more-action",t&&"hover")},E.default.createElement("button",{className:this.ss("button","ifont","ifont-bars"),onClick:function(){return e.setState({hover:!t})}}),E.default.createElement("div",{className:this.ss("popout")},t&&E.default.createElement("div",{className:this.ss("discovery"),onClose:function(){return e.setState({hover:!1})}},E.default.createElement("div",{className:this.ss("icon","ifont","ifont-icons-gamepad")}),E.default.createElement(B.default,{title:"How to",font:14})),t&&E.default.createElement("div",{className:this.ss("discovery"),onClose:function(){return e.setState({hover:!1})}},E.default.createElement("div",{className:this.ss("icon","ifont","ifont-icons-gamepad")}),E.default.createElement("a",{className:this.ss("nav-item",n===a&&"active"),href:a,style:{fontSize:"14px"}},"Showcases"))))}}]),o=te))||o)||o;function te(){var e,t,n;V(this,te);for(var a=arguments.length,o=Array(a),r=0;r<a;r++)o[r]=arguments[r];return(t=n=J(this,(e=te.__proto__||Object.getPrototypeOf(te)).call.apply(e,[this].concat(o)))).state={hover:!1},J(n,t)}var ne=(0,S.decorator)({createProjectByType:(0,O.signal)(g)})(r=(0,z.default)(H.default)(r=(0,q.default)(F.default)((Y(ae,C.default),l(ae,[{key:"onClick",value:function(){this.props.createProjectByType({type:"webgl",skipPopup:!0}),this.props.onClick&&this.props.onClick()}},{key:"render",value:function(){var e=this;return E.default.createElement(x.default,{text:this.__("menu_post_project"),position:"bottom"},E.default.createElement("button",{className:this.ss("post-project"),onClick:function(){return e.onClick()},"aria-label":this.__("menu_post_project")},E.default.createElement("span",{className:this.ss("icons-logo","ifont","ifont-icons-upload-new")})))}}]),ae.propTypes={onClick:k.default.func,createProjectByType:k.default.func},r=ae))||r)||r)||r;function ae(){return V(this,ae),J(this,(ae.__proto__||Object.getPrototypeOf(ae)).apply(this,arguments))}var oe=(0,S.decorator)({currentPath:(0,O.state)(p),headerTop:(0,O.state)(v),scrollTop:(0,O.state)(b),loginUser:(0,O.state)(u),closeLoginWindow:(0,O.signal)(y),setCurrHeaderTop:(0,O.signal)(w),setHeaderPosition:(0,O.signal)(j)})(s=(0,z.default)(H.default)(s=(0,q.default)(F.default)((Y(re,C.default),l(re,[{key:"onUnityLogoClick",value:function(){U.amplitudeEvents.headerUnityLogoClick()}},{key:"onPostProjectClick",value:function(){U.amplitudeEvents.headerPostProjectClick()}},{key:"onAppSwitcherClick",value:function(){U.amplitudeEvents.applicationSwitcherClick()}},{key:"onAppSwitcherDashboardClick",value:function(){U.amplitudeEvents.applicationSwitcherDashboardClick()}},{key:"onAppSwitcherAssetStoreClick",value:function(){U.amplitudeEvents.applicationSwitcherAssetStoreClick()}},{key:"onAppSwitcherAnswersClick",value:function(){U.amplitudeEvents.applicationSwitcherAnswersClick()}},{key:"onAppSwitcherForumClick",value:function(){U.amplitudeEvents.applicationSwitcherForumClick()}},{key:"onAppSwitcherDistributeClick",value:function(){U.amplitudeEvents.applicationSwitcherDistributeClick()}},{key:"onAppSwitcherLearnClick",value:function(){U.amplitudeEvents.applicationSwitcherLearnClick()}},{key:"inSignUp",value:function(){return"/sign-up"===this.props.currentPath}},{key:"isLogin",value:function(){return!!this.props.loginUser}},{key:"renderUserActions",value:function(){var e=this;return this.inSignUp()?E.default.createElement("div",{className:this.ss("user-actions")},E.default.createElement("div",{className:this.ss("beta-user")},E.default.createElement("a",{className:this.ss("logout-btn"),href:"/auth/logout"},this.__("logout_action")))):E.default.createElement("div",{className:this.ss("user-actions")},E.default.createElement("div",i({id:"nav-search-box",key:"sajari-search-box"},this.state.mobileSearchOpen&&{className:"active"}),E.default.createElement("button",{className:this.ss("search-close"),onClick:function(){return e.setState({mobileSearchOpen:!1})}},E.default.createElement("span",{className:this.ss("icon-close","ifont","ifont-icon-close")}))),E.default.createElement(I.default,{right:[E.default.createElement(x.default,{key:"mobile-search",className:this.ss("search-open-wrapper"),text:this.__("Search"),position:"bottom"},E.default.createElement("button",{id:"open-mobile-search",className:this.ss("search-open"),onClick:function(){return e.setState({mobileSearchOpen:!0})},role:"button","aria-expanded":this.state.mobileSearchOpen},E.default.createElement("span",{className:this.ss("icons-logo","ifont","ifont-icons-search")}))),E.default.createElement("div",{key:"desktop",className:this.ss("desktop-only")},E.default.createElement(ne,{key:"post-project",onClick:function(){return e.onPostProjectClick()}})),E.default.createElement(T.ApplicationSwitcherAction,{key:"application_switcher",className:this.ss("switcher"),onDashboardClick:function(){return e.onAppSwitcherDashboardClick()},onAssetStoreClick:function(){return e.onAppSwitcherAssetStoreClick()},onAnswersClick:function(){return e.onAppSwitcherAnswersClick()},onForumClick:function(){return e.onAppSwitcherForumClick()},onDistributeClick:function(){return e.onAppSwitcherDistributeClick()},onLearnClick:function(){return e.onAppSwitcherLearnClick()},onClick:function(){return e.onAppSwitcherClick()}}),E.default.createElement(X,{key:"avatar",theme:"webgl"})]}))}},{key:"renderLogo",value:function(){var e=this;return E.default.createElement("a",{className:this.ss("logo"),href:"/",onClick:function(){return e.onUnityLogoClick()}},E.default.createElement("img",{className:this.ss("logo-image"),src:"/public/images/logos/unity-play-logo.min.svg",alt:"Unity Play Logo"}))}},{key:"render",value:function(){var e=this.props,t=e.closeLoginWindow,n=e.currentPath,a="/discover/all-showcases";return E.default.createElement("div",null,E.default.createElement(A.default,null),E.default.createElement(M.default,null),E.default.createElement("div",{className:this.ss("header-wrap")},E.default.createElement("div",{className:this.ss("header")},E.default.createElement(ee,null),this.renderLogo(),E.default.createElement("div",{className:this.ss("desktop")},E.default.createElement("a",{className:this.ss("nav-item",n===a&&"active"),href:a},"Showcases"),E.default.createElement(B.default,{title:"How to"})),this.renderUserActions())),E.default.createElement(L.default,null),E.default.createElement(R.default,{onClose:function(){return t()}}),E.default.createElement(D.default,null),E.default.createElement(W.TfaNotifyDialog,null),E.default.createElement(W.TfaConfirmDialog,null))}}]),re.propTypes={currentPath:k.default.string.isRequired,headerTop:k.default.number.isRequired,scrollTop:k.default.number.isRequired,loginUser:k.default.object,closeLoginWindow:k.default.func,setCurrHeaderTop:k.default.func,setHeaderPosition:k.default.func},s=re))||s)||s)||s;function re(){var e,t,n;V(this,re);for(var a=arguments.length,o=Array(a),r=0;r<a;r++)o[r]=arguments[r];return(t=n=J(this,(e=re.__proto__||Object.getPrototypeOf(re)).call.apply(e,[this].concat(o)))).state={mobileSearchOpen:!1},J(n,t)}t.default=oe},function(e,t){e.exports={"header-wrap":"header-wrap_1MgbJAZ_",header:"header_2Gb9Vnfi",discovery:"discovery_vuqGJ_DK","nav-item":"nav-item_2jpnhz7s",active:"active_3zj7bvyc",logo:"logo_No7hI4uN",desktop:"desktop_1TAWRX2g","user-actions":"user-actions_1Gs5RsbG","desktop-only":"desktop-only_2tid5JLd","post-project":"post-project_VFEnzL5C","beta-user":"beta-user_1xLyHf6R","logout-btn":"logout-btn_ahgj7EYI","search-close":"search-close_22ZXeIDj","search-open":"search-open_1TpM75FZ","more-action":"more-action_wt25N3Rl",button:"button_BsakNLtP",popout:"popout_3GSgF7fj",icon:"icon_3_NjHcWs",hover:"hover_33cwXij-"}},function(e,t){e.exports={edit_game:"edit_game_3dcf",get_started:"get_started_3v1O",get_started_short:"get_started_short_B2Gs",menu_post_project:"menu_post_project_MeGs"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=w(["job.jobExampleShow"],["job.jobExampleShow"]),i=w(["job.hideJobExample"],["job.hideJobExample"]),l=b(n(2)),c=b(n(1)),u=b(n(3)),d=n(5),p=n(0),f=b(n(367)),h=b(n(17)),m=n(11),_=n(18),g=b(n(4)),v=b(n(371));function b(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function w(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var j=(0,d.decorator)({jobExampleShow:(0,p.state)(s),hideJobExample:(0,p.signal)(i)})(a=(0,g.default)(v.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(k,u.default),o(k,[{key:"componentDidMount",value:function(){var t=this;this._handKeyDown=function(e){return t.onKeyDown(e)},window.addEventListener("keydown",this._handKeyDown,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this._handKeyDown,!1)}},{key:"onKeyDown",value:function(e){var t=this.props.jobExampleShow,n=e.keyCode;if(t)switch(n){case 27:this.onClose(e)}}},{key:"render",value:function(){var t=this;if(!this.props.jobExampleShow)return null;var e=c.default.createElement("button",{className:this.ss("close"),onClick:this.onClose},c.default.createElement("div",{className:this.ss("icon","ifont","ifont-icon-close")}));return c.default.createElement("div",{className:this.ss("post-popup-wrap")},c.default.createElement("div",{className:this.ss("job-example-popup")}),c.default.createElement("div",{className:this.ss("job-example"),onClick:this.onClick},c.default.createElement(h.default,null,c.default.createElement("div",{className:this.ss("job-info","popup"),ref:function(e){t.jobExampleInfo=e}},c.default.createElement("div",{className:this.ss("job-info-wrap","detail")},c.default.createElement(f.default,null))))),e)}}]),k.propTypes={jobExampleShow:l.default.bool,hideJobExample:l.default.func},a=k))||a)||a;function k(){var e,t,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,k);for(var n=arguments.length,a=Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=o=y(this,(e=k.__proto__||Object.getPrototypeOf(k)).call.apply(e,[this].concat(a)))).onClick=function(e){(0,_.getClickOutside)([o.jobExampleInfo],function(e){return o.onClose(e)})(e)},o.onClose=function(e){e&&(0,m.pauseEvent)(e);var t=o.props,n=t.jobExampleShow,a=t.hideJobExample;n&&a()},y(o,t)}t.default=j},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=f(n(1)),i=f(n(3)),l=f(n(4)),c=f(n(368)),u=f(n(6)),d=f(n(369)),p=f(n(370));function f(e){return e&&e.__esModule?e:{default:e}}var h=(0,l.default)(c.default)(a=(0,u.default)(d.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(m,i.default),o(m,[{key:"renderJobPropsInfo",value:function(){return s.default.createElement("div",{className:this.ss("job-prop-row")},s.default.createElement("div",{className:this.ss("span"),key:"place"},this.__("job_place")),s.default.createElement("div",{className:this.ss("span"),key:"type"},this.__("fullTime")),s.default.createElement("div",{className:this.ss("span"),key:"other"},this.__("other")),s.default.createElement("div",{className:this.ss("span"),key:"pubTime"},this.__("publish_time",{time:"2017-09-20T20:21:17.857Z"})))}},{key:"renderJobAttrs",value:function(){return s.default.createElement("div",{className:this.ss("job-attr-row")},s.default.createElement("div",{className:this.ss("span"),key:"unityExpLevel"},this.__("unityExperience",{experience:"qualified"})),s.default.createElement("div",{className:this.ss("span"),key:"unityCertified"},this.__("unityCertified",{level:this.__("preferred")})))}},{key:"renderJobDesc",value:function(){return s.default.createElement("div",{className:this.ss("job-desc")},s.default.createElement("div",{className:this.ss("description")},s.default.createElement("div",{dangerouslySetInnerHTML:{__html:(0,p.default)('<p>The Unity Analytics team is the global leader in predictive marketing and data science for games and apps. Unity Analytics has captured deep dynamic user behaviors across over 400 million user profiles, and enables leading apps and games to retain, monetize, and personalize the app experience for all customers.</p>\n<p>Empowering game developers from indie to enterprise is our core focus. Together, we’ll work to provide a global cloud-based platform that enables developers to better connect with their audience, optimize their players’ experience, and discover the right players for their games.  </p>\n<p>As a Sr. Backend Engineer on the Unity Analytics team, you will help to collect and analyze data from hundreds of millions of Unity game players.</p>\n<p>You are a software engineer who knows all about how to capture and explicate massive amounts of information. You are passionate about how analytics can improve decision making to empower game developers. You love data science, and have done some work in Java, Spark, and Scala to help build and/or maintain systems in big data.</p>\n<p><strong>Responsibilities </strong></p>\n<ul>\n<li>Design, implement, test and maintain Unity’s platform and services that are capable of handling real time and batch processing of thousands of requests and daily events</li>\n<li>Write high-quality code that supports existing and future functionality of the product</li>\n</ul>\n<p><strong>Requirements </strong></p>\n<ul>\n<li>5 yrs of professional programming experience in Java, Scala, #C#</li>\n<li>2 yrs of experience developing large scale data solutions using one or more of the following technologies: Spark, Hadoop, Storm, Kafka, Cassandra, HBase</li>\n<li>Solid understanding of systems and management of resources or 2 yrs of experience developing large scale distributed systems</li>\n<li>BS in Computer Science or equivalent experience </li>\n</ul>\n<p><strong>Bonus Points</strong></p>\n<ul>\n<li>Excited by data science and analytics</li>\n</ul>\n<p class="p1"><strong>Who We Are</strong></p>\n<p>We are product-driven, curious, and creative. We aggressively reinvest in development to keep Unity moving and evolving - from expanding usability and power, to platform reach. With over a billion installs per month, Unity touches gamers and non-gamers alike. As well as video games, our software is used in industries as diverse as medicine, visualization and shopping - democratizing game development while solving hard problems and enabling success for a huge range of developers worldwide.</p>\n<p>Today, Unity has expanded to over 15 international offices and has employees in 23 countries. Every person at Unity Technologies has an inherent passion and driven spirit and it isn’t enough to be able to do the job- we’re looking for people that color outside the lines, are looking to be freed from the process tangle, and can dream big!</p>\n<hr>\n<p>Headhunters and recruitment agencies may not submit resumes/CVs through this Web site or directly to managers. Unity does not accept unsolicited headhunter and agency resumes. Unity will not pay fees to any third-party agency or company that does not have a signed agreement with Unity.</p>\n<p>Pursuant to the San Francisco Fair Chance Ordinance, we will consider for employment qualified applicants with arrest and conviction records.</p>\n<p><em><span style="font-family: arial, helvetica, sans-serif;">Unity is an Equal Opportunity Employer committed to providing employment opportunities without regard to race, color, </span><span style="font-family: arial, helvetica, sans-serif;">sex </span><span style="font-family: arial, helvetica, sans-serif;">(including gender identity, sexual orientation, and pregnancy)</span><span style="font-family: arial, helvetica, sans-serif;">, age</span><span style="font-family: arial, helvetica, sans-serif;">, national origin, religion, veteran status, disability, </span><span style="font-family: arial, helvetica, sans-serif;">genetic information</span><span style="font-family: arial, helvetica, sans-serif;">, or any other protected status in accordance with applicable law.</span></em></p>\n<p>#LI-MH1</p>","descriptionPlain":"The Unity Analytics team is the global leader in predictive marketing and data science for games and apps. Unity Analytics has captured deep dynamic user behaviors across over 400 million user profiles, and enables leading apps and games to retain, monetize, and personalize the app experience for all customers.\nEmpowering game developers from indie to enterprise is our core focus. Together, we’ll work to provide a global cloud-based platform that enables developers to better connect with their audience, optimize their players’ experience, and discover the right players for their games.  \nAs a Sr. Backend Engineer on the Unity Analytics team, you will help to collect and analyze data from hundreds of millions of Unity game players.\nYou are a software engineer who knows all about how to capture and explicate massive amounts of information. You are passionate about how analytics can improve decision making to empower game developers. You love data science, and have done some work in Java, Spark, and Scala to help build and/or maintain systems in big data.\nResponsibilities \n\nDesign, implement, test and maintain Unity’s platform and services that are capable of handling real time and batch processing of thousands of requests and daily events\nWrite high-quality code that supports existing and future functionality of the product\n\nRequirements \n\n5 yrs of professional programming experience in Java, Scala, #C#\n2 yrs of experience developing large scale data solutions using one or more of the following technologies: Spark, Hadoop, Storm, Kafka, Cassandra, HBase\nSolid understanding of systems and management of resources or 2 yrs of experience developing large scale distributed systems\nBS in Computer Science or equivalent experience \n\nBonus Points\n\nExcited by data science and analytics\n\nWho We Are\nWe are product-driven, curious, and creative. We aggressively reinvest in development to keep Unity moving and evolving - from expanding usability and power, to platform reach. With over a billion installs per month, Unity touches gamers and non-gamers alike. As well as video games, our software is used in industries as diverse as medicine, visualization and shopping - democratizing game development while solving hard problems and enabling success for a huge range of developers worldwide.\nToday, Unity has expanded to over 15 international offices and has employees in 23 countries. Every person at Unity Technologies has an inherent passion and driven spirit and it isn’t enough to be able to do the job- we’re looking for people that color outside the lines, are looking to be freed from the process tangle, and can dream big!\n\nHeadhunters and recruitment agencies may not submit resumes/CVs through this Web site or directly to managers. Unity does not accept unsolicited headhunter and agency resumes. Unity will not pay fees to any third-party agency or company that does not have a signed agreement with Unity.\nPursuant to the San Francisco Fair Chance Ordinance, we will consider for employment qualified applicants with arrest and conviction records.\nUnity is an Equal Opportunity Employer committed to providing employment opportunities without regard to race, color, sex (including gender identity, sexual orientation, and pregnancy), age, national origin, religion, veteran status, disability, genetic information, or any other protected status in accordance with applicable law.\n#LI-MH1')}})))}},{key:"render",value:function(){return s.default.createElement("div",{className:this.ss("job")},s.default.createElement("div",{className:this.ss("job-title")},this.__("job_title")),this.renderJobPropsInfo(),this.renderJobAttrs(),this.renderJobDesc())}}]),a=m))||a)||a;function m(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}t.default=h},function(e,t){e.exports={job:"job_1_SYva3d","job-title":"job-title_1R-5vwBu","job-prop-row":"job-prop-row_2LYhm1ha","job-attr-row":"job-attr-row_14BgDtDV",span:"span_2avaWAW-",task:"task_3wULA1on","job-desc":"job-desc_1QlVT4yf",description:"description_QG4y1bqC"}},function(e,t){e.exports={good_example:"good_example_2ZEZ",job_title:"job_title_2C_3",job_place:"job_place_Wqcg",language:"language_nl4z",skill:"skill_1Qkm",ohter:"ohter_2uXk",attr_task:"attr_task_3weT",fullTime:"fullTime_37Nq",expires:"expires_AvOP",publish_time:"publish_time_-dxB",budget:"budget_aPze",remoteOk:"remoteOk_p4sl",unityExperience:"unityExperience_3_yG",unityCertified:"unityCertified_23Ns",preferred:"preferred_1JBt"}},function(e,t,n){e.exports=n(8)(1131)},function(e,t){e.exports={"job-example-popup":"job-example-popup_3uor91xK","job-example":"job-example_a14cJCRu",close:"close_1U_Wjjgo","job-info":"job-info_2RqbR84_",popup:"popup_1WMeJ6m2","job-info-wrap":"job-info-wrap_Hp94yIwH",detail:"detail_2kPMO1ds"}},function(e,t){e.exports={"default-layout":"default-layout_RwnACAOa","footer-sticky":"footer-sticky_1f-EaWrj","footer-nonsticky":"footer-nonsticky_3pyogdkb"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=Ge(["project.edit"],["project.edit"]),i=Ge(["project.projectData"],["project.projectData"]),l=Ge(["project.contentMap"],["project.contentMap"]),c=Ge(["project.editing"],["project.editing"]),u=Ge(["project.projectData.description"],["project.projectData.description"]),d=Ge(["project.projectData.rows"],["project.projectData.rows"]),p=Ge(["project.projectData.readmore"],["project.projectData.readmore"]),f=Ge(["project.projectData.hideReadmore"],["project.projectData.hideReadmore"]),h=Ge(["project.projectData.changed"],["project.projectData.changed"]),m=Ge(["project.webglPKG"],["project.webglPKG"]),_=Ge(["project.like"],["project.like"]),g=Ge(["project.comments"],["project.comments"]),v=Ge(["project.recommend"],["project.recommend"]),b=Ge(["project.showWebglToolBar"],["project.showWebglToolBar"]),y=Ge(["project.projectData.enableMobile"],["project.projectData.enableMobile"]),w=Ge(["project.time"],["project.time"]),j=Ge(["project.uploadingPreview"],["project.uploadingPreview"]),k=Ge(["project.hideRecord"],["project.hideRecord"]),E=Ge(["project.showStopRecord"],["project.showStopRecord"]),C=Ge(["project.mute"],["project.mute"]),S=Ge(["project.uploads"],["project.uploads"]),O=Ge(["project.uploadId"],["project.uploadId"]),N=Ge(["project.processing"],["project.processing"]),P=Ge(["project.pauseBackGround"],["project.pauseBackGround"]),T=Ge(["project.pauseState"],["project.pauseState"]),M=Ge(["loginUser"],["loginUser"]),x=Ge(["project.webglPKG.webgl.previewAttachmentId"],["project.webglPKG.webgl.previewAttachmentId"]),R=Ge(["currentUserId"],["currentUserId"]),I=Ge(["project.loadingMobile"],["project.loadingMobile"]),D=Ge(["pageType"],["pageType"]),A=Ge(["project.contentLength"],["project.contentLength"]),L=Ge(["project.warning.title"],["project.warning.title"]),U=Ge(["project.prePost.disablePostButton"],["project.prePost.disablePostButton"]),W=Ge(["project.projectData.challengeId"],["project.projectData.challengeId"]),z=Ge(["project.prePost.updateStatus"],["project.prePost.updateStatus"]),H=Ge(["project.autoSave.updateStatus"],["project.autoSave.updateStatus"]),q=Ge(["project.projectData.title"],["project.projectData.title"]),F=Ge(["project.isHottest"],["project.isHottest"]),B=Ge(["project.projectData.id"],["project.projectData.id"]),G=Ge(["project.initWebglData"],["project.initWebglData"]),K=Ge(["project.getBody"],["project.getBody"]),V=Ge(["header.showMessage"],["header.showMessage"]),J=Ge(["project.publishWebgl"],["project.publishWebgl"]),Y=Ge(["project.openDeleteChallengeConfirm"],["project.openDeleteChallengeConfirm"]),Z=Ge(["project.setProjectState"],["project.setProjectState"]),Q=Ge(["project.openShare"],["project.openShare"]),X=Ge(["project.openGetLink"],["project.openGetLink"]),$=Ge(["report.open"],["report.open"]),ee=Ge(["project.toggleLike"],["project.toggleLike"]),te=Ge(["project.setChanged"],["project.setChanged"]),ne=Ge(["project.setContentIds"],["project.setContentIds"]),ae=Ge(["project.setEnableMobile"],["project.setEnableMobile"]),oe=Ge(["project.setHideReadmore"],["project.setHideReadmore"]),re=Ge(["project.setReadmore"],["project.setReadmore"]),se=Ge(["project.submitDescription"],["project.submitDescription"]),ie=Ge(["project.changeDescription"],["project.changeDescription"]),le=Ge(["project.setEditing"],["project.setEditing"]),ce=Ge(["project.projectData.body"],["project.projectData.body"]),ue=Ge(["project.openProjectDeleteDialog"],["project.openProjectDeleteDialog"]),de=Ge(["project.downloadPreview"],["project.downloadPreview"]),pe=Ge(["project.toggleHottestProject"],["project.toggleHottestProject"]),fe=Ge(["project.showDownloadTermDialog"],["project.showDownloadTermDialog"]),he=Fe(n(2)),me=Fe(n(1)),_e=n(5),ge=n(0),ve=Fe(n(3)),be=Fe(n(112)),ye=n(26),we=Fe(n(74)),je=n(10),ke=n(11),Ee=Fe(n(14)),Ce=Fe(n(4)),Se=Fe(n(377)),Oe=Fe(n(6)),Ne=Fe(n(378)),Pe=Fe(n(379)),Te=Fe(n(118)),Me=Fe(n(385)),xe=Fe(n(15)),Re=Fe(n(91)),Ie=Fe(n(245)),De=Fe(n(92)),Ae=n(7),Le=Fe(n(13)),Ue=n(388),We=Fe(Ue),ze=Fe(n(391)),He=Fe(n(41)),qe=n(38);function Fe(e){return e&&e.__esModule?e:{default:e}}function Be(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Ge(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Ke=(0,_e.decorator)({edit:(0,ge.state)(s),projectData:(0,ge.state)(i),contentMap:(0,ge.state)(l),editing:(0,ge.state)(c),defaultDescriptionState:(0,ge.state)(u),rows:(0,ge.state)(d),readmore:(0,ge.state)(p),hideReadmore:(0,ge.state)(f),changed:(0,ge.state)(h),webglPKG:(0,ge.state)(m),like:(0,ge.state)(_),comments:(0,ge.state)(g),recommend:(0,ge.state)(v),showWebglToolBar:(0,ge.state)(b),enableMobile:(0,ge.state)(y),time:(0,ge.state)(w),uploadingPreview:(0,ge.state)(j),hideRecord:(0,ge.state)(k),showStopRecord:(0,ge.state)(E),mute:(0,ge.state)(C),uploads:(0,ge.state)(S),uploadId:(0,ge.state)(O),processing:(0,ge.state)(N),pauseBackGround:(0,ge.state)(P),pauseState:(0,ge.state)(T),loginUser:(0,ge.state)(M),previewAttachmentId:(0,ge.state)(x),currentUserId:(0,ge.state)(R),loadingMobile:(0,ge.state)(I),pageType:(0,ge.state)(D),contentLength:(0,ge.state)(A),titleWarning:(0,ge.state)(L),disablePostButton:(0,ge.state)(U),challengeId:(0,ge.state)(W),postStatus:(0,ge.state)(z),saveStatus:(0,ge.state)(H),defaultTitleState:(0,je.$editorStateFromText)((0,ge.state)(q)),defaultDescriptionStateObject:(0,je.$editorStateFromText)((0,ge.state)(u)),isHottest:(0,ge.state)(F),projectId:(0,ge.state)(B),initWebglData:(0,ge.signal)(G),getBody:(0,ge.signal)(K),showMessage:(0,ge.signal)(V),onPublish:(0,ge.signal)(J),openDeleteChallengeConfirm:(0,ge.signal)(Y),setProjectState:(0,ge.signal)(Z),openShare:(0,ge.signal)(Q),openGetLink:(0,ge.signal)(X),reportOpen:(0,ge.signal)($),toggleLike:(0,ge.signal)(ee),setChanged:(0,ge.signal)(te),setContentIds:(0,ge.signal)(ne),setEnableMobile:(0,ge.signal)(ae),setHideReadmore:(0,ge.signal)(oe),setReadmore:(0,ge.signal)(re),submitDescription:(0,ge.signal)(se),changeDescription:(0,ge.signal)(ie),setEditing:(0,ge.signal)(le),defaultBodyState:(0,je.$editorStateFromJSON)((0,ge.state)(ce)),openProjectDeleteDialog:(0,ge.signal)(ue),downloadPreview:(0,ge.signal)(de),toggleHottestProject:(0,ge.signal)(pe),showDownloadTermDialog:(0,ge.signal)(fe)})(a=(0,Ce.default)(Se.default)(a=(0,Oe.default)(Ne.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Ve,ve.default),o(Ve,[{key:"componentDidMount",value:function(){var n=this,e=this.props,t=e.projectData,a=e.contentMap,o=e.setContentIds,r=e.pageType,s=e.initWebglData,i=e.enableMobile;o({contentIds:(t.contentIds||[]).filter(function(e){return a[e]&&"img"===a[e].type})}),s(),"detail"!==r&&(window.onbeforeunload=function(){return"You are uploading the preview record"}),setTimeout(function(){n.setState({enableMobile:i}),n.trackNeedReadMore(),n.setState({isDevice:(0,ye.isDevice)()});var e=document.getElementById("webgl_iframe").contentWindow,t=n;e.onfocus=function(){t.postMessageToWebgl("startRecordingByFocus")}},1e3)}},{key:"componentDidUpdate",value:function(){this.trackNeedReadMore(),this.trackBody()}},{key:"componentWillUnmount",value:function(){window.onbeforeunload=null}},{key:"onCommentCreated",value:function(){qe.amplitudeEvents.webglDetailCommentCreated()}},{key:"onCommentLikeClick",value:function(){qe.amplitudeEvents.webglDetailCommentLikeClick()}},{key:"onReplyCommentCreated",value:function(){qe.amplitudeEvents.webglDetailReplyCommentCreated()}},{key:"onCommentReplyClick",value:function(){qe.amplitudeEvents.webglDetailCommentReplyClick()}},{key:"onMadeWithMicrogameClick",value:function(e){for(var t,n=arguments.length,a=Array(1<n?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];(t=this.props).onMadeWithMicrogameClick.apply(t,[e].concat(a))}},{key:"onCustomMadeWithClick",value:function(e,t,n){for(var a,o=arguments.length,r=Array(3<o?o-3:0),s=3;s<o;s++)r[s-3]=arguments[s];(a=this.props).onCustomMadeWithClick.apply(a,[e,t,n].concat(r))}},{key:"onAddMadeWith",value:function(e,t,n){for(var a,o=arguments.length,r=Array(3<o?o-3:0),s=3;s<o;s++)r[s-3]=arguments[s];(a=this.props).onAddMadeWith.apply(a,[e,t,n].concat(r))}},{key:"onDownloadClick",value:function(){(0,qe.isAmplitudeInitialized)()&&qe.amplitudeEvents.webglDetailDownloadClick(),this.props.showDownloadTermDialog()}},{key:"onAuthorClick",value:function(){var e;(e=this.props).onAuthorClick.apply(e,arguments)}},{key:"onWebglEditClick",value:function(){this.props.onWebglEditClick()}},{key:"onWebglReportClick",value:function(e){this.props.reportOpen(e),this.props.onWebglReportClick()}},{key:"onWebglDeleteClick",value:function(){this.props.openProjectDeleteDialog(),this.props.onWebglDeleteClick()}},{key:"onWebglLikeClick",value:function(){this.props.toggleLike(),this.props.onWebglLikeClick()}},{key:"onWebglFullscreenClick",value:function(){this.postMessageToWebgl("fullscreen"),this.props.onWebglFullscreenClick()}},{key:"onWebglUnmuteClick",value:function(){this.postMessageToWebgl("mute"),this.props.onWebglUnmuteClick()}},{key:"onWebglScreenshotCommentClick",value:function(){this.postMessageToWebgl("screenshot"),this.props.onWebglScreenshotCommentClick()}},{key:"onWebglRecordClick",value:function(){this.startRecording(),this.props.onWebglRecordClick()}},{key:"onWebglPauseRecordingClick",value:function(){this.pauseRecord(),this.props.onWebglPauseRecordingClick()}},{key:"onWebglStopRecordingClick",value:function(){this.postMessageToWebgl("stopRecording"),this.props.onWebglStopRecordingClick()}},{key:"onRecommendedItemClick",value:function(e){qe.amplitudeEvents.webglDetailRecommendedItemClick({id:e.id,title:e.title})}},{key:"clickPauseBorder",value:function(){(0,this.props.setProjectState)({key:"pauseBackGround",value:!1}),this.postMessageToWebgl("pauseRecordingByBlur")}},{key:"trackBody",value:function(){(0,this.props.getBody)()}},{key:"trackNeedReadMore",value:function(){var e;"detail"!==this.props.pageType||(e=this.state.needReadMore)!==(document.getElementById("moreDescription").clientHeight!==document.getElementById("lessDescription").clientHeight)&&this.setState({needReadMore:!e})}},{key:"editDescript",value:function(){var e=this.props,t=e.edit,n=e.setEditing,a=e.setReadmore,o=e.setHideReadmore;t&&(a({value:!0}),o({value:!0}),n({value:!0}))}},{key:"submit",value:function(){var e=this.props,t=e.edit,n=e.setEditing,a=e.submitDescription,o=e.setReadmore,r=e.setHideReadmore,s=e.changed,i=e.setChanged;s&&(a(),i({changed:!1})),t&&(n({value:!1}),r({value:!1}),o({value:!1}))}},{key:"OpenShare",value:function(){var e=this.props,t=e.projectData.title,n=e.openShare;this.state.isDevice&&navigator.share?navigator.share({text:this.__("share_body",{title:t}),url:window.location.href}):n()}},{key:"publish",value:function(){var e=this.props,t=e.saveStatus,n=e.uploads,a=e.showMessage,o=e.onPublish,r=e.setEnableMobile,s="project_publish_after_loaded_or_saved";n&&Object.keys(n).some(function(e){return(0,Ae.isLoading)(n[e].status)})||(0,Ae.isLoading)(t)?a({message:s}):(window.onbeforeunload=null,r({value:this.state.enableMobile}),this.state.enableMobile?qe.amplitudeEvents.webglDetailEnableMobile():qe.amplitudeEvents.webglDetailDisableMobile(),o())}},{key:"postMessageToWebgl",value:function(e){var t=(xe.default.WEBGL_PLAYER_BASE_URL||"").replace("/webgl","");document.getElementById("webgl_iframe").contentWindow.postMessage({action:e},t)}},{key:"pauseRecord",value:function(){this.postMessageToWebgl("pauseRecording")}},{key:"parseLink",value:function(t){try{return He.default.plainTextParse(t,!0,{})}catch(e){return t}}},{key:"startRecording",value:function(){this.props.setProjectState({key:"pauseState",value:!1}),this.postMessageToWebgl("startRecording")}},{key:"renderMuteButton",value:function(e){var t=this,n=this.props,a=n.mute,o=n.showStopRecord,r=this.state.muteShow;return me.default.createElement("button",{className:this.ss("button-wrapper","mute",e&&"hide"),onMouseEnter:function(){return t.setState({muteShow:!0})},onMouseLeave:function(){return t.setState({muteShow:!1})},onClick:function(){return r&&!o&&t.onWebglUnmuteClick()}},me.default.createElement("div",{className:this.ss("mute-icon","ifont",!a&&"ifont-ic_volume_mute",a&&"ifont-ic_volume_on",o&&"inactive")}),a?me.default.createElement(Me.default,{show:r,tips:this.__("mute")}):me.default.createElement(Me.default,{show:r,tips:this.__("volume_on")}))}},{key:"renderScreenshotButton",value:function(e){var t=this,n=this.props,a=n.showStopRecord,o=n.pageType,r=this.state.screenshotTipShow;return me.default.createElement("button",{className:this.ss("button-wrapper","GA_screenshot_botton","screenshot",("detail"!==o||e)&&"hide"),onMouseEnter:function(){return t.setState({screenshotTipShow:!0})},onMouseLeave:function(){return t.setState({screenshotTipShow:!1})},onClick:function(){return!a&&t.onWebglScreenshotCommentClick()}},me.default.createElement("div",{className:this.ss("screenshot-icon","ifont","ifont-ic_camera",a&&"inactive")}),me.default.createElement(Me.default,{show:r,tips:this.__("screenshot_tip")}))}},{key:"renderFullScreen",value:function(e){var t=this,n=this.props.showStopRecord,a=this.state.fullscreenShow;return me.default.createElement("button",{className:this.ss("button-wrapper","fullscreen",e&&"hide"),onMouseEnter:function(){return t.setState({fullscreenShow:!0})},onMouseLeave:function(){return t.setState({fullscreenShow:!1})},onClick:function(){return!n&&t.onWebglFullscreenClick()}},me.default.createElement("div",{className:this.ss("fullscreen-icon","ifont","ifont-ic_expand",n&&"inactive")}),me.default.createElement(Me.default,{show:a,tips:this.__("fullscreen")}))}},{key:"renderLeft",value:function(){var e=this,t=this.props,n=t.hideReadmore,a=t.defaultDescriptionState,o=t.editing,r=t.readmore,s=t.setReadmore,i=t.pageType,l=this.state.needReadMore;if("detail"!==i)return null;var c=this.parseLink(a);return me.default.createElement("div",null,me.default.createElement(Pe.default,{onAuthorClick:function(){return e.onAuthorClick()}}),me.default.createElement("div",{className:this.ss("description-wrapper")},me.default.createElement("div",{id:"moreDescription",className:this.ss("game-description",r&&!o&&"show"),tabIndex:"0",onClick:function(){return e.editDescript()}},c),me.default.createElement("div",{id:"lessDescription",className:this.ss("game-description","readmore-on",!r&&!o&&"show"),tabIndex:"0",onClick:function(){return e.editDescript()}},c),this.renderEditor(),me.default.createElement("button",{className:this.ss("readmore",(!l||n)&&"hide"),onClick:function(){return s({value:!r})}},r?this.__("read_less"):this.__("read_more"))),me.default.createElement("div",{className:this.ss("divider")}),me.default.createElement(be.default,{onCommentCreated:function(){return e.onCommentCreated()},onCommentLikeClick:function(){return e.onCommentLikeClick()},onReplyCommentCreated:function(){return e.onReplyCommentCreated()},onCommentReplyClick:function(){return e.onCommentReplyClick()}}))}},{key:"onEnableMobileControls",value:function(){this.setState({enableMobile:!this.state.enableMobile})}},{key:"renderSwitchText",value:function(){return this.state.enableMobile?me.default.createElement("div",null,me.default.createElement("p",null,this.__("mobile_enable_added")),me.default.createElement("div",{className:this.ss("tips")},this.__("mobile_enable_note"))):me.default.createElement("p",null,this.__("mobile_disable"))}},{key:"renderDraft",value:function(){var e=this,t=this.props,n=t.pageType,a=t.postStatus,o=t.disablePostButton,r=t.contentLength,s=t.titleWarning;return"detail"===n?null:me.default.createElement("div",null,me.default.createElement(Re.default,{editorKey:"editorTitle",nextEditorKey:"editorDescription",placeholder:this.__("add_title_hint"),defaultEditorState:this.props.defaultTitleState,warning:s,theme:"webgl"}),me.default.createElement(De.default,{editorType:"webgl",editorKey:"editorDescription",nextEditorKey:"editorBody",theme:"webgl",prevEditorKey:"editorTitle",placeholder:this.__("add_description_hint"),defaultEditorState:this.props.defaultDescriptionStateObject}),me.default.createElement("div",{className:this.ss("switch-wrapper")},me.default.createElement(we.default,{disabled:!1,checked:this.state.enableMobile,checkedChildren:"",unCheckedChildren:"",size:"small",color:"blue",onChange:function(){return e.onEnableMobileControls()},className:this.ss("settings_switch")}),me.default.createElement("div",{className:this.ss("switch-desc")},this.renderSwitchText())),me.default.createElement("div",{className:this.ss("save-button")},me.default.createElement(Le.default,{className:this.ss("post"),gaTag:"GA_btn_project_publish",theme:"primary-blue",label:this.__("save"),size:"new-small",disabled:o||r<1,loading:(0,Ae.isLoadingOrSucceeded)(a),onClick:function(){return e.publish()}})))}},{key:"renderSubContent",value:function(){var e=null;return"detail"===this.props.pageType&&(e=me.default.createElement("div",null,this.renderRecommends())),me.default.createElement("div",{className:this.ss("sub-content")},me.default.createElement("div",{className:this.ss("left")},this.renderLeft(),this.renderDraft()),me.default.createElement("div",{className:this.ss("right")},this.renderMadeWith(),e))}},{key:"renderDetail",value:function(){var e=this,t=this.props,n=t.like,a=t.projectData,o=a.title,r=a.viewCount,s=a.playCount;return me.default.createElement("div",{className:this.ss("detail")},me.default.createElement("div",{className:this.ss("heart","icon","ifont","ifont-icon-heart-o",n&&"ifont-icon-heart",n&&"heartBeat"),onClick:function(){return e.onWebglLikeClick()}}),me.default.createElement("div",{className:this.ss("info")},me.default.createElement("div",{className:this.ss("title")},o),me.default.createElement("div",{className:this.ss("counts")},this.__("views_hint",{count:r,v:(0,ke.formatNumberV2)(r)})," · ",this.__("play_hint",{count:s,v:(0,ke.formatNumberV2)(s)}))))}},{key:"renderMadeWith",value:function(){var s=this,e=this.props.webglPKG||{},a=e.mgType,t=e.pkgThumbnail,n=a&&t,o="https://store.unity.com/download-nuo";return a&&(o=this.__("url_"+a)),[me.default.createElement("div",{key:"mg-title",className:this.ss("sub-content-title")},this.__("made_with")),n&&me.default.createElement("div",{key:"mg-pkg",className:this.ss("pkg")},me.default.createElement("div",{className:this.ss("image")},me.default.createElement(Ee.default,{src:t,sizes:"40px",width:40,height:40})),me.default.createElement("div",{className:this.ss("name")},this.__(a)),me.default.createElement("a",{className:this.ss("view"),onClick:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return s.onMadeWithMicrogameClick.apply(s,[a].concat(t))},href:o,target:"_blank"},this.__("view"))),me.default.createElement("div",{key:"mg-unity",className:this.ss("pkg")},me.default.createElement("div",{className:this.ss("image-wrapper")},me.default.createElement("div",{className:this.ss("icon-unity","ifont","ifont-unity-icon-white")})),me.default.createElement("div",{className:this.ss("name")},this.__("unity")),me.default.createElement("a",{className:this.ss("view"),onClick:function(){return s.onDownloadClick()}},this.__("download"))),me.default.createElement(Ue.CustomizedMadeWith,{key:"customized",onViewClick:function(e,t,n){for(var a=arguments.length,o=Array(3<a?a-3:0),r=3;r<a;r++)o[r-3]=arguments[r];return s.onCustomMadeWithClick.apply(s,[e,t,n].concat(o))}}),me.default.createElement(We.default,{key:"add-made-with",onAddMadeWith:function(e,t,n){for(var a=arguments.length,o=Array(3<a?a-3:0),r=3;r<a;r++)o[r-3]=arguments[r];return s.onAddMadeWith.apply(s,[e,t,n].concat(o))}})]}},{key:"renderEditor",value:function(){var e=this,t=this.props,n=t.editing,a=t.rows,o=t.defaultDescriptionState;return n?me.default.createElement("div",{className:this.ss("edit-description"),onBlur:function(){return e.submit()}},me.default.createElement("textarea",{className:this.ss("input"),rows:a,placeholder:this.__("describe_your_project"),autoFocus:!0,maxLength:1e3,value:o,onChange:this.handleChange}),me.default.createElement("div",{className:this.ss("count")},1e3-o.length),me.default.createElement("div",{className:this.ss("newline")}),me.default.createElement("button",{className:this.ss("save-button")},this.__("save"))):null}},{key:"renderRecommends",value:function(){var t=this,e=this.props.recommend||{},n=e.items,a=e.userMap,o=e.teamMap;if(!n)return null;var r=n.map(function(e){return me.default.createElement(Te.default,{onClick:function(){return t.onRecommendedItemClick(e)},key:e.id,project:e,userMap:a,teamMap:o})});return me.default.createElement("div",{className:this.ss("up-next-wrapper")},me.default.createElement("div",{className:this.ss("sub-content-title")},this.__("up_next")),me.default.createElement("div",{className:this.ss("recommend-list")},r))}},{key:"renderWebglToolBar",value:function(){var e,t,n,a,o,r=this,s=this.props,i=s.uploadingPreview,l=s.showStopRecord,c=s.hideRecord,u=s.showWebglToolBar,d=s.enableMobile,p=s.time,f=s.uploadId,h=s.uploads,m=s.processing,_=s.pauseState,g=s.pageType,v=this.state,b=v.isDevice,y=v.pauseTipShow,w=v.stopTipShow,j=v.muteShow,k=v.fullscreenShow,E=v.screenshotTipShow,C=v.startRecordTipShow,S=!d&&b,O=j||k||E||y||w||C,N=60*Math.PI,P=N,T=3<p;return!h||(e=h[f])&&(n=void 0===(t=e.loaded)?0:t,P=((o=void 0===(a=e.total)?1:a)-n)/o*N),me.default.createElement("div",{className:this.ss("black",O&&"black-z-index")},me.default.createElement("div",{className:this.ss("black-top",O&&"hide")}),me.default.createElement("div",{className:this.ss("black-container",!u&&"bar-extend-revert",u&&"bar-extend")},me.default.createElement("div",{className:this.ss("black-bar-back")}),me.default.createElement("div",{className:this.ss("black-bar")},me.default.createElement("div",{className:this.ss("red-dot",!l&&"hide")}),me.default.createElement("div",{className:this.ss("record-timer",!l&&"hide")},p),me.default.createElement("div",{className:this.ss("button-wrapper","pause-recording",!l&&"hide"),onMouseEnter:function(){return r.setState({pauseTipShow:!0})},onMouseLeave:function(){return r.setState({pauseTipShow:!1})},onClick:function(){return r.onWebglPauseRecordingClick()}},me.default.createElement("div",{className:this.ss("screenshot-icon","ifont",!_&&"ifont-ic_pause",_&&"ifont-ic_play")}),me.default.createElement(Me.default,{show:y,tips:this.__("pause_tip")})),me.default.createElement("div",{className:this.ss("button-wrapper","stop-recording",!l&&"hide",T&&"inactive"),onMouseEnter:function(){return r.setState({stopTipShow:!0})},onMouseLeave:function(){return r.setState({stopTipShow:!1})},onClick:function(){return r.onWebglStopRecordingClick()}},me.default.createElement("div",{className:this.ss("screenshot-icon","ifont","ifont-ic_stop")}),me.default.createElement(Me.default,{show:w,tips:this.__("stop_tip")})),me.default.createElement("div",{className:this.ss("tools")},me.default.createElement("button",{className:this.ss("button-wrapper","start-recording",("edit"!==g||c)&&"hide"),onClick:function(){return!m&&r.onWebglRecordClick()},onMouseEnter:function(){return r.setState({startRecordTipShow:!0})},onMouseLeave:function(){return r.setState({startRecordTipShow:!1})}},me.default.createElement("div",{className:this.ss("check-icon","ifont","ifont-check-mark",m&&"fade-in-out")}),me.default.createElement("div",{className:this.ss("record-icon","ifont","ifont-ic_record",i&&"hide",m&&"inactive",m&&"fade-in")}),me.default.createElement("div",{className:this.ss("icon-wrapper",!i&&"hide")},me.default.createElement("svg",{className:this.ss("spinner"),width:"20px",height:"20px",viewBox:"0 0 66 66"},me.default.createElement("circle",{className:this.ss("circle"),fill:"none",strokeWidth:"6",strokeLinecap:"round",strokeDasharray:N,strokeDashoffset:P,cx:"33",cy:"33",r:"30"}))),me.default.createElement(Me.default,{show:C,tips:this.__("start_record")})),this.renderScreenshotButton(S),this.renderMuteButton(S),this.renderFullScreen(S)))))}},{key:"renderFooter",value:function(){var e=this,t=this.props,n=t.projectData.id,a=t.edit,o=t.pageType,r=t.loginUser,s=t.openDeleteChallengeConfirm,i=t.challengeId,l=t.downloadPreview,c=t.previewAttachmentId,u=t.isHottest,d=t.toggleHottestProject,p=t.projectId,f=t.openGetLink,h=r&&r.isAdmin,m=this.state,_=m.shareShow,g=m.reportShow,v=m.morePop,b=m.isDevice;return"detail"!==o?null:me.default.createElement("div",{className:this.ss("footer")},this.renderDetail(),me.default.createElement("div",{className:this.ss("buttons")},me.default.createElement("button",{className:this.ss("button-wrapper","share"),onMouseEnter:function(){return e.setState({shareShow:!0})},onMouseLeave:function(){return e.setState({shareShow:!1})},onClick:function(){return e.OpenShare()}},me.default.createElement("div",{className:this.ss("share-icon","ifont","ifont-ic_share")}),me.default.createElement(Me.default,{show:_,tips:this.__("share")})),me.default.createElement("div",{className:this.ss("popup-back",v&&"display"),onClick:function(){return e.setState({morePop:!1})}}),me.default.createElement("button",{className:this.ss("button-wrapper","more"),onMouseEnter:function(){return e.setState({reportShow:!0})},onMouseLeave:function(){return e.setState({reportShow:!1})},onClick:function(){return e.setState({morePop:!0})}},me.default.createElement("div",{className:this.ss("more-icon","ifont","ifont-ic_more")}),me.default.createElement(Me.default,{show:g,tips:this.__("more")}),me.default.createElement("div",{className:this.ss("popup",v&&"display")},me.default.createElement("a",{className:this.ss("button","edit",!a&&"hide"),href:"/p/"+n+"/edit",onClick:function(){return e.onWebglEditClick()}},this.__("edit")),me.default.createElement("div",{className:this.ss("button","delete-challenge",(!a||!i)&&"hide"),onClick:function(){return s()}},this.__("delete_challenge")),me.default.createElement("div",{className:this.ss("button","delete",!a&&"hide"),onClick:function(){return e.onWebglDeleteClick()}},this.__("delete")),me.default.createElement("div",{className:this.ss("button","get-link",!b&&"hide"),onClick:function(){return f()}},this.__("get_link")),me.default.createElement("div",{className:this.ss("button","report",a&&"hide"),onClick:function(){return e.onWebglReportClick({itemId:n,itemType:"project",reportTitle:"webgl"})}},this.__("report")),me.default.createElement("div",{className:this.ss("button","icon-download",(!h||!c)&&"hide"),onClick:function(){return l()}},this.__("download")),me.default.createElement("a",{id:"admin-download",download:"preview.webm"}),me.default.createElement("div",{className:this.ss("button",!h&&"hide"),onClick:function(){return d({itemId:p,isAdd:!u,language:"en"})}},u?this.__("remove_hottest"):this.__("add_hottest"))))))}},{key:"render",value:function(){var e=this,t=this.props,n=t.pauseBackGround,a=t.pageType;return me.default.createElement("div",{className:this.ss("content-wrapper")},me.default.createElement("div",{className:this.ss("place-holder-top")},me.default.createElement(Ie.default,{editorKey:"editorBody",defaultEditorState:this.props.defaultBodyState,renderOnly:"detail"===a})),this.renderWebglToolBar(),me.default.createElement("div",{className:this.ss("pause-record",!n&&"hide"),onClick:function(){return e.clickPauseBorder()}}),this.renderFooter(),this.renderSubContent(),me.default.createElement(ze.default,null))}}]),Ve.propTypes={edit:he.default.bool,projectData:he.default.object,contentMap:he.default.object,defaultDescriptionState:he.default.string,defaultBodyState:he.default.object,editing:he.default.bool,rows:he.default.number,readmore:he.default.bool,hideReadmore:he.default.bool,changed:he.default.bool,webglPKG:he.default.object,like:he.default.bool,comments:he.default.object,recommend:he.default.object,uploadingPreview:he.default.bool,showWebglToolBar:he.default.bool,enableMobile:he.default.bool,time:he.default.number,hideRecord:he.default.bool,showStopRecord:he.default.bool,mute:he.default.bool,uploads:he.default.object,uploadId:he.default.string,processing:he.default.bool,pauseBackGround:he.default.bool,pauseState:he.default.bool,loginUser:he.default.object,previewAttachmentId:he.default.string,currentUserId:he.default.string,loadingMobile:he.default.bool,pageType:he.default.string,defaultTitleState:he.default.object,defaultDescriptionStateObject:he.default.object,saveStatus:he.default.string,postStatus:he.default.string,challengeId:he.default.string,disablePostButton:he.default.bool,titleWarning:he.default.bool,contentLength:he.default.number,isHottest:he.default.bool,projectId:he.default.string,isMobileControlEnabled:he.default.bool,initWebglData:he.default.func,getBody:he.default.func,openDeleteChallengeConfirm:he.default.func,showMessage:he.default.func,onPublish:he.default.func,setProjectState:he.default.func,openShare:he.default.func,openGetLink:he.default.func,reportOpen:he.default.func,toggleLike:he.default.func,setChanged:he.default.func,setReadmore:he.default.func,setHideReadmore:he.default.func,setContentIds:he.default.func,setEnableMobile:he.default.func,submitDescription:he.default.func,changeDescription:he.default.func,setEditing:he.default.func,onComment:he.default.func,onUpdate:he.default.func,openProjectDeleteDialog:he.default.func,downloadPreview:he.default.func,toggleHottestProject:he.default.func,onMadeWithMicrogameClick:he.default.func,onCustomMadeWithClick:he.default.func,onAddMadeWith:he.default.func,onAuthorClick:he.default.func,onWebglEditClick:he.default.func,onWebglReportClick:he.default.func,onWebglDeleteClick:he.default.func,onWebglLikeClick:he.default.func,onWebglFullscreenClick:he.default.func,onWebglUnmuteClick:he.default.func,onWebglScreenshotCommentClick:he.default.func,onWebglRecordClick:he.default.func,onWebglPauseRecordingClick:he.default.func,onWebglStopRecordingClick:he.default.func,showDownloadTermDialog:he.default.func},a=Ve))||a)||a)||a;function Ve(){var e,t,s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Ve);for(var n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=s=Be(this,(e=Ve.__proto__||Object.getPrototypeOf(Ve)).call.apply(e,[this].concat(a)))).state={isDevice:!1,shareShow:!1,reportShow:!1,morePop:!1,needReadMore:!1,screenshotTipShow:!1,startRecordTipShow:!1,fullscreenShow:!1,muteShow:!1,enableMobile:!1},s.handleChange=function(e){var t=s.props,n=t.changeDescription,a=t.setChanged,o=e.target.rows;e.target.rows=3;var r=parseInt(e.target.scrollHeight/24,10);r===o&&(e.target.rows=r),15<=r&&(e.target.rows=15,e.target.scrollTop=e.target.scrollHeight),n({value:e.target.value,rows:r<15?r:15}),a({changed:!0})},Be(s,t)}t.default=Ke},function(e,t){e.exports={counts:"counts_3Z7yrbln","reaction-count":"reaction-count_3NFWxvvt","reactions-used":"reactions-used_uQ-GEsD7","fade-in":"fade-in_3p9w6Nlg","comments-wrapper":"comments-wrapper_2A5Rdpu6","no-comments":"no-comments_1nFAWR0M","comment-input-wrapper":"comment-input-wrapper_3BasJPTb",comments:"comments_2IjZ3GdS",post:"post_1S2MO7x_",emojis:"emojis_taIDvOi8","emoji-choose":"emoji-choose_3fT_mS2a","load-more":"load-more_lDvF-lws","comment-list":"comment-list_3KoFcH4T","no-comments-tip":"no-comments-tip_3DuKyVad","comment-wrap":"comment-wrap_1KDnjZdl","info-wrap":"info-wrap_1AAbmZUM",buttons:"buttons_lexNbXLR",ops:"ops_jWX2JtKQ","name-line":"name-line_3-Ur4XCf",more:"more_kJjJpoN0","avatar-wrap":"avatar-wrap_2YfFdlaB","avatar-emoji":"avatar-emoji_2bx29rKR",name:"name_sCyNgcte","staff-label":"staff-label_2JS4vg9A",time:"time_Fm8LAJ15","drop-back":"drop-back_LxiP2YGY",moreList:"moreList_pUldDMe-","more-item":"more-item_1QaGbvIJ",delete:"delete_3SO3YZEN","user-title":"user-title_3soXZsMN","comment-wrapper":"comment-wrapper_2nQqhV2K","comment-edit-buttons":"comment-edit-buttons_28TYFFqx",button:"button_11qFe494","reaction-like":"reaction-like_3bHs3xhA",like:"like_1JDfgNef",liked:"liked_2nlNdq4G","reaction-like-count":"reaction-like-count_115Uw30-","comment-content":"comment-content_ep5d0NKf",editing:"editing_gKtqcth9","parent-message":"parent-message_4HLs-pUK","parent-message-author":"parent-message-author_28h-7fze",comment:"comment_1du51nay",loading:"loading_EM3af3KX","edit-wrapper":"edit-wrapper_KMTg94v5","editing-comment-input":"editing-comment-input_1RiDoElA","auto-wrapper":"auto-wrapper_2_3gCpva","replys-wrapper":"replys-wrapper_3wQQR2h0",replys:"replys_PpBi9QrF","touch-padding":"touch-padding_2tx98X50","report-wrap":"report-wrap_moovJrWd",reply:"reply_25Ht4OPA","reply-wrapper":"reply-wrapper_3bG8DnLJ","input-wrapper":"input-wrapper_SBHQwTIl","reply-buttons":"reply-buttons_1kAXuh7f",cancel:"cancel_2DZ85CN0","hide-desk":"hide-desk_1GNrOdkW","hide-touch":"hide-touch_2M8oVVZ-",image:"image_2De7hytF","editing-image":"editing-image_2Dngtb8f","view-cmt-wrap":"view-cmt-wrap_1JiHsrDf","view-cmt":"view-cmt_3zsxBESb",login:"login_1DxvlMoE",hide:"hide_3rMbjSfh","reactions-dialog":"reactions-dialog_1uL5Da4f","header-wrapper":"header-wrapper_2H2xEUC_","reactions-wrapper":"reactions-wrapper_2pDo8Nz6","reaction-wrap":"reaction-wrap_ulyvCsPI","close-wrapper":"close-wrapper_36G05Rf2","icon-close":"icon-close_1w8w1WD9"}},function(e,t){e.exports={hint_comment:"hint_comment_1lM_",comment:"comment_Czx1",no_comments_tip:"no_comments_tip_3i4n",comment_created_at:"comment_created_at_vhSC",reply_hint:"reply_hint_hGJ1",cancel:"cancel_32DN",reply:"reply_1VpW",report_comment:"report_comment_3LUp",game_language:"game_language_2hzV",support_platform:"support_platform_23Ht",play_station:"play_station_1e9K",release_time:"release_time_PxfX",download_press_kit:"download_press_kit_13xG",press_contact:"press_contact_1INO",pressKit:"pressKit_2ZMC",online_store:"online_store_2QPr",comment_disabled:"comment_disabled_1DND",disable_comment:"disable_comment_Szi9",enable_comment:"enable_comment_3jb_",open_channel:"open_channel_1NPM",windows:"windows_26jW",xbox:"xbox_1MK2",winphone:"winphone_39zZ",tizen:"tizen_hphe",steam:"steam_nIsX",playstation:"playstation_32fF",oculus:"oculus_3QQQ",gog:"gog_6xtA",gear_vr:"gear_vr_lmIF",facebook:"facebook_3lik",google_play:"google_play_2eTS",humble:"humble_1rvT",nintendo:"nintendo_2pL7",kongregate:"kongregate_11_t",itch:"itch_2LTZ",indie_game:"indie_game_FG_J",itune:"itune_ItgP",amazon:"amazon_3nru",other:"other_GRJu",delete:"delete_3myf",report:"report_bbT0",delete_comment:"delete_comment_2AGv",delete_comment_confirm:"delete_comment_confirm_5yiA",login_or_create:"login_or_create_K5l7",to_like_or_comment:"to_like_or_comment_1mRR",reply_count:"reply_count_3Cbj",reaction_count:"reaction_count_2hfk",comment_count:"comment_count_OkQW",shared_on:"shared_on_1ykf",like:"like_2MQ3",save:"save_MQX8",edit:"edit_vFY6",post:"post_3NEY"}},function(e,t,n){e.exports=n.p+"../styles/i/emojis/placeholder.ecc18ca40e3f878586c1aa1eeaef57b7.png"},function(e,t){e.exports={"content-wrapper":"content-wrapper_3Q93L_5P","pause-record":"pause-record_1e1a7yZo","place-holder-top":"place-holder-top_18JcMK9x","switch-wrapper":"switch-wrapper_2Dg4JIlr",switch:"switch_2q8AyM8K","switch-desc":"switch-desc_hxHV8Woh",tips:"tips_teH0a217",divider:"divider_2QADh-wg",footer:"footer_OxAzZnBS","shared-time":"shared-time_3InlU6hx",detail:"detail_1_k4a9Hc",heart:"heart_3XMPb18Q",heartBeat:"heartBeat_1B5U6Rv7","heart-beat":"heart-beat_Um7dWmhI",icon:"icon_3TSYDEms",info:"info_3ZmSJeq9",title:"title_1NACe97i",counts:"counts_2Gl6HZqD",buttons:"buttons_1nzTwOu1",hide:"hide_3C8jH7T7","button-wrapper":"button-wrapper_2GxnSBIQ",disable:"disable_2silRFaS","share-icon":"share-icon_XtWV8XuJ","more-icon":"more-icon_1LGjJ9UH","report-icon":"report-icon_3YsHA3pu",more:"more_pvD6IDED",popup:"popup_21vcnWJ2",button:"button_1pWmRBEV",report:"report_2E7T_-vd",edit:"edit_15RtTHWy",delete:"delete_2ldjWiL7","icon-download":"icon-download_4oS4W33W",display:"display_rKSNgLXv","popup-back":"popup-back_183Vw_WQ",share:"share_vNdq68hO","sub-content":"sub-content_3OhWyHOQ",left:"left_1ihPxw08","save-button":"save-button_1swAQA5J",right:"right_2ijjll8d","sub-content-title":"sub-content-title_1SpJJFyA","up-next-wrapper":"up-next-wrapper_f-2fGyN8",pkg:"pkg_s79lxqsv",image:"image_323l2Y8G",name:"name_2kJtMxTV",view:"view_2CDT0wRc","image-wrapper":"image-wrapper_1FLHsq_e","icon-unity":"icon-unity_1jVZSKQu","description-wrapper":"description-wrapper_194Zs2lw","game-description":"game-description_3rb6KtnZ",show:"show_1TEjns52","edit-description":"edit-description_2ZfAdohG",input:"input_2dZLJNID",count:"count_1LZKqmLB",newline:"newline_2oALDbLp","readmore-on":"readmore-on_N8tTrF-e",readmore:"readmore_2g5HONuw","black-bar-back":"black-bar-back_mC83GE3t","black-bar":"black-bar_2kZ-B_oL","red-dot":"red-dot_IgumYv4E","record-timer":"record-timer_2jSj5HTA",tools:"tools_2HrKD0nh","check-icon":"check-icon_2VEkaGdM","record-icon":"record-icon_6PAIYAxs","pause-recording":"pause-recording_24peP6Xo","stop-recording":"stop-recording_1AlYIb7e","icon-wrapper":"icon-wrapper_3ak81vid","fullscreen-icon":"fullscreen-icon_3gnwSWkH","screenshot-icon":"screenshot-icon_3JWXf1XA","mute-icon":"mute-icon_16jmk89k",inactive:"inactive_KIh1A8TG","fade-in":"fade-in_2cyF-ad4","hold-fade-in":"hold-fade-in_CAKuqStX","fade-in-out":"fade-in-out_2Shs9BI5","fade-out":"fade-out_K4em0JIs",spinner:"spinner_QiRom8M6",circle:"circle_QAzzceu2",black:"black_2atjq6xD","black-top":"black-top_hoLjJM6R","black-z-index":"black-z-index_k_xEVpJm","black-container":"black-container_18Hi2HV5","bar-extend":"bar-extend_3DGixhhX",extend:"extend_1zkyqR0h","bar-extend-revert":"bar-extend-revert_3_gB6xIv","extend-revert":"extend-revert_18OIbxtU"}},function(e,t){e.exports={read_more:"read_more_3Ya5",read_less:"read_less_i-VJ",describe_your_project:"describe_your_project_ykJz",made_with:"made_with_2fMb",up_next:"up_next_2C4q",mg_fps:"mg_fps_2E3K",mg_karting:"mg_karting_DU05",mg_platformer:"mg_platformer_3mtS",mg_lego:"mg_lego_xw53",view:"view_3ot8",views_hint:"views_hint_67_A",play_hint:"play_hint_X1yw",report:"report_1fMb",more:"more_37fU",share:"share_1zls",start_record:"start_record_32Ws",pause_tip:"pause_tip_2Iwn",stop_tip:"stop_tip_nONk",mute:"mute_3Bl9",fullscreen:"fullscreen_2Zx1",screenshot:"screenshot_35Nr",screenshot_tip:"screenshot_tip_3Uby",volume_on:"volume_on_1JC1",unity:"unity_1rsi",edit:"edit_yPjt",delete:"delete_4QRp",delete_challenge:"delete_challenge_2WSq",save:"save_39SA",add_title_hint:"add_title_hint_3Wyh",add_description_hint:"add_description_hint_1RR1",remove_hottest:"remove_hottest_eGEh",add_hottest:"add_hottest_3ESs",download:"download_3S5Y",get_link:"get_link_3mjR",url_mg_fps:"url_mg_fps_2r32",url_mg_karting:"url_mg_karting_3xIo",url_mg_platformer:"url_mg_platformer_1Rle",url_mg_lego:"url_mg_lego_2-c_",mobile_enable_added:"mobile_enable_added_3pWP",mobile_enable_note:"mobile_enable_note_R54d",mobile_disable:"mobile_disable_lfGZ"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=T(["project"],["project"]),i=T(["project.userMap"],["project.userMap"]),l=T(["project.teamMap"],["project.teamMap"]),c=T(["project.jobRoleMap"],["project.jobRoleMap"]),u=T(["project.followMap"],["project.followMap"]),d=T(["project.followStatus"],["project.followStatus"]),p=T(["project.mouseOver"],["project.mouseOver"]),f=T(["currentUserId"],["currentUserId"]),h=T(["project.edit"],["project.edit"]),m=T(["project.toggleFollow"],["project.toggleFollow"]),_=T(["project.mouseOut"],["project.mouseOut"]),g=P(n(2)),v=P(n(1)),b=n(5),y=n(0),w=P(n(16)),j=P(n(3)),k=P(n(13)),E=n(7),C=P(n(4)),S=P(n(380)),O=P(n(6)),N=P(n(381));function P(e){return e&&e.__esModule?e:{default:e}}function T(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var M=(0,b.decorator)({project:(0,y.state)(s),userMap:(0,y.state)(i),teamMap:(0,y.state)(l),jobRoleMap:(0,y.state)(c),followMap:(0,y.state)(u),followStatus:(0,y.state)(d),mouseOver:(0,y.state)(p),currentUserId:(0,y.state)(f),edit:(0,y.state)(h),toggleFollow:(0,y.signal)(m),projectMouseOver:(0,y.signal)(p),projectMouseOut:(0,y.signal)(_)})(a=(0,C.default)(S.default)(a=(0,O.default)(N.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(x,j.default),o(x,[{key:"renderFollow",value:function(e,t){var n=this.props,a=n.followMap,o=n.followStatus,r=n.mouseOver,s=n.toggleFollow,i=n.projectMouseOver,l=n.projectMouseOut,c=n.edit,u=(0,E.isLoading)(o[e]),d=c;if(a&&a[e]){var p=r[e]?"unfollow":"following";return v.default.createElement(k.default,{label:this.__(p),className:this.ss("button"),theme:"webgl",size:"xxsmall",loading:u,disabled:d,onClick:function(){return s({followeeId:e,type:t})},onMouseOver:function(){return i({authorId:e})},onMouseOut:function(){return l({authorId:e})}})}return d?null:v.default.createElement("div",null,v.default.createElement(k.default,{label:this.__("follow_on_connect"),className:this.ss("button-long"),theme:"webgl",size:"xxsmall",loading:u,disabled:d,gaTag:"GA_btn_follow",onClick:function(){return s({followeeId:e,type:t})}}),v.default.createElement(k.default,{label:this.__("follow"),className:this.ss("button-short"),theme:"webgl",size:"xxsmall",loading:u,disabled:d,gaTag:"GA_btn_follow",onClick:function(){return s({followeeId:e,type:t})}}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.project.projectData,a=t.userMap,o=t.teamMap,r=n.userId,s=n.teamId,i=n.ownerType,l=n.publishedTime,c="team"===i,u=void 0,d=void 0,p=void 0,p=c?(d="/t/"+(u=o&&o[s]).id,u.name):(d="/u/"+(u=a&&a[r]).id,u.username);return v.default.createElement("div",{className:this.ss("sub-info")},v.default.createElement("div",{className:this.ss("avatar-name")},v.default.createElement("a",{className:this.ss("avatar"),href:d,onClick:function(){return e.props.onAuthorClick()}},v.default.createElement(w.default,{user:u,size:"xsmall",shape:c?"square":"circle"})),v.default.createElement("div",{className:this.ss("user-wrapper")},v.default.createElement("div",{className:this.ss("name-title")},v.default.createElement("a",{className:this.ss("username"),href:d,onClick:function(){return e.props.onAuthorClick()}},p)),v.default.createElement("div",{className:this.ss("time")},this.__("time",{time:l})))))}}]),x.propTypes={project:g.default.object,userMap:g.default.object,teamMap:g.default.object,jobRoleMap:g.default.object,followMap:g.default.object,followStatus:g.default.object,mouseOver:g.default.object,currentUserId:g.default.string,edit:g.default.bool,toggleFollow:g.default.func,projectMouseOver:g.default.func,projectMouseOut:g.default.func,onAuthorClick:g.default.func},a=x))||a)||a)||a;function x(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,x),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}t.default=M},function(e,t){e.exports={"sub-info":"sub-info_A9KoXCoI","avatar-name":"avatar-name_kR5GY_hX",avatar:"avatar_31zj6ZUV","user-wrapper":"user-wrapper_3EnBXRsT","button-long":"button-long_3uvyI6m0","button-short":"button-short_2vwuVCSx","name-title":"name-title_ZZLlgGIC",username:"username_1rliP5A4",title:"title_3LAAZZQF",time:"time_fTxCsAoa","project-title":"project-title_zgZefOjZ","report-wrap":"report-wrap_3Ko9gXcR",report:"report_2GAsHnKz"}},function(e,t){e.exports={follow_on_connect:"follow_on_connect_1z27",follow:"follow_8VZn",following:"following_5Jga",unfollow:"unfollow_2nVX",report_project:"report_project_eXZ-",time:"time_7FZu"}},function(e,t){e.exports={project:"project_2Gn8A5xx","project-inner":"project-inner_3p--uwaf","project-info":"project-info_2-oDI1F_",title:"title_3-F8P-sd",link:"link_2vTngvvi",name:"name_3nmFINy1",plays:"plays_mp0ymbSV"}},function(e,t){e.exports={play_count:"play_count_2kJh"}},function(e,t,n){e.exports=n.p+"../styles/i/webgl-default-image.56ef9e087fe8f635f46beb8531a49357.jpeg"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=f(n(2)),i=f(n(1)),l=f(n(3)),c=f(n(4)),u=f(n(386)),d=f(n(6)),p=f(n(387));function f(e){return e&&e.__esModule?e:{default:e}}var h=(0,c.default)(u.default)(a=(0,d.default)(p.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(m,l.default),o(m,[{key:"render",value:function(){var e=this.props,t=e.show,n=e.tips;return i.default.createElement("div",{className:this.ss("relative")},i.default.createElement("div",{className:this.ss("absolute")},i.default.createElement("div",{className:this.ss("tooltip",t&&"show")},i.default.createElement("div",{className:this.ss("tips")},n),i.default.createElement("span",{className:this.ss("tip-down")}))))}}]),m.propTypes={show:s.default.bool,tips:s.default.string},a=m))||a)||a;function m(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}t.default=h},function(e,t){e.exports={relative:"relative_2-6iXrcE",absolute:"absolute_2__BZB_h",tooltip:"tooltip_2pr2tMRG",show:"show_jqSAeY5l",deleyShow:"deleyShow_a5dt0yCn",tips:"tips_21tecNyP","tip-down":"tip-down_U0soWEFw"}},function(e,t){e.exports={screenshot_tips:"screenshot_tips_2Zr_"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CustomizedMadeWith=t.default=void 0;var a,o,r=function(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e};function s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var i=R(["project"],["project"]),l=R(["pageType"],["pageType"]),c=R(["project.madeWith.candidates"],["project.madeWith.candidates"]),u=R(["project.madeWith.value"],["project.madeWith.value"]),d=R(["project.madeWith.searchStatus"],["project.madeWith.searchStatus"]),p=R(["project.madeWith.searchType"],["project.madeWith.searchType"]),f=R(["project.changeSearchValue"],["project.changeSearchValue"]),h=R(["project.searchAssets"],["project.searchAssets"]),m=R(["project.addMadeWith"],["project.addMadeWith"]),_=R(["project.changeSearchType"],["project.changeSearchType"]),g=R(["project.madeWith.items"],["project.madeWith.items"]),v=R(["project.deleteMadeWith"],["project.deleteMadeWith"]),b=P(n(2)),y=P(n(1)),w=n(5),j=n(0),k=P(n(3)),E=n(7),C=P(n(4)),S=P(n(389)),O=P(n(6)),N=P(n(390));function P(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function x(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function R(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var I=(0,w.decorator)({project:(0,j.state)(i),pageType:(0,j.state)(l),candidates:(0,j.state)(c),searchValue:(0,j.state)(u),searchStatus:(0,j.state)(d),searchType:(0,j.state)(p),changeSearchValue:(0,j.signal)(f),searchAssets:(0,j.signal)(h),addMadeWith:(0,j.signal)(m),changeSearchType:(0,j.signal)(_)})(a=(0,C.default)(S.default)(a=(0,O.default)(N.default)((x(D,k.default),r(D,[{key:"onKeyDown",value:function(e){switch(e.keyCode){case 13:this.onSearch();break;case 27:this.props.changeSearchValue({value:""})}}},{key:"onSearch",value:function(){var e=this.props,t=e.searchValue,n=e.searchAssets;t&&n()}},{key:"addMadeWith",value:function(e,t,n,a,o){this.props.addMadeWith({title:e,image:t,url:n,refId:a,type:o}),this.props.onAddMadeWith(o,e,n)}},{key:"renderCandidates",value:function(){var s=this,e=this.props.candidates.map(function(e){var t=e.id,n=e.name,a=e.image,o=e.url,r=e.type;return y.default.createElement("div",{key:t,className:s.ss("item")},y.default.createElement("a",{href:o,target:"_blank",className:s.ss("img-wrapper")},y.default.createElement("img",{src:a})),y.default.createElement("a",{href:o,target:"_blank",className:s.ss("name")},n),y.default.createElement("div",{className:s.ss("add-button"),onClick:function(){return s.addMadeWith(n,a,o,t,r)}},s.__("add")))});return y.default.createElement("div",{className:this.ss("search-results")},e)}},{key:"renderSearchButton",value:function(){var e=this,t=this.props,n=t.searchStatus,a=t.searchValue;return(0,E.isLoading)(n)?y.default.createElement("div",{className:this.ss("loading")}):y.default.createElement("div",{className:this.ss("search-icon","ifont","ifont-material-baseline-search",!a&&"hide"),onClick:function(){return e.onSearch()}})}},{key:"render",value:function(){var t=this,e=this.props,n=e.pageType,a=e.searchValue,o=e.changeSearchValue,r=e.searchStatus;if("detail"===n)return null;var s=(0,E.isLoading)(r);return y.default.createElement("div",{className:this.ss("made-with")},y.default.createElement("div",{className:this.ss("search-wrapper")},y.default.createElement("input",{className:this.ss("input"),value:a,disabled:s,placeholder:this.__("search_hint"),onChange:function(e){return o({value:e.target.value})},onKeyDown:function(e){return t.onKeyDown(e)}}),this.renderSearchButton()),y.default.createElement("div",{className:this.ss("tips",a&&"hide")},this.__("tips")),this.renderCandidates())}}]),D.propTypes={project:b.default.object,pageType:b.default.string,candidates:b.default.array,searchValue:b.default.string,searchStatus:b.default.string,searchType:b.default.string,changeSearchValue:b.default.func,searchAssets:b.default.func,addMadeWith:b.default.func,changeSearchType:b.default.func,onAddMadeWith:b.default.func},a=D))||a)||a)||a;function D(){return T(this,D),M(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}t.default=I;t.CustomizedMadeWith=(0,w.decorator)({items:(0,j.state)(g),pageType:(0,j.state)(l),changeSearchValue:(0,j.signal)(f),deleteMadeWith:(0,j.signal)(v)})(o=(0,C.default)(S.default)(o=(0,O.default)(N.default)((x(A,k.default),r(A,[{key:"onViewClick",value:function(e,t,n){for(var a,o=arguments.length,r=Array(3<o?o-3:0),s=3;s<o;s++)r[s-3]=arguments[s];(a=this.props).onViewClick.apply(a,[e,t,n].concat(r))}},{key:"render",value:function(){var s=this,e=this.props,t=e.items,i=e.deleteMadeWith,l="detail"===e.pageType;return t.map(function(e){var t=e.refId,a=e.title,n=e.image,o=e.url,r=e.type;return y.default.createElement("div",{key:t,className:s.ss("pkg")},y.default.createElement("img",{src:n,className:s.ss("image")}),y.default.createElement("div",{className:s.ss("name")},a),l&&y.default.createElement("a",{className:s.ss("button"),href:o+"?source=share-platform",onClick:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return s.onViewClick.apply(s,[r,a,o].concat(t))},target:"_blank"},s.__("view")),!l&&y.default.createElement("div",{className:s.ss("button"),onClick:function(){return i({refId:t})}},s.__("remove")))})}}]),A.propTypes={items:b.default.array,pageType:b.default.string,changeSearchValue:b.default.func,deleteMadeWith:b.default.func,onViewClick:b.default.func},o=A))||o)||o)||o;function A(){return T(this,A),M(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}},function(e,t){e.exports={"made-with":"made-with_2w87MYHr",types:"types_3BHQgbGh",name:"name_3oV2mdIJ","selects-wrapper":"selects-wrapper_17JBQayM","select-list-button":"select-list-button_3hDkFQLI","search-wrapper":"search-wrapper_11XENmrK",input:"input_27IkNBuW","search-icon":"search-icon_1C43KkgS",loading:"loading_3lIqpwDg",tips:"tips_1cTsYGKG",item:"item_3a_wUdW5","img-wrapper":"img-wrapper_2Q8d-GRD","add-button":"add-button_2PH5THkm",pkg:"pkg_oePAtSbt",image:"image_3jrqRMd-",button:"button_2vvDDP1D","image-wrapper":"image-wrapper_Iqg0j04A","icon-unity":"icon-unity_3JlbbQRC",hide:"hide_3Rr3f4qw"}},function(e,t){e.exports={search_hint:"search_hint_1-dk",add:"add_3KIE",remove:"remove_2Fb8",resource_type:"resource_type_28sA",asset_store:"asset_store_11HQ",learn:"learn_R5c6",view:"view_3zfT",tips:"tips_-0K4"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=E(["project.downloadTermDialog.show"],["project.downloadTermDialog.show"]),i=E(["project.downloadTermDialog.source"],["project.downloadTermDialog.source"]),l=E(["project.hideDownloadTermDialog"],["project.hideDownloadTermDialog"]),c=j(n(2)),u=j(n(1)),d=n(0),p=n(5),f=j(n(3)),h=n(512),m=j(n(4)),_=j(n(392)),g=j(n(6)),v=j(n(393)),b=j(n(20)),y=j(n(13)),w=n(38);function j(e){return e&&e.__esModule?e:{default:e}}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var C=(0,p.decorator)({show:(0,d.state)(s),source:(0,d.state)(i),hide:(0,d.signal)(l)})(a=(0,m.default)(_.default)(a=(0,g.default)(v.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(S,f.default),o(S,[{key:"componentDidMount",value:function(){this.setDownloadUrl()}},{key:"onClose",value:function(){this.props.hide()}},{key:"onDownload",value:function(){var e=this.state.downloadUrl,t="/"===window.location.pathname,n=-1!==window.location.pathname.indexOf("/how-to"),a=this.props.source;(0,w.isAmplitudeInitialized)()&&(t||n||w.amplitudeEvents.downloadTermDialogAgreeAndDownload(),t&&w.amplitudeEvents.homeGetUnityAccept(),n&&"banner"===a&&w.amplitudeEvents.howToGetUnityAccept(),n&&"get-started"===a&&w.amplitudeEvents.howToDownloadHubAccept()),this.onClose(),window.open(e,"_blank")}},{key:"setDownloadUrl",value:function(){var e=(0,h.getOS)();"Macintosh"===e?this.setState({downloadUrl:"https://public-cdn.cloud.unity3d.com/hub/nuo/UnityHubSetup.dmg"}):"Linux"===e&&this.setState({downloadUrl:"https://public-cdn.cloud.unity3d.com/hub/prod/UnityHub.AppImage"})}},{key:"renderTerms",value:function(){return u.default.createElement("div",{className:this.ss("terms")},u.default.createElement("div",{className:this.ss("term")},this.__("more_than_100")),u.default.createElement("div",{className:this.ss("term")},this.__("raise_fund")),u.default.createElement("div",{className:this.ss("term")},this.__("no_plus")),u.default.createElement("div",{className:this.ss("term")},this.__("acknowledged_privacy"),u.default.createElement("a",{href:"https://unity3d.com/legal/privacy-policy"},this.__("privacy_policy"))))}},{key:"renderDownload",value:function(){var e=this;return u.default.createElement(y.default,{className:this.ss("download-button"),label:this.__("agree_and_download"),gaTag:"GA_btn_share_home_hub_downloads",onClick:function(){return e.onDownload()}})}},{key:"render",value:function(){var e=this,t=this.props.show;return u.default.createElement(b.default,{open:t,position:"center",onCloseModal:function(){return e.onClose()}},u.default.createElement("div",{className:this.ss("content")},u.default.createElement("div",{className:this.ss("title")},u.default.createElement("div",{className:this.ss("name")},this.__("name")),u.default.createElement("div",{className:this.ss("close","ifont","ifont-icon-close"),onClick:function(){return e.onClose()}})),u.default.createElement("p",null,u.default.createElement("b",null,this.__("description1")),this.__("description2"),u.default.createElement("a",{href:"https://unity3d.com/legal/terms-of-service"},this.__("description3")),this.__("description4")),this.renderTerms(),this.renderDownload()))}}]),S.propTypes={show:c.default.bool,source:c.default.string,hide:c.default.func},a=S))||a)||a)||a;function S(){var e,t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,S);for(var a=arguments.length,o=Array(a),r=0;r<a;r++)o[r]=arguments[r];return(t=n=k(this,(e=S.__proto__||Object.getPrototypeOf(S)).call.apply(e,[this].concat(o)))).state={downloadUrl:"https://public-cdn.cloud.unity3d.com/hub/nuo/UnityHubSetup.exe"},k(n,t)}t.default=C},function(e,t){e.exports={content:"content_h6xAN1fv",title:"title_1zRxzqSB",name:"name_1rX3jSf7",close:"close_3GKQ0lGa",terms:"terms_2tSoZd_N",term:"term_1XO1ubjr","download-button":"download-button_113OFumU"}},function(e,t){e.exports={name:"name_1Lpq",description1:"description1_BRK6",description2:"description2_2wPd",description3:"description3_3bni",description4:"description4_3kIY",more_than_100:"more_than_100_3bjh",raise_fund:"raise_fund_1-Kv",no_plus:"no_plus_h_MN",acknowledged_privacy:"acknowledged_privacy_3KOY",privacy_policy:"privacy_policy_2XIo",agree_and_download:"agree_and_download_2FzB"}},function(e,t,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var r=M(["currentPath"],["currentPath"]),s=M(["currentHost"],["currentHost"]),i=M(["project.projectData.title"],["project.projectData.title"]),l=M(["project.projectData.contentIds"],["project.projectData.contentIds"]),c=M(["project.contentMap"],["project.contentMap"]),u=M(["project.embed.show"],["project.embed.show"]),d=M(["project.share.show"],["project.share.show"]),f=M(["header.copyLink"],["header.copyLink"]),h=M(["project.changeScreenshotComment"],["project.changeScreenshotComment"]),m=M(["project.closeShare"],["project.closeShare"]),_=M(["project.setEmbed"],["project.setEmbed"]),g=P(p(2)),v=P(p(1)),b=p(5),y=p(0),w=P(p(3)),j=p(136),k=P(p(20)),E=P(p(15)),C=P(p(4)),S=P(p(395)),O=P(p(6)),N=P(p(396));function P(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function M(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var x=(0,b.decorator)({currentPath:(0,y.state)(r),currentHost:(0,y.state)(s),title:(0,y.state)(i),contentIds:(0,y.state)(l),contentMap:(0,y.state)(c),embedShow:(0,y.state)(u),showShare:(0,y.state)(d),copyLink:(0,y.signal)(f),changeComment:(0,y.signal)(h),closeShare:(0,y.signal)(m),setEmbed:(0,y.signal)(_)})(n=(0,C.default)(S.default)(n=(0,O.default)(N.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(R,w.default),a(R,[{key:"onShareLinkCopy",value:function(e){(0,this.props.copyLink)({content:e})}},{key:"onPopupWindow",value:function(e){var n,t;window&&(n={toolbar:"no",location:"no",status:"no",menubar:"no",scrollbars:"yes",resizable:"yes",width:"640",height:"480"},t=Object.keys(n).reduce(function(e,t){return[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e),[t+"="+n[t]])},[]),window.open(e,"targetWindow",t.join(", ")))}},{key:"onEmbedClick",value:function(){this.props.onEmbedClick&&this.props.onEmbedClick(),this.props.setEmbed({value:!0})}},{key:"onMailClick",value:function(e){this.props.onMailClick&&this.props.onMailClick(),this.onPopupWindow(e)}},{key:"onMessengerClick",value:function(e){this.props.onMessengerClick&&this.props.onMessengerClick(),this.onPopupWindow(e)}},{key:"onTwitterClick",value:function(e){this.props.onTwitterClick&&this.props.onTwitterClick(),this.onPopupWindow(e)}},{key:"onFacebookClick",value:function(e){this.props.onFacebookClick&&this.props.onFacebookClick(),this.onPopupWindow(e)}},{key:"onRedditClick",value:function(e){this.props.onRedditClick&&this.props.onRedditClick(),this.onPopupWindow(e)}},{key:"onCopyClick",value:function(e){this.props.onCopyClick&&this.props.onCopyClick(),this.copyUrlLink(e)}},{key:"copyEmbedLink",value:function(e){this.setState({embedCopied:!0}),this.onShareLinkCopy(e)}},{key:"copyUrlLink",value:function(e){this.setState({urlCopied:!0}),this.onShareLinkCopy(e)}},{key:"renderButtons",value:function(){var e=this,t=this.props,n=t.title,a=t.currentHost,o=t.currentPath,r=encodeURIComponent("https://"+a+o),s=encodeURIComponent(""+n),i="mailto:?subject="+this.__("share_subject",{title:n})+"&body="+this.__("share_body",{title:n,url:r}),l="http://www.facebook.com/dialog/send?app_id="+(E.default.APP_ID||"")+"&link="+r+"&redirect_uri="+r,c="https://twitter.com/intent/tweet?text="+this.__("share_twitter_text",{title:n,url:r})+"&source=webclient",u="https://www.facebook.com/sharer/sharer.php?u="+r,d="https://www.reddit.com/submit?title="+s+"&url="+r;return v.default.createElement("div",{className:this.ss("body")},v.default.createElement("div",{className:this.ss("share-items")},v.default.createElement("a",{className:this.ss("item"),onClick:function(){return e.onEmbedClick()}},v.default.createElement("img",{role:"presentation",className:this.ss("item-img"),src:p(397)}),this.__("embed")),v.default.createElement("a",{className:this.ss("item"),onClick:function(){return e.onMailClick(i)}},v.default.createElement("img",{role:"presentation",className:this.ss("item-img"),src:p(398)}),this.__("mail")),v.default.createElement("a",{className:this.ss("item"),onClick:function(){return e.onMessengerClick(l)}},v.default.createElement("img",{role:"presentation",className:this.ss("item-img"),src:p(399)}),this.__("messenger")),v.default.createElement("a",{className:this.ss("item"),onClick:function(){return e.onTwitterClick(c)}},v.default.createElement("img",{role:"presentation",className:this.ss("item-img"),src:p(400)}),this.__("twitter")),v.default.createElement("a",{className:this.ss("item"),onClick:function(){return e.onFacebookClick(u)}},v.default.createElement("img",{role:"presentation",className:this.ss("item-img"),src:p(401)}),this.__("facebook")),v.default.createElement("a",{className:this.ss("item"),onClick:function(){return e.onRedditClick(d)}},v.default.createElement("img",{role:"presentation",className:this.ss("item-img"),src:p(402)}),this.__("reddit"))))}},{key:"renderEmbed",value:function(){var e=this,t=this.props,n=t.embedShow,a=t.contentMap,o=t.contentIds;if(!n)return null;var r=0<o.length?(0,j.getEmbededHtml)(a[o[0]]):"unValid";return v.default.createElement("div",{className:this.ss("embed")},v.default.createElement("div",{className:this.ss("backgroud"),onClick:function(){return e.props.setEmbed({value:!1})}}),v.default.createElement("div",{className:this.ss("content")},v.default.createElement("div",{className:this.ss("button-close"),onClick:function(){return e.props.setEmbed({value:!1})}},v.default.createElement("div",{className:this.ss("close","ifont","ifont-ic_close")})),v.default.createElement("div",{className:this.ss("embed-content","sub-content")},v.default.createElement("div",{className:this.ss("embed-title","title")},this.__("share_embed")),v.default.createElement("div",{className:this.ss("embed-link","share-link-wrapper")},v.default.createElement("div",{className:this.ss("embed-text")},r),v.default.createElement("a",{className:this.ss("copy",this.state.embedCopied&&"copied"),onClick:function(){return e.copyEmbedLink(r)}},this.state.embedCopied?this.__("copied"):this.__("copy"))))))}},{key:"render",value:function(){var e=this,t=this.props,n=t.currentHost,a=t.currentPath,o=t.showShare,r="https://"+n+a;return v.default.createElement(k.default,{open:o,position:"center",onCloseModal:function(){return e.onClose()}},v.default.createElement("div",{className:this.ss("content")},v.default.createElement("button",{className:this.ss("button-close"),onClick:function(){return e.onClose()}},v.default.createElement("div",{className:this.ss("close","ifont","ifont-ic_close")})),v.default.createElement("div",{className:this.ss("share-content","sub-content")},v.default.createElement("div",{className:this.ss("share","title")},this.__("share")),this.renderButtons(),v.default.createElement("div",{className:this.ss("share-link-wrapper")},r,v.default.createElement("a",{className:this.ss("copy",this.state.urlCopied&&"copied"),onClick:function(){return e.onCopyClick(r)}},this.state.urlCopied?this.__("copied"):this.__("copy")))),this.renderEmbed()))}}]),R.propTypes={facebookUrl:g.default.string,twitterUrl:g.default.string,linkedinUrl:g.default.string,pinterestUrl:g.default.string,redditUrl:g.default.string,wechatKey:g.default.string,currentHost:g.default.string,currentPath:g.default.string,title:g.default.string,contentMap:g.default.object,contentIds:g.default.array,embedShow:g.default.bool,showShare:g.default.bool,copyLink:g.default.func,closeShare:g.default.func,setEmbed:g.default.func,onEmbedClick:g.default.func,onMailClick:g.default.func,onMessengerClick:g.default.func,onTwitterClick:g.default.func,onFacebookClick:g.default.func,onRedditClick:g.default.func,onCopyClick:g.default.func},n=R))||n)||n)||n;function R(){var e,t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,R);for(var a=arguments.length,o=Array(a),r=0;r<a;r++)o[r]=arguments[r];return(t=n=T(this,(e=R.__proto__||Object.getPrototypeOf(R)).call.apply(e,[this].concat(o)))).state={embedCopied:!1,urlCopied:!1},n.onClose=function(){n.props.closeShare&&n.props.closeShare()},T(n,t)}t.default=x},function(e,t){e.exports={embed:"embed_3ILjMfrg","share-title":"share-title_3Y7z6UU-","share-items":"share-items_LdDU9l5I",item:"item_2xq1TnnI","item-img":"item-img_34sgj5cE",content:"content_1pXL4YdB","sub-content":"sub-content_3t05hIp-","button-close":"button-close_1OXc9Ux-",close:"close_wX8yu60P",title:"title_pkZwMeqU","share-link-wrapper":"share-link-wrapper_1Upkk1E5",copy:"copy_3artDHQX",copied:"copied_Jz1dMRen","embed-link":"embed-link_32D1m6Di","embed-text":"embed-text_39sP_e4k"}},function(e,t){e.exports={share:"share_2b7_",share_twitter_text:"share_twitter_text_3UAQ",share_subject:"share_subject_3Fch",share_body:"share_body_TZ1V",embed:"embed_3DFU",mail:"mail_25iC",messenger:"messenger_99Rj",twitter:"twitter_2ovx",facebook:"facebook_7qgb",reddit:"reddit_3HWu",copy:"copy_3rB4",copied:"copied_2BmZ",share_embed:"share_embed_2oTg"}},function(e,t,n){e.exports=n.p+"../styles/i/share/embed.819e076583597186b3163a416d0a2e04.svg"},function(e,t,n){e.exports=n.p+"../styles/i/share/mail@3x.61856c3dc82c425ce81753a8cb830742.png"},function(e,t,n){e.exports=n.p+"../styles/i/share/messenger@3x.e12971b622e528c46a110db062c156c3.png"},function(e,t,n){e.exports=n.p+"../styles/i/share/twitter-social-icon-rounded-square-color@3x.41b1a9762d4ab251b892167c809bb58f.png"},function(e,t,n){e.exports=n.p+"../styles/i/share/facebook@3x.ad64081aeb7c61bf39ef725ee98db046.png"},function(e,t,n){e.exports=n.p+"../styles/i/share/reddit@3x.733e200227ab6489d06dd124992100eb.png"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o,r,s=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var l=y(["header.clipboardTip.show"],["header.clipboardTip.show"]),c=y(["header.clipboardTip.copied"],["header.clipboardTip.copied"]),u=b(n(1)),d=b(n(2)),p=n(5),f=n(0),h=b(n(3)),m=b(n(4)),_=b(n(404)),g=b(n(6)),v=b(n(405));function b(e){return e&&e.__esModule?e:{default:e}}function y(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var w=(0,p.decorator)({show:(0,f.state)(l),copied:(0,f.state)(c)})(a=(0,m.default)(_.default)(a=(0,g.default)(v.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(j,h.default),s(j,[{key:"render",value:function(){var e=this.props,t=e.show,n=e.copied;return u.default.createElement("div",{className:this.ss("text-wrap",!!t&&"active","animate-tip",!!n&&"in",!n&&"out")},this.__("text"))}}]),r=o=j,o.propTypes={show:d.default.bool,copied:d.default.bool},o.defaultProps={show:!1,copied:!1},a=r))||a)||a)||a;function j(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,j),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(j.__proto__||Object.getPrototypeOf(j)).apply(this,arguments))}t.default=w},function(e,t){e.exports={"text-wrap":"text-wrap_2B-Yk65p",active:"active_2JZKOZ9l","animate-tip":"animate-tip_2JXttsfU",in:"in_a-CzVBxk","animate-tip-in":"animate-tip-in_2IfF-mkr",out:"out_18F2o_DD","animate-tip-out":"animate-tip-out_1hvPAH75"}},function(e,t){e.exports={text:"text_2kNw"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=C(["project.submitWebglDialog.show"],["project.submitWebglDialog.show"]),i=C(["project.submitWebglDialog.updateStatus"],["project.submitWebglDialog.updateStatus"]),l=C(["project.globalChallenge"],["project.globalChallenge"]),c=C(["project.projectData"],["project.projectData"]),u=C(["project.closeSubmitWebglDialog"],["project.closeSubmitWebglDialog"]),d=C(["project.submitProjectToChallenge"],["project.submitProjectToChallenge"]),p=E(n(2)),f=E(n(1)),h=E(n(3)),m=n(5),_=n(0),g=E(n(28)),v=E(n(14)),b=n(7),y=E(n(4)),w=E(n(407)),j=E(n(6)),k=E(n(408));function E(e){return e&&e.__esModule?e:{default:e}}function C(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var S=n(50),O=(0,m.decorator)({show:(0,_.state)(s),updateStatus:(0,_.state)(i),challenge:(0,_.state)(l),project:(0,_.state)(c),onClose:(0,_.signal)(u),submitProjectToChallenge:(0,_.signal)(d)})(a=(0,y.default)(w.default)(a=(0,j.default)(k.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(N,h.default),o(N,[{key:"onClose",value:function(){var e=this.props.onClose;e&&e()}},{key:"render",value:function(){var e=this,t=this.props,n=t.show,a=t.updateStatus,o=t.challenge,r=t.project,s=r.title,i=r.thumbnail,l=t.submitProjectToChallenge;if(!o)return null;var c=o.title,u="/showcases/"+o.slug,d=i&&i.url||S;return f.default.createElement(g.default,{open:n,title:this.__("title"),width:640,submitStyle:"ok/cancel",submitText:this.__("finish"),buttonTheme:"primary-blue",submitInProgress:(0,b.isLoadingOrSucceeded)(a),onClose:function(){return e.onClose()},onSubmit:function(){return l()}},f.default.createElement("div",{className:this.ss("content")},f.default.createElement("div",{className:this.ss("description")},this.__("description",{title:c,link:u})),f.default.createElement("div",{className:this.ss("image",!i&&"default")},f.default.createElement(v.default,{src:d,alt:s,sizes:"320px"})),f.default.createElement("div",{className:this.ss("project-title")},s)))}}]),N.propTypes={show:p.default.bool,updateStatus:p.default.string,challenge:p.default.object,project:p.default.object,onClose:p.default.func,submitProjectToChallenge:p.default.func},a=N))||a)||a)||a;function N(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,N),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}t.default=O},function(e,t){e.exports={content:"content_2rO8ogQp",description:"description_3RBdPkJD",image:"image_1lFEvW3m",default:"default_3wp7JqNv","project-title":"project-title_35OoYIBp"}},function(e,t){e.exports={title:"title__I3W",description:"description_3R1V",finish:"finish_23g2"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=y(["project.submitDuplicated.show"],["project.submitDuplicated.show"]),i=y(["project.submitDuplicated.projectId"],["project.submitDuplicated.projectId"]),l=y(["project.closeSubmitDuplicated"],["project.closeSubmitDuplicated"]),c=b(n(2)),u=b(n(1)),d=b(n(3)),p=n(5),f=n(0),h=b(n(28)),m=b(n(4)),_=b(n(410)),g=b(n(6)),v=b(n(411));function b(e){return e&&e.__esModule?e:{default:e}}function y(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var w=(0,p.decorator)({show:(0,f.state)(s),projectId:(0,f.state)(i),onClose:(0,f.signal)(l)})(a=(0,m.default)(_.default)(a=(0,g.default)(v.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(j,d.default),o(j,[{key:"onClose",value:function(){var e=this.props.onClose;e&&e()}},{key:"render",value:function(){var e=this,t=this.props,n=t.show,a=t.projectId,o=this.__("title"),r="/p/"+a;return u.default.createElement("div",null,u.default.createElement(h.default,{open:n,width:640,submitStyle:"none",onClose:function(){return e.onClose()}},u.default.createElement("div",{className:this.ss("content")},u.default.createElement("div",{className:this.ss("description")},this.__("description",{title:o,link:r})))))}}]),j.propTypes={show:c.default.bool,projectId:c.default.string,onClose:c.default.func},a=j))||a)||a)||a;function j(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,j),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(j.__proto__||Object.getPrototypeOf(j)).apply(this,arguments))}t.default=w},function(e,t){e.exports={content:"content_STLjNrJB",description:"description_16fkBW7V"}},function(e,t){e.exports={title:"title_25Ee",description:"description_361S"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=w(["project.thumbnailURL"],["project.thumbnailURL"]),i=w(["project.uploads"],["project.uploads"]),l=w(["project.updateThumbnailStatus"],["project.updateThumbnailStatus"]),c=w(["project.uploadAttachment"],["project.uploadAttachment"]),u=b(n(1)),d=b(n(2)),p=b(n(3)),f=n(5),h=n(0),m=n(7),_=n(111),g=b(n(4)),v=b(n(413));function b(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function w(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var j=(0,f.decorator)({thumbnailURL:(0,h.state)(s),uploads:(0,h.state)(i),updateThumbnailStatus:(0,h.state)(l),uploadAttachment:(0,h.signal)(c)})(a=(0,g.default)(v.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(k,p.default),o(k,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.thumbnailURL,n=e.uploads[this.state.uploadId];n&&((0,m.isLoading)(n.status)?this.sendIFrameMessage({action:"thumbnailUploading",data:n.dataUrl}):(0,m.isFailedOrSucceeded)(n.status)&&this.sendIFrameMessage({action:"thumbnailUpdate",data:t}))}},{key:"sendIFrameMessage",value:function(e){var t=(0,_.getWebglOrigin)();document.getElementById("webgl_iframe").contentWindow.postMessage(e,t)}},{key:"uploadImages",value:function(e){var t,n,a;e&&e[0]&&(t=e[0],n=window.URL.createObjectURL(t),(0,this.props.uploadAttachment)({upload:a={id:Date.now()+"_"+Math.random().toString().slice(2,6),file:t,dataUrl:n,uploadType:"headerImage"},cb:"project.updateThumbnail"}),this.setState({uploadId:a.id}))}},{key:"render",value:function(){var t=this;return u.default.createElement("div",{className:this.ss("upload-thumbnail")},u.default.createElement("input",{type:"file",id:"thumbnailSelect",ref:"imageSelect",className:this.ss("hide"),accept:"image/*",onChange:function(e){return t.onFilesChange(e)}}))}}]),k.propTypes={thumbnailURL:d.default.string,uploads:d.default.object,updateThumbnailStatus:d.default.string,uploadAttachment:d.default.func},a=k))||a)||a;function k(){var e,t,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,k);for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=a=y(this,(e=k.__proto__||Object.getPrototypeOf(k)).call.apply(e,[this].concat(o)))).state={},a.onFilesChange=function(e){var t,n;e&&e.target&&(n=void 0===(t=(e.target||{}).files)?[]:t,a.uploadImages(n),a.refs.imageSelect.value=null)},y(a,t)}t.default=j},function(e,t){e.exports={"upload-thumbnail":"upload-thumbnail_NRnAWfWj","upload-thumbnail-title":"upload-thumbnail-title_7ZJKggil","upload-thumbnail-description":"upload-thumbnail-description_3XV1ZfIW","upload-thumbnail-body":"upload-thumbnail-body_2w6CQ63z","button-close":"button-close_4CysDlDj","thumbnail-empty":"thumbnail-empty_QvWGkfiD","drag-over":"drag-over_2QijiwEe","upload-text":"upload-text_1ZCTLoG7","upload-hint":"upload-hint_2qDf4zab",image:"image_2ir5_rRB",uploaded:"uploaded_1CUl5UHj","loading-wrap":"loading-wrap_7PkyvxNU","loading-text":"loading-text_1mjq504B","loading-bar":"loading-bar_7RKYtfQO",loading:"loading_1ym4jr5B","loading-button":"loading-button_1ltrOrx3",content:"content_3PKyWftn",retry:"retry_lWHesjbS",text:"text_2FSY7sMR",hide:"hide_1Hd3vjVK"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=j(["project.popupLearnShow"],["project.popupLearnShow"]),i=j(["project.cover.show"],["project.cover.show"]),l=j(["project.webglPKG"],["project.webglPKG"]),c=j(["project.initData"],["project.initData"]),u=j(["project.hidePopupLearn"],["project.hidePopupLearn"]),d=y(n(1)),p=n(5),f=n(0),h=y(n(3)),m=y(n(2)),_=y(n(4)),g=y(n(415)),v=y(n(6)),b=y(n(416));function y(e){return e&&e.__esModule?e:{default:e}}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function j(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var k=(0,p.decorator)({popupLearnShow:(0,f.state)(s),cover:(0,f.state)(i),webglPKG:(0,f.state)(l),initData:(0,f.signal)(c),hidePopupLearn:(0,f.signal)(u)})(a=(0,_.default)(g.default)(a=(0,v.default)(b.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(E,h.default),o(E,[{key:"componentDidMount",value:function(){(0,this.props.initData)()}},{key:"exploreMods",value:function(e){this.closePopup(),window.location.href=this.__("url_"+e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.popupLearnShow,a=t.cover,o=t.webglPKG;if(!n||!a)return null;var r=(o||{}).mgType,s="default",i="explore_more";switch(r){case"mg_fps":case"mg_karting":case"mg_platformer":case"mg_lego":s=r,i="custom_your_game"}return d.default.createElement("div",{className:this.ss("popup")},d.default.createElement("div",{className:this.ss("icon","ifont","ifont-material-baseline-clear"),onClick:this.closePopup}),d.default.createElement("div",{className:this.ss("text")},d.default.createElement("h1",{className:this.ss("title")},this.__("popup_title_"+s)),d.default.createElement("div",{className:this.ss("desc")},this.__("popup_desc_"+s))),d.default.createElement("div",{className:this.ss("link"),onClick:function(){return e.exploreMods(s)}},this.__(i)))}}]),E.propTypes={popupLearnShow:m.default.bool,cover:m.default.bool,webglPKG:m.default.object,initData:m.default.func,hidePopupLearn:m.default.func},a=E))||a)||a)||a;function E(){var e,t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,E);for(var a=arguments.length,o=Array(a),r=0;r<a;r++)o[r]=arguments[r];return(t=n=w(this,(e=E.__proto__||Object.getPrototypeOf(E)).call.apply(e,[this].concat(o)))).closePopup=function(){(0,n.props.hidePopupLearn)()},w(n,t)}t.default=k},function(e,t){e.exports={popup:"popup_zQGZkTJ-",icon:"icon_4Y3g2H_I",text:"text_2YoldUnc",title:"title_INuMJLmL",desc:"desc_tycWTOPh",link:"link_3BGyTT4m"}},function(e,t){e.exports={popup_title_default:"popup_title_default_3r4Z",popup_desc_default:"popup_desc_default_F2Cn",popup_title_mg_fps:"popup_title_mg_fps_3FYI",popup_title_mg_karting:"popup_title_mg_karting_1gAd",popup_title_mg_platformer:"popup_title_mg_platformer_1fPZ",popup_title_mg_lego:"popup_title_mg_lego_1bzO",popup_desc_mg_fps:"popup_desc_mg_fps_20fO",popup_desc_mg_karting:"popup_desc_mg_karting_2zck",popup_desc_mg_platformer:"popup_desc_mg_platformer_1gAa",popup_desc_mg_lego:"popup_desc_mg_lego_391E",explore_more:"explore_more_2sXH",custom_your_game:"custom_your_game_2EL1",url_default:"url_default_3v_U",url_mg_fps:"url_mg_fps_VDgT",url_mg_karting:"url_mg_karting_2YnW",url_mg_platformer:"url_mg_platformer_2GmR",url_mg_lego:"url_mg_lego_KWIe"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var r=D(["project.screenshotDialog.show"],["project.screenshotDialog.show"]),s=D(["project.screenshotDialog.showEmoji"],["project.screenshotDialog.showEmoji"]),l=D(["project.screenshotDialog.preText"],["project.screenshotDialog.preText"]),c=D(["project.screenshotDialog.image"],["project.screenshotDialog.image"]),u=D(["project.screenshotDialog.comment"],["project.screenshotDialog.comment"]),d=D(["project.screenshotDialog.emoji"],["project.screenshotDialog.emoji"]),p=D(["project.commentStatus"],["project.commentStatus"]),f=D(["project.setPreText"],["project.setPreText"]),h=D(["project.closeScreenshotDialog"],["project.closeScreenshotDialog"]),m=D(["project.changeScreenshotComment"],["project.changeScreenshotComment"]),_=D(["project.openEmoji"],["project.openEmoji"]),g=D(["project.closeEmoji"],["project.closeEmoji"]),v=D(["project.changeEmoji"],["project.changeEmoji"]),b=D(["project.postScreenshot"],["project.postScreenshot"]),y=R(i(2)),w=R(i(1)),j=R(i(12)),k=i(5),E=i(0),C=R(i(3)),S=R(i(13)),O=i(7),N=R(i(20)),P=R(i(4)),T=R(i(418)),M=R(i(6)),x=R(i(419));function R(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function D(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var A=(0,k.decorator)({show:(0,E.state)(r),showEmoji:(0,E.state)(s),preText:(0,E.state)(l),image:(0,E.state)(c),comment:(0,E.state)(u),emoji:(0,E.state)(d),updateStatus:(0,E.state)(p),setPreText:(0,E.signal)(f),onClose:(0,E.signal)(h),changeComment:(0,E.signal)(m),openEmoji:(0,E.signal)(_),closeEmoji:(0,E.signal)(g),changeEmoji:(0,E.signal)(v),postScreenshot:(0,E.signal)(b)})(n=(0,P.default)(T.default)(n=(0,M.default)(x.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(L,C.default),a(L,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyPress)}},{key:"componentWillReceiveProps",value:function(e){var t;!e.show||this.props.show||(t=j.default.findDOMNode(this._input))&&setTimeout(function(){return t.focus()},100)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyPress)}},{key:"onClickClose",value:function(){var e=this.props,t=e.onClose,n=e.setPreText;t(),n({value:-1})}},{key:"onClickText",value:function(e,t){var n=this.props,a=n.setPreText;(0,n.changeComment)({value:this.__(e)}),a({value:t})}},{key:"renderEmoji",value:function(){var n=this,e=this.props,t=e.emoji,a=e.showEmoji,o=e.openEmoji,r=[],s=new Map([["unhappy",i(113)],["nerd",i(114)],["laugh",i(115)],["love",i(116)],["grinning",i(117)]]);return s.forEach(function(e,t){r.push(w.default.createElement("a",{key:t,className:n.ss("botton-"+t,"emoji-button"),onClick:function(){return n.clickEmoji(t)}},w.default.createElement("img",{className:n.ss("image"),src:e})))}),w.default.createElement("div",{className:this.ss("emojis")},w.default.createElement("div",{className:this.ss("emoji-choose",!a&&"hide")},r),w.default.createElement("div",{className:this.ss("emoji"),onClick:function(){return o()}},w.default.createElement("img",{className:this.ss("image"),src:s.get(t)})))}},{key:"renderInput",value:function(){var t=this,e=this.props,n=e.comment,a=e.updateStatus,o=e.changeComment,r=e.postScreenshot,s=!(n||"").trim();return w.default.createElement("div",{className:this.ss("input-wrapper")},w.default.createElement("div",{className:this.ss("input-inner-wrapper")},this.renderEmoji(),w.default.createElement("input",{ref:function(e){t._input=e},placeholder:this.__("say_something"),value:n,autoFocus:!0,onChange:function(e){return o({value:e.target.value})}}),w.default.createElement(S.default,{theme:"webgl",size:"new-medium",disabled:s,gaTag:"GA_screenshot_comment",className:this.ss("post"),loading:(0,O.isLoading)(a),label:this.__("post"),onClick:function(){return r()}})))}},{key:"renderInputChoose",value:function(){for(var a=this,o=this.props.preText,r=[],e=1;e<4;e++)!function(e){var t="comment_"+e,n="comment_fill_"+e;r.push(w.default.createElement("div",{tabIndex:0,key:t,className:a.ss("bottom-"+e,"choose-button",o===e&&"chosen"),onClick:function(){return a.onClickText(a.__(n),e)}},a.__(t)))}(e);return w.default.createElement("div",{className:this.ss("input-choose-wrapper")},r)}},{key:"renderClose",value:function(){var e=this;return w.default.createElement("div",{className:this.ss("close-wrapper")},w.default.createElement("div",{className:this.ss("icon-close","ifont","ifont-material-baseline-clear"),onClick:function(){return e.onClickClose()}}))}},{key:"render",value:function(){var e=this.props,t=e.show,n=e.image,a=e.onClose;return w.default.createElement("div",{className:this.ss("screeshot-dialog")},w.default.createElement(N.default,{open:t,position:"center",onCloseModal:function(){return a()}},w.default.createElement("div",{className:this.ss("content")},w.default.createElement("img",{src:n}),this.renderInputChoose(),this.renderInput(),this.renderClose())))}}]),L.propTypes={show:y.default.bool,showEmoji:y.default.bool,preText:y.default.number,image:y.default.string,comment:y.default.string,emoji:y.default.string,updateStatus:y.default.string,setPreText:y.default.func,onClose:y.default.func,changeComment:y.default.func,openEmoji:y.default.func,closeEmoji:y.default.func,changeEmoji:y.default.func,postScreenshot:y.default.func},n=L))||n)||n)||n;function L(){var e,t,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,L);for(var n=arguments.length,a=Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=o=I(this,(e=L.__proto__||Object.getPrototypeOf(L)).call.apply(e,[this].concat(a)))).clickEmoji=function(e){var t=o.props,n=t.changeEmoji,a=t.closeEmoji;n({value:e}),a()},o.handleKeyPress=function(e){var t=o.props.comment,n=e.keyCode,a=!!(t||"").trim();13===n&&a&&o.props.postScreenshot()},I(o,t)}t.default=A},function(e,t){e.exports={"screeshot-dialog":"screeshot-dialog_3-4zSU67",content:"content_WBDVxrtf","input-wrapper":"input-wrapper_3jrN9pzC","input-choose-wrapper":"input-choose-wrapper_2QvAkfVY","choose-button":"choose-button_3IH-tliA","bottom-3":"bottom-3_OkllWG0d",chosen:"chosen_m9Vz4iSk","input-inner-wrapper":"input-inner-wrapper_3Zg1_DZQ",emojis:"emojis_117nJ0w5","emoji-choose":"emoji-choose_4hLMjr7t",image:"image_3QYzWt7g",hide:"hide_11r4Ce-H",post:"post_2cQ-ErwG","close-wrapper":"close-wrapper_2Hd_XFbC","icon-close":"icon-close_3AnZs_xQ"}},function(e,t){e.exports={post:"post_XEP_",say_something:"say_something_2F5S",comment_1:"comment_1_Nwdi",comment_fill_1:"comment_fill_1_ghfq",comment_2:"comment_2_EA_C",comment_fill_2:"comment_fill_2_3OXa",comment_3:"comment_3_1mQX",comment_fill_3:"comment_fill_3_1BvH",emoji_confused:"emoji_confused_2FTH",emoji_nerd:"emoji_nerd_2iGQ",emoji_joy_tear:"emoji_joy_tear_WqgV",emoji_heart_eyes:"emoji_heart_eyes_2uwq",emoji_grinning:"emoji_grinning_2OMH"}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var r=R(["project.projectData"],["project.projectData"]),i=R(["project.unlockedAsset.modalIsOpen"],["project.unlockedAsset.modalIsOpen"]),l=R(["project.unlockedAsset.asset.index"],["project.unlockedAsset.asset.index"]),c=R(["project.unlockedAsset.asset.textIndex"],["project.unlockedAsset.asset.textIndex"]),u=R(["project.unlockedAsset.asset.unlocked"],["project.unlockedAsset.asset.unlocked"]),d=R(["project.unlockedAsset.type"],["project.unlockedAsset.type"]),p=R(["project.unlockedAsset.all"],["project.unlockedAsset.all"]),f=R(["project.getUnlockedAssets"],["project.getUnlockedAssets"]),h=R(["project.confirmUnlockedAssets"],["project.confirmUnlockedAssets"]),m=R(["header.sendCDPRequest"],["header.sendCDPRequest"]),_=R(["project.closeModal"],["project.closeModal"]),g=M(s(2)),v=M(s(1)),b=s(5),y=s(0),w=M(s(3)),j=M(s(20)),k=M(s(15)),E=s(144),C=s(38),S=s(23),O=M(s(4)),N=M(s(421)),P=M(s(6)),T=M(s(422));function M(e){return e&&e.__esModule?e:{default:e}}function x(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function R(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var I=(0,b.decorator)({project:(0,y.state)(r),modalIsOpen:(0,y.state)(i),index:(0,y.state)(l),textIndex:(0,y.state)(c),unlocked:(0,y.state)(u),type:(0,y.state)(d),allUnlocked:(0,y.state)(p),getUnlockedAssets:(0,y.signal)(f),confirmUnlockedAssets:(0,y.signal)(h),sendCDPRequest:(0,y.signal)(m),closeModal:(0,y.signal)(_)})(n=(0,O.default)(N.default)(n=(0,P.default)(T.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(D,w.default),a(D,[{key:"componentDidMount",value:function(){var a=this,e=this.props.allUnlocked.map(function(e){if(!1!==e.confirmed)return null;var t=null;for(var n in a.getAssets())if(null!==(t=e.assetId===a.getAssets()[n].id?parseInt(n,10)+1:null))break;return t}).filter(function(e){return null!==e}),t=-1!==e.indexOf(1),n=-1!==e.indexOf(2),o=-1!==e.indexOf(3),r=null;t&&o?(r=C.amplitudeEvents.assetUnlockFirstAndThirdKartingDisplayed,"FPS"===this.props.type?r=C.amplitudeEvents.assetUnlockFirstAndThirdFpsDisplayed:"LEGO"===this.props.type&&(r=C.amplitudeEvents.assetUnlockFirstAndThirdLegoDisplayed)):t?(r=C.amplitudeEvents.assetUnlockFirstKartingDisplayed,"FPS"===this.props.type?r=C.amplitudeEvents.assetUnlockFirstFpsDisplayed:"LEGO"===this.props.type&&(r=C.amplitudeEvents.assetUnlockFirstLegoDisplayed)):n?(r=C.amplitudeEvents.assetUnlockSecondKartingDisplayed,"FPS"===this.props.type?r=C.amplitudeEvents.assetUnlockSecondFpsDisplayed:"LEGO"===this.props.type&&(r=C.amplitudeEvents.assetUnlockSecondLegoDisplayed)):o&&(r=C.amplitudeEvents.assetUnlockThirdKartingDisplayed,"FPS"===this.props.type?r=C.amplitudeEvents.assetUnlockThirdFpsDisplayed:"LEGO"===this.props.type&&(r=C.amplitudeEvents.assetUnlockThirdLegoDisplayed)),null!==r&&r({id:this.props.project.id,title:this.props.project.title})}},{key:"getCDPData",value:function(e){var t=this.props,n=t.project,a=t.index,o=t.textIndex;return this.getAssets()[a]?{assetNumber:o+1,assetInd:e,packageId:this.getAssets()[a].id,projectId:n.id}:null}},{key:"getAssets",value:function(){switch(this.props.type){case"FPS":return[{id:k.default.ASSET_UNLOCK_FPS_FIRST,img:s(427),text:this.__("asset_unlock_fps_first_text"),unlockedText:this.__("asset_unlock_fps_first_unlocked_text")},{id:k.default.ASSET_UNLOCK_FPS_SECOND,img:s(428),text:this.__("asset_unlock_fps_second_text"),unlockedText:this.__("asset_unlock_fps_second_unlocked_text")},{id:k.default.ASSET_UNLOCK_FPS_THIRD,img:s(429),text:this.__("asset_unlock_fps_third_text"),unlockedText:this.__("asset_unlock_fps_third_unlocked_text")}];case"Karting":return[{id:k.default.ASSET_UNLOCK_KARTING_FIRST,img:s(430),text:this.__("asset_unlock_karting_first_text"),unlockedText:this.__("asset_unlock_karting_first_unlocked_text")},{id:k.default.ASSET_UNLOCK_KARTING_SECOND,img:s(431),text:this.__("asset_unlock_karting_second_text"),unlockedText:this.__("asset_unlock_karting_second_unlocked_text")},{id:k.default.ASSET_UNLOCK_KARTING_THIRD,img:s(432),text:this.__("asset_unlock_karting_third_text"),unlockedText:this.__("asset_unlock_karting_third_unlocked_text")}];case"LEGO":return[{id:k.default.ASSET_UNLOCK_LEGO_FIRST,img:s(433),text:this.__("asset_unlock_lego_first_text"),unlockedText:this.__("asset_unlock_lego_first_unlocked_text")},{id:k.default.ASSET_UNLOCK_LEGO_SECOND,img:s(434),text:this.__("asset_unlock_lego_second_text"),unlockedText:this.__("asset_unlock_lego_second_unlocked_text")},{id:k.default.ASSET_UNLOCK_LEGO_THIRD,img:s(435),text:this.__("asset_unlock_lego_third_text"),unlockedText:this.__("asset_unlock_lego_third_unlocked_text")}];default:return[]}}},{key:"renderAssetDialog",value:function(){var r=this,e=this.props.index,s=[];return null===e?null:((0,S.each)(this.getAssets(),function(e,t){var n=void 0,a=null;r.props.unlocked[e.id]?n=v.default.createElement("div",{className:r.ss("image-lock")},v.default.createElement("img",{src:r.state.icons.unlocked,alt:"unlocked"})):(n=v.default.createElement("div",{className:r.ss("image-lock")},v.default.createElement("img",{src:r.state.icons.locked,alt:"locked"})),a=v.default.createElement("div",{className:r.ss("image-blocked")},v.default.createElement("span",null,r.getAssets()[t].text)));var o={backgroundImage:"url("+e.img+")"};s.push(v.default.createElement("div",{className:r.ss("image-wrap"+(0<t?" image-wrap__inline":"")),key:t},a,n,v.default.createElement("div",{className:r.ss("image"),src:e.img,style:o,alt:"microgame",key:t})))}),v.default.createElement("div",{className:this.ss("image-wrap-container")},s))}},{key:"render",value:function(){var e=this,t="";return this.getAssets()[this.props.textIndex]&&(t=this.getAssets()[this.props.allUnlocked.length-1].unlockedText),v.default.createElement(j.default,{open:this.props.modalIsOpen,position:"center"},v.default.createElement("div",{className:this.ss("unlocked-assets")},this.renderAssetDialog(),v.default.createElement("div",{className:this.ss("content-wrap rich-text")},v.default.createElement("p",null,t),v.default.createElement("div",{className:this.ss("btn-group")},v.default.createElement("button",{onClick:function(){return e.onCloseAndShowAsset()},className:this.ss("button")},"Get Asset"),v.default.createElement("button",{onClick:function(){return e.onClose(!1)},className:this.ss("button-outlined")},"Not Now")))))}}]),D.propTypes={project:g.default.object,modalIsOpen:g.default.bool,index:g.default.number,textIndex:g.default.number,unlocked:g.default.bool,type:g.default.string,allUnlocked:g.default.array,getUnlockedAssets:g.default.func,confirmUnlockedAssets:g.default.func,sendCDPRequest:g.default.func,closeModal:g.default.func},n=D))||n)||n)||n;function D(){var e,t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,D);for(var a=arguments.length,o=Array(a),r=0;r<a;r++)o[r]=arguments[r];return(t=n=x(this,(e=D.__proto__||Object.getPrototypeOf(D)).call.apply(e,[this].concat(o)))).state={icons:{navigateNext:s(423),navigateBack:s(424),locked:s(425),unlocked:s(426)}},n.onClose=function(e){var t;n.props.confirmUnlockedAssets(),e||(t=n.getCDPData("false"),C.amplitudeEvents.assetUnlockNotNowClicked({id:n.props.project.id,title:n.props.project.title,type:n.props.type}),n.props.sendCDPRequest({type:E.CDPConnectTypes.CDPTypeAssetUnlocked,data:t})),n.props.closeModal()},n.onCloseAndShowAsset=function(){n.onClose(!0);var e=n.getCDPData("true");C.amplitudeEvents.assetUnlockGetAssetClicked({id:n.props.project.id,title:n.props.project.title,type:n.props.type}),n.props.sendCDPRequest({type:E.CDPConnectTypes.CDPTypeAssetUnlocked,data:e,redirectUrl:"https://assetstore.unity.com/account/assets",popup:!0})},x(n,t)}t.default=I},function(e,t){e.exports={"unlocked-assets":"unlocked-assets_33b_CqC8","image-wrap-container":"image-wrap-container_3uV9zkKN","image-wrap":"image-wrap_3icryTRS","image-wrap__inline":"image-wrap__inline_1pdyvTiW","image-lock":"image-lock_3gVzOIoZ","image-blocked":"image-blocked_2YUrfLKP",image:"image_1XUdfcKe","content-wrap":"content-wrap_95s8VUg1","btn-group":"btn-group_1WQdGl56",button:"button_1zQ-DP8O","button-outlined":"button-outlined_2dtXQxZU",hidden:"hidden_1Lj-6Kqj"}},function(e,t){e.exports={asset_unlock_fps_first_text:"asset_unlock_fps_first_text_2dc4",asset_unlock_fps_first_unlocked_text:"asset_unlock_fps_first_unlocked_text__xzm",asset_unlock_fps_second_text:"asset_unlock_fps_second_text_1cFR",asset_unlock_fps_second_unlocked_text:"asset_unlock_fps_second_unlocked_text_3-ps",asset_unlock_fps_third_text:"asset_unlock_fps_third_text_RRYi",asset_unlock_fps_third_unlocked_text:"asset_unlock_fps_third_unlocked_text_1Cb6",asset_unlock_karting_first_text:"asset_unlock_karting_first_text_2Rgy",asset_unlock_karting_first_unlocked_text:"asset_unlock_karting_first_unlocked_text_OzuU",asset_unlock_karting_second_text:"asset_unlock_karting_second_text_lSXa",asset_unlock_karting_second_unlocked_text:"asset_unlock_karting_second_unlocked_text_2VZa",asset_unlock_karting_third_text:"asset_unlock_karting_third_text_Fs3L",asset_unlock_karting_third_unlocked_text:"asset_unlock_karting_third_unlocked_text_215_",asset_unlock_lego_first_text:"asset_unlock_lego_first_text_FNl6",asset_unlock_lego_first_unlocked_text:"asset_unlock_lego_first_unlocked_text_2eM1",asset_unlock_lego_second_text:"asset_unlock_lego_second_text_rhP-",asset_unlock_lego_second_unlocked_text:"asset_unlock_lego_second_unlocked_text_1Inq",asset_unlock_lego_third_text:"asset_unlock_lego_third_text_2rmI",asset_unlock_lego_third_unlocked_text:"asset_unlock_lego_third_unlocked_text_yLJQ"}},function(e,t,n){e.exports=n.p+"../styles/i/unlocked-assets/ic_navigate_next.0eb7d6df491537f52db6c6a8006733bb.png"},function(e,t,n){e.exports=n.p+"../styles/i/unlocked-assets/ic_navigate_back.c91d85761ad7c38afe9db696222bcae4.png"},function(e,t,n){e.exports=n.p+"../styles/i/unlocked-assets/ic_lock.27837dadba5443e37f825aadbf3921f9.png"},function(e,t,n){e.exports=n.p+"../styles/i/unlocked-assets/ic_lock_open.782beedec260c1d8260904cb0cd83da5.png"},function(e,t,n){e.exports=n.p+"../styles/i/unlocked-assets/FPS_First.e8d308a27391b32a8b341e807250b43c.png"},function(e,t,n){e.exports=n.p+"../styles/i/unlocked-assets/FPS_Second.8846ccf69be9b5ae3fe363dfbbe2ff3a.png"},function(e,t,n){e.exports=n.p+"../styles/i/unlocked-assets/FPS_Third.dc28c5be9363d3e905bba80e6a00cec6.png"},function(e,t,n){e.exports=n.p+"../styles/i/unlocked-assets/Karting_First.b4e4b0cedc71e08f5e6ff5aed1477a1d.png"},function(e,t,n){e.exports=n.p+"../styles/i/unlocked-assets/Karting_Second.dd7825905aca52a4224673eecff6d816.png"},function(e,t,n){e.exports=n.p+"../styles/i/unlocked-assets/Karting_Third.7334bc97d0b697a12365e4dcdb40a238.png"},function(e,t,n){e.exports=n.p+"../styles/i/unlocked-assets/LEGOmg_Unlockable01_KnightK.4b9cd77437864c2eae823631d3a75512.png"},function(e,t,n){e.exports=n.p+"../styles/i/unlocked-assets/LEGOmg_Unlockable02_Space.11670239252dad46cc10f428d16404e0.png"},function(e,t,n){e.exports=n.p+"../styles/i/unlocked-assets/LEGOmg_Unlockable03_Island.bb44d1207590f148038ff334236d6d2e.png"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventType=t.UserGroups=void 0;var a,o=n(25),r=(a=o)&&a.__esModule?a:{default:a};t.UserGroups={admin:"admin",superAdmin:"super_admin",learnCreator:"learn_creator",learnModerator:"learn_moderator",learnAdmin:"learn_admin",learnAdminEN:"learn_admin_en",learnAdminZH:"learn_admin_zh",learnAdminJA:"learn_admin_ja",learnAdminKO:"learn_admin_ko",learnAdminRU:"learn_admin_ru",learnAdminES:"learn_admin_es",learnAdminFR:"learn_admin_fr",learnAdminDE:"learn_admin_de",learnAdminPT:"learn_admin_pt",learnEditor:"learn_editor",learnEditorEN:"learn_editor_en",learnEditorZH:"learn_editor_zh",learnEditorJA:"learn_editor_ja",learnEditorKO:"learn_editor_ko",learnEditorRU:"learn_editor_ru",learnEditorES:"learn_editor_es",learnEditorFR:"learn_editor_fr",learnEditorDE:"learn_editor_de",learnEditorPT:"learn_editor_pt"},t.EventType=(0,r.default)({connect:null,learn:null})},function(e,t){e.exports={content:"content_3N5rckCb",cover:"cover_1JeQPIdY",hide:"hide_3ziujyto",background:"background_3yJzdbcK","black-background":"black-background_cOEoSBNn","click-region":"click-region_1EFv8oH8",display:"display_uSUsoBbM","main-content":"main-content_Xk0qr5MY","expired-content":"expired-content_3EnV4a89","comments-recommends":"comments-recommends_zedTegDc","comment-list":"comment-list_3166drYV","recommend-list":"recommend-list_nzhhKapG",share:"share_2CFISCb9",left:"left_lgxtLLuG","share-title":"share-title_ol4UeA6Q","share-content":"share-content__BQ7PYYs",copy:"copy_Tq-URNAW","share-tips":"share-tips_T6-ZfsXt","icon-mac":"icon-mac_34NDVvk3",main:"main_37iBrY0U","sub-info":"sub-info_1c9953YL","project-content":"project-content_2klpsgCC",right:"right_qRoAd_FU",comment:"comment_epB8vjV2",statistics:"statistics_1JZ418jx",item:"item_GuTavl3t",active:"active_2ENYxU0u",icon:"icon_pywD_fs8",disable:"disable_1x-G1lYT",text:"text_1lKSB2kI",like:"like_36jkOWZl","statistics-mobile":"statistics-mobile_2wLkGi-d","challenge-wrapper":"challenge-wrapper_1LcAoELC",challenge:"challenge_3dxDNSNS","icon-wrapper":"icon-wrapper_12_NJG7O",info:"info_7lVivgxK","event-wrapper":"event-wrapper_yxTGc1xG","event-title":"event-title_2Hp_0WPo",tag:"tag_1LUi77KF",tips:"tips_2oPF20jn","not-now":"not-now_2pthAPhO","button-wrapper":"button-wrapper_3AZYacvD",disabled:"disabled_WmROKGjD"}},function(e,t){e.exports={share_game_link:"share_game_link_2ey8",copy:"copy_MmEt",share_tips:"share_tips_cPbc",likes_hint:"likes_hint_SBwN",comments_hint:"comments_hint_12B-",views_hint:"views_hint_1QlD",play_hint:"play_hint_2SY1",project_expired:"project_expired_1Zrg",tips:"tips_2uU4",tips_success:"tips_success_2n4d",submit_game:"submit_game_1bhj",check_status:"check_status_uhaL",not_now:"not_now_3uDX",share_body:"share_body_3AEn"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=N(["currentPath"],["currentPath"]),i=N(["currentHost"],["currentHost"]),l=N(["project.projectData.contentIds"],["project.projectData.contentIds"]),c=N(["project.contentMap"],["project.contentMap"]),u=N(["project.embed.show"],["project.embed.show"]),d=N(["project.getLink.show"],["project.getLink.show"]),p=N(["header.copyLink"],["header.copyLink"]),f=N(["project.changeScreenshotComment"],["project.changeScreenshotComment"]),h=N(["project.closeGetLink"],["project.closeGetLink"]),m=N(["project.setEmbed"],["project.setEmbed"]),_=S(n(2)),g=S(n(1)),v=n(5),b=n(0),y=S(n(3)),w=S(n(20)),j=S(n(4)),k=S(n(440)),E=S(n(6)),C=S(n(441));function S(e){return e&&e.__esModule?e:{default:e}}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function N(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var P=(0,v.decorator)({currentPath:(0,b.state)(s),currentHost:(0,b.state)(i),contentIds:(0,b.state)(l),contentMap:(0,b.state)(c),embedShow:(0,b.state)(u),showGetLink:(0,b.state)(d),copyLink:(0,b.signal)(p),changeComment:(0,b.signal)(f),closeGetLink:(0,b.signal)(h),setEmbed:(0,b.signal)(m)})(a=(0,j.default)(k.default)(a=(0,E.default)(C.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(T,y.default),o(T,[{key:"onShareLinkCopy",value:function(e){(0,this.props.copyLink)({content:e})}},{key:"onCopyClick",value:function(e){this.props.onCopyClick&&this.props.onCopyClick(),this.copyUrlLink(e)}},{key:"copyUrlLink",value:function(e){this.setState({urlCopied:!0}),this.onShareLinkCopy(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.currentHost,a=t.currentPath,o=t.showGetLink,r="https://"+n+a;return g.default.createElement(w.default,{open:o,position:"center",onCloseModal:function(){return e.onClose()}},g.default.createElement("div",{className:this.ss("content")},g.default.createElement("button",{className:this.ss("button-close"),onClick:function(){return e.onClose()}},g.default.createElement("div",{className:this.ss("close","ifont","ifont-ic_close")})),g.default.createElement("div",{className:this.ss("share-content","sub-content")},g.default.createElement("div",{className:this.ss("share","title")},this.__("link")),g.default.createElement("div",{className:this.ss("share-link-wrapper")},g.default.createElement("div",{className:this.ss("link")},r),g.default.createElement("a",{className:this.ss("copy",this.state.urlCopied&&"copied"),onClick:function(){return e.onCopyClick(r)}},this.state.urlCopied?this.__("copied"):this.__("copy"))))))}}]),T.propTypes={currentHost:_.default.string,currentPath:_.default.string,contentMap:_.default.object,contentIds:_.default.array,embedShow:_.default.bool,showGetLink:_.default.bool,copyLink:_.default.func,closeGetLink:_.default.func,setEmbed:_.default.func,onCopyClick:_.default.func},a=T))||a)||a)||a;function T(){var e,t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,T);for(var a=arguments.length,o=Array(a),r=0;r<a;r++)o[r]=arguments[r];return(t=n=O(this,(e=T.__proto__||Object.getPrototypeOf(T)).call.apply(e,[this].concat(o)))).state={},n.onClose=function(){n.props.closeGetLink&&n.props.closeGetLink(),n.setState({urlCopied:!1})},O(n,t)}t.default=P},function(e,t){e.exports={"share-title":"share-title_2hsZ9oOE","share-items":"share-items_3o4ID8nk",item:"item_Lh5YVh2y","item-img":"item-img_2V1J3Bwi",content:"content_3ZxtsHe5","sub-content":"sub-content_21zfuddC","button-close":"button-close_2nilwYu9",close:"close_2V-Qr42x",title:"title_cfAtUqZz","share-link-wrapper":"share-link-wrapper_ov4Qbd8Y",link:"link_2ZL7e4zG",copy:"copy_GzFzcjUe",copied:"copied_RpgV_OmS","embed-link":"embed-link_1cC3Su2y","embed-text":"embed-text_xhC-5ch0"}},function(e,t){e.exports={link:"link_2Kge"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(443);var r=[((a=o)&&a.__esModule?a:{default:a}).default];t.default={share:r}},function(e,o,r){"use strict";(function(e){Object.defineProperty(o,"__esModule",{value:!0});var t=Object.freeze(Object.defineProperties(["share.weChatDialog.openId"],{raw:{value:Object.freeze(["share.weChatDialog.openId"])}})),n=r(9),a=r(0);o.default={name:e,depends:[],signals:{openWeChatShareDialog:[function(e){var t=e.state,n=e.props;t.set("share.weChatDialog.openId",n.id)}],closeWeChatShareDialog:[(0,n.set)((0,a.state)(t),"")]},getState:function(){return{weChatDialog:{openId:""}}}}}).call(o,"views/v2/modules/share/WeChatStore.js")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(445);var r=[((a=o)&&a.__esModule?a:{default:a}).default];t.default={connection:r}},function(e,g,v){"use strict";(function(e){Object.defineProperty(g,"__esModule",{value:!0});var t=d(["connection.requestDialogUser"],["connection.requestDialogUser"]),n=d(["user"],["user"]),a=d(["connection.callback"],["connection.callback"]),o=d(["callback"],["callback"]),r=v(9),l=v(21),s=v(0),c=u(v(19)),i=u(v(7));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function p(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var f,h,m=["connection","relationshipRequestForm"];function _(a){return function(e){var t=e.state,n=e.props;t.set("connection.relationshipStatus."+n.userId,a)}}g.default={name:e,depends:[],signals:{openRequestDialog:[(0,r.set)((0,s.state)(t),(0,s.props)(n)),(0,r.set)((0,s.state)(a),(0,s.props)(o)),function(e){e.controller.getSignal("connection.openRelationshipRequestDialog")()}],requestRelationship:[_(i.default.inProgress),[function(e){var t=e.props,n=e.http,a=e.path,o=e.state,r=t.userId,s=t.defaultGreeting,i=o.get(m);return(0,l.isValidForm)(i)?n.post("/api/relationships/"+r+"/request",{content:i.message.value||s}).then(a.success).catch(a.error):a.dummy()},{success:[function(e){var t,n,a=e.state,o=e.props,r=e.controller,s=o.userId,i=o.result,l=a.get("connection.callback");l?(t=r.getSignal(l))&&t({userId:s,result:i}):r.getSignal("connection.syncRelationshipResult")(o),r.getSignal("connection.closeRelationshipRequestDialog")(),o.needRedirect&&((n=v(40)).set("connections.op","sent"),n.set("connections.sent",s),(0,c.default)("/connections/all?tab=sent"))},_(i.default.succeeded)],error:[_(i.default.failed)],dummy:[_(i.default.failed)]}]],acceptRelationship:[_(i.default.inProgress),[function(e){var t=e.props,n=e.http,a=e.path,o=t.userId;return n.post("/api/relationships/"+o+"/accept",{content:""}).then(a.success).catch(a.error)},{success:[function(e){var t,n,a=e.props;e.controller.getSignal("connection.syncRelationshipResult")(a),a.needRedirect&&(t=a.userId,(n=v(40)).set("connections.op","connections"),n.set("connections.connections",t),(0,c.default)("/connections/all?tab=connections"))},_(i.default.succeeded)],error:[_(i.default.failed)]}]],syncRelationshipResult:[function(e){var t,n,a,o=e.props,r=e.state,s=e.controller,i=o.result;200===o.status&&i&&(r.set("connection.relationship",i),i.channelId&&r.get("currentPath").startsWith("/messages")&&(t=s.getSignal("messages.channelSelect"),n=r.get("messages.channels")||{},a=Object.values(n).find(function(e){return e.id===i.channelId}),t&&a&&t({channelId:a.id,workspaceId:a.workspaceId})))}],openRelationshipRequestDialog:[function(e){e.state.set("connection.relationshipRequestDialogOpen",!0)}],closeRelationshipRequestDialog:[function(e){e.state.set("connection.relationshipRequestDialogOpen",!1)}],changeRelationshipRequestMessage:(f=m,h="message",[function(e){var t=e.props;return{field:[].concat(p(f),[h]),value:t.value,touched:!0}}].concat(p(l.chains.fieldChanged)))},getState:function(e){return{relationship:e.relationship,relationshipRequestDialogOpen:!1,relationshipRequestForm:(0,l.Form)({message:{value:"",validations:["maxLength:300"],errorMessages:["error_maxLength"],isRequired:!1}}),requestDialogUser:{},relationshipStatus:{}}}}}).call(g,"views/v2/modules/connection/RelationshipStore.js")},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n(8)(98)},,function(e,t,n){e.exports=n(8)(161)},function(e,t,n){e.exports=n(8)(120)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){n(145),e.exports=n(1035)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=b(n(111)),o=b(n(247)),r=n(21),s=b(n(249)),i=b(n(146)),l=b(n(149)),c=b(n(156)),u=b(n(157)),d=b(n(172)),p=b(n(183)),f=b(n(168)),h=b(n(1036)),m=b(n(261)),_=b(n(442)),g=b(n(444)),v=b(n(184));function b(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.default)({modules:[l.default,c.default,u.default,d.default,h.default,p.default,r.Forms,f.default,v.default,o.default,s.default,m.default,_.default,g.default],component:a.default})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=E(n(251)),o=E(n(1037)),r=E(n(252)),s=E(n(253)),i=E(n(254)),l=E(n(255)),c=E(n(176)),u=E(n(175)),d=E(n(174)),p=E(n(181)),f=E(n(182)),h=E(n(256)),m=E(n(257)),_=E(n(258)),g=E(n(259)),v=E(n(84)),b=E(n(260)),y=E(n(180)),w=E(n(177)),j=E(n(173)),k=E(n(1038));function E(e){return e&&e.__esModule?e:{default:e}}var C=[a.default,r.default,s.default,i.default,l.default,c.default,u.default,d.default,p.default,f.default,h.default,m.default,_.default,g.default,v.default,b.default,y.default,o.default,w.default,j.default,k.default];t.default={project:C}},function(e,a,o){"use strict";(function(e){Object.defineProperty(a,"__esModule",{value:!0});var t,n=o(178),i=(t=n)&&t.__esModule?t:{default:t};a.default={name:e,depends:[],signals:{getBody:[function(e){var t,n,a,o,r=e.state,s=i.default.getEditorState(r,"editorBody");s&&(n=(t=s.getCurrentContent()).getLastCreatedEntityKey(),!(a=t.getEntity(n))||(o=a.getData())&&o.contents&&r.set("project.contentLength",o.contents.length))}],publishWebgl:[function(e){var t=e.state,n=e.controller,a=i.default.getEditorState(t,"editorTitle");a&&(0<a.getCurrentContent().getPlainText().replace(/\s+/g,"").length?n.getSignal("project.onPublish")({formPath:["project","prePost","form"]}):t.set("project.warning.title",!0))}]},getServices:function(){},getState:function(){return{contentLength:0,warning:{title:!1}}}}}).call(a,"views/v2/modules/projectV2/webglDetailStore.js")},function(e,f,h){"use strict";(function(e){Object.defineProperty(f,"__esModule",{value:!0});var t,n=p(["project.madeWith.searchStatus"],["project.madeWith.searchStatus"]),a=p(["project.madeWith.addMadeWithStatus"],["project.madeWith.addMadeWithStatus"]),o=p(["project.madeWith.deleteMadeWithStatus"],["project.madeWith.deleteMadeWithStatus"]),r=p(["project.madeWith.value"],["project.madeWith.value"]),s=p(["value"],["value"]),i=p(["project.madeWith.searchType"],["project.madeWith.searchType"]),l=h(9),c=h(0),u=h(7),d=(t=u)&&t.__esModule?t:{default:t};function p(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}f.default={name:e,depends:[],signals:{INITIAL_DATA:[function(e){var t=e.state,n=e.http,a=e.path,o=t.get("project.projectData"),r=o.id;return"webgl"===o.type?n.get("/api/p/"+r+"/madeWith").then(a.success).catch(a.error):a.dummy()},{success:[function(e){var t=e.state,n=e.props.result;t.set("project.madeWith.items",n)}],dummy:[]}],searchAssets:[(0,l.set)((0,c.state)(n),d.default.inProgress),[function(e){var t=e.state,n=e.http,a=e.path,o=t.get("project.madeWith.value"),r=["q:"+o];return n.get("/api/asset/packages/search",{k:JSON.stringify(r),q:o}).then(a.success).catch(a.error)},{success:[(0,l.set)((0,c.state)(n),d.default.succeeded),function(e){var t=e.state,n=e.props.result.packages;t.set("project.madeWith.candidates",n)}],error:[(0,l.set)((0,c.state)(n),d.default.failed)]}]],addMadeWith:[(0,l.set)((0,c.state)(a),d.default.inProgress),function(e){var t=e.props,n=e.state,a=e.path,o=e.controller,r=t.refId;return 0<=n.get("project.madeWith.items").findIndex(function(e){return e.refId===r})?(o.getSignal("header.showMessage")({message:"Already exists!"}),a.no()):a.yes()},{yes:[function(e){var t=e.state,n=e.props,a=n.title,o=n.image,r=n.url,s=n.refId,i=n.type;t.push("project.madeWith.items",{title:a,image:o,url:r,refId:s,type:i})},[function(e){var t=e.props,n=e.state,a=e.http,o=e.path,r=n.get("project.projectData.id"),s=t.title,i=t.image,l=t.url,c=t.refId,u=t.type;return a.post("/api/p/"+r+"/madeWith",{title:s,image:i,url:l,refId:c,type:u}).then(o.success).catch(o.error)},{success:[(0,l.set)((0,c.state)(a),d.default.succeeded)],error:[(0,l.set)((0,c.state)(a),d.default.failed)]}]],no:[]}],deleteMadeWith:[(0,l.set)((0,c.state)(o),d.default.inProgress),function(e){var t=e.state,n=e.props.refId,a=t.get("project.madeWith.items"),o=a.findIndex(function(e){return e.refId===n}),r=a[o].type;return t.splice("project.madeWith.items",o,1),{type:r}},[function(e){var t=e.props,n=e.state,a=e.http,o=e.path,r=n.get("project.projectData.id"),s=t.refId,i=t.type;return a.delete("/api/p/"+r+"/madeWith",{refId:s,type:i}).then(o.success).catch(o.error)},{success:[(0,l.set)((0,c.state)(o),d.default.succeeded)],error:[(0,l.set)((0,c.state)(o),d.default.failed)]}]],changeSearchValue:[(0,l.set)((0,c.state)(r),(0,c.props)(s)),function(e){var t=e.props,n=e.state;t.value||n.set("project.madeWith.candidates",[])}],changeSearchType:[(0,l.set)((0,c.state)(i),(0,c.props)(s))]},getState:function(){return{madeWith:{searchType:"asset_store",items:[],value:"",candidates:[]}}}}}).call(f,"views/v2/modules/projectV2/ProjectMadeWith.js")}],[1034]);